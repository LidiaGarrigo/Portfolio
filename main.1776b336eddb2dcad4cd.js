(window.webpackJsonp=window.webpackJsonp||[]).push([[1],{"/6Yf":function(t,e,n){"use strict";n.d(e,"a",function(){return s}),n.d(e,"b",function(){return u});var r=n("os0x"),i=n("qOnz"),s=function(){function t(t,e,n){this.name=t,this.instanceFactory=e,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY"}return t.prototype.setInstantiationMode=function(t){return this.instantiationMode=t,this},t.prototype.setMultipleInstances=function(t){return this.multipleInstances=t,this},t.prototype.setServiceProps=function(t){return this.serviceProps=t,this},t}(),o="[DEFAULT]",a=function(){function t(t,e){this.name=t,this.container=e,this.component=null,this.instances=new Map,this.instancesDeferred=new Map}return t.prototype.get=function(t){void 0===t&&(t=o);var e=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(e)){var n=new i.a;this.instancesDeferred.set(e,n);try{var r=this.getOrInitializeService(e);r&&n.resolve(r)}catch(s){}}return this.instancesDeferred.get(e).promise},t.prototype.getImmediate=function(t){var e=Object(r.a)({identifier:o,optional:!1},t),n=e.optional,i=this.normalizeInstanceIdentifier(e.identifier);try{var s=this.getOrInitializeService(i);if(!s){if(n)return null;throw Error("Service "+this.name+" is not available")}return s}catch(a){if(n)return null;throw a}},t.prototype.getComponent=function(){return this.component},t.prototype.setComponent=function(t){var e,n;if(t.name!==this.name)throw Error("Mismatching Component "+t.name+" for Provider "+this.name+".");if(this.component)throw Error("Component for "+this.name+" has already been provided");if(this.component=t,function(t){return"EAGER"===t.instantiationMode}(t))try{this.getOrInitializeService(o)}catch(h){}try{for(var i=Object(r.h)(this.instancesDeferred.entries()),s=i.next();!s.done;s=i.next()){var a=Object(r.e)(s.value,2),u=a[1],c=this.normalizeInstanceIdentifier(a[0]);try{var l=this.getOrInitializeService(c);u.resolve(l)}catch(h){}}}catch(f){e={error:f}}finally{try{s&&!s.done&&(n=i.return)&&n.call(i)}finally{if(e)throw e.error}}},t.prototype.clearInstance=function(t){void 0===t&&(t=o),this.instancesDeferred.delete(t),this.instances.delete(t)},t.prototype.delete=function(){return Object(r.b)(this,void 0,void 0,function(){var t;return Object(r.d)(this,function(e){switch(e.label){case 0:return t=Array.from(this.instances.values()),[4,Promise.all(Object(r.f)(t.filter(function(t){return"INTERNAL"in t}).map(function(t){return t.INTERNAL.delete()}),t.filter(function(t){return"_delete"in t}).map(function(t){return t._delete()})))];case 1:return e.sent(),[2]}})})},t.prototype.isComponentSet=function(){return null!=this.component},t.prototype.getOrInitializeService=function(t){var e=this.instances.get(t);return!e&&this.component&&(e=this.component.instanceFactory(this.container,function(t){return t===o?void 0:t}(t)),this.instances.set(t,e)),e||null},t.prototype.normalizeInstanceIdentifier=function(t){return this.component?this.component.multipleInstances?t:o:t},t}(),u=function(){function t(t){this.name=t,this.providers=new Map}return t.prototype.addComponent=function(t){var e=this.getProvider(t.name);if(e.isComponentSet())throw new Error("Component "+t.name+" has already been registered with "+this.name);e.setComponent(t)},t.prototype.addOrOverwriteComponent=function(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)},t.prototype.getProvider=function(t){if(this.providers.has(t))return this.providers.get(t);var e=new a(t,this);return this.providers.set(t,e),e},t.prototype.getProviders=function(){return Array.from(this.providers.values())},t}()},0:function(t,e,n){t.exports=n("zUnb")},"2QA8":function(t,e,n){"use strict";n.d(e,"a",function(){return r});const r=(()=>"function"==typeof Symbol?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random())()},"2fFW":function(t,e,n){"use strict";n.d(e,"a",function(){return i});let r=!1;const i={Promise:void 0,set useDeprecatedSynchronousErrorHandling(t){if(t){const t=new Error;console.warn("DEPRECATED! RxJS was set to use deprecated synchronous error handling behavior by code at: \n"+t.stack)}else r&&console.log("RxJS: Back to a better error behavior. Thank you. <3");r=t},get useDeprecatedSynchronousErrorHandling(){return r}}},"3N8a":function(t,e,n){"use strict";n.d(e,"a",function(){return s});var r=n("quSY");class i extends r.a{constructor(t,e){super()}schedule(t,e=0){return this}}class s extends i{constructor(t,e){super(t,e),this.scheduler=t,this.work=e,this.pending=!1}schedule(t,e=0){if(this.closed)return this;this.state=t;const n=this.id,r=this.scheduler;return null!=n&&(this.id=this.recycleAsyncId(r,n,e)),this.pending=!0,this.delay=e,this.id=this.id||this.requestAsyncId(r,this.id,e),this}requestAsyncId(t,e,n=0){return setInterval(t.flush.bind(t,this),n)}recycleAsyncId(t,e,n=0){if(null!==n&&this.delay===n&&!1===this.pending)return e;clearInterval(e)}execute(t,e){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const n=this._execute(t,e);if(n)return n;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(t,e){let n=!1,r=void 0;try{this.work(t)}catch(i){n=!0,r=!!i&&i||new Error(i)}if(n)return this.unsubscribe(),r}_unsubscribe(){const t=this.id,e=this.scheduler,n=e.actions,r=n.indexOf(this);this.work=null,this.state=null,this.pending=!1,this.scheduler=null,-1!==r&&n.splice(r,1),null!=t&&(this.id=this.recycleAsyncId(e,t,null)),this.delay=null}}},"3UD+":function(t,e){t.exports=function(t){if(!t.webpackPolyfill){var e=Object.create(t);e.children||(e.children=[]),Object.defineProperty(e,"loaded",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,"id",{enumerable:!0,get:function(){return e.i}}),Object.defineProperty(e,"exports",{enumerable:!0}),e.webpackPolyfill=1}return e}},"5+tZ":function(t,e,n){"use strict";n.d(e,"a",function(){return o});var r=n("lJxs"),i=n("Cfvw"),s=n("zx2A");function o(t,e,n=Number.POSITIVE_INFINITY){return"function"==typeof e?s=>s.pipe(o((n,s)=>Object(i.a)(t(n,s)).pipe(Object(r.a)((t,r)=>e(n,t,s,r))),n)):("number"==typeof e&&(n=e),e=>e.lift(new a(t,n)))}class a{constructor(t,e=Number.POSITIVE_INFINITY){this.project=t,this.concurrent=e}call(t,e){return e.subscribe(new u(t,this.project,this.concurrent))}}class u extends s.b{constructor(t,e,n=Number.POSITIVE_INFINITY){super(t),this.project=e,this.concurrent=n,this.hasCompleted=!1,this.buffer=[],this.active=0,this.index=0}_next(t){this.active<this.concurrent?this._tryNext(t):this.buffer.push(t)}_tryNext(t){let e;const n=this.index++;try{e=this.project(t,n)}catch(r){return void this.destination.error(r)}this.active++,this._innerSub(e)}_innerSub(t){const e=new s.a(this),n=this.destination;n.add(e);const r=Object(s.c)(t,e);r!==e&&n.add(r)}_complete(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&this.destination.complete(),this.unsubscribe()}notifyNext(t){this.destination.next(t)}notifyComplete(){const t=this.buffer;this.active--,t.length>0?this._next(t.shift()):0===this.active&&this.hasCompleted&&this.destination.complete()}}},"7o/Q":function(t,e,n){"use strict";n.d(e,"a",function(){return c});var r=n("n6bG"),i=n("gRHU"),s=n("quSY"),o=n("2QA8"),a=n("2fFW"),u=n("NJ4a");class c extends s.a{constructor(t,e,n){switch(super(),this.syncErrorValue=null,this.syncErrorThrown=!1,this.syncErrorThrowable=!1,this.isStopped=!1,arguments.length){case 0:this.destination=i.a;break;case 1:if(!t){this.destination=i.a;break}if("object"==typeof t){t instanceof c?(this.syncErrorThrowable=t.syncErrorThrowable,this.destination=t,t.add(this)):(this.syncErrorThrowable=!0,this.destination=new l(this,t));break}default:this.syncErrorThrowable=!0,this.destination=new l(this,t,e,n)}}[o.a](){return this}static create(t,e,n){const r=new c(t,e,n);return r.syncErrorThrowable=!1,r}next(t){this.isStopped||this._next(t)}error(t){this.isStopped||(this.isStopped=!0,this._error(t))}complete(){this.isStopped||(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe())}_next(t){this.destination.next(t)}_error(t){this.destination.error(t),this.unsubscribe()}_complete(){this.destination.complete(),this.unsubscribe()}_unsubscribeAndRecycle(){const{_parentOrParents:t}=this;return this._parentOrParents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parentOrParents=t,this}}class l extends c{constructor(t,e,n,s){let o;super(),this._parentSubscriber=t;let a=this;Object(r.a)(e)?o=e:e&&(o=e.next,n=e.error,s=e.complete,e!==i.a&&(a=Object.create(e),Object(r.a)(a.unsubscribe)&&this.add(a.unsubscribe.bind(a)),a.unsubscribe=this.unsubscribe.bind(this))),this._context=a,this._next=o,this._error=n,this._complete=s}next(t){if(!this.isStopped&&this._next){const{_parentSubscriber:e}=this;a.a.useDeprecatedSynchronousErrorHandling&&e.syncErrorThrowable?this.__tryOrSetError(e,this._next,t)&&this.unsubscribe():this.__tryOrUnsub(this._next,t)}}error(t){if(!this.isStopped){const{_parentSubscriber:e}=this,{useDeprecatedSynchronousErrorHandling:n}=a.a;if(this._error)n&&e.syncErrorThrowable?(this.__tryOrSetError(e,this._error,t),this.unsubscribe()):(this.__tryOrUnsub(this._error,t),this.unsubscribe());else if(e.syncErrorThrowable)n?(e.syncErrorValue=t,e.syncErrorThrown=!0):Object(u.a)(t),this.unsubscribe();else{if(this.unsubscribe(),n)throw t;Object(u.a)(t)}}}complete(){if(!this.isStopped){const{_parentSubscriber:t}=this;if(this._complete){const e=()=>this._complete.call(this._context);a.a.useDeprecatedSynchronousErrorHandling&&t.syncErrorThrowable?(this.__tryOrSetError(t,e),this.unsubscribe()):(this.__tryOrUnsub(e),this.unsubscribe())}else this.unsubscribe()}}__tryOrUnsub(t,e){try{t.call(this._context,e)}catch(n){if(this.unsubscribe(),a.a.useDeprecatedSynchronousErrorHandling)throw n;Object(u.a)(n)}}__tryOrSetError(t,e,n){if(!a.a.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{e.call(this._context,n)}catch(r){return a.a.useDeprecatedSynchronousErrorHandling?(t.syncErrorValue=r,t.syncErrorThrown=!0,!0):(Object(u.a)(r),!0)}return!1}_unsubscribe(){const{_parentSubscriber:t}=this;this._context=null,this._parentSubscriber=null,t.unsubscribe()}}},"9ppp":function(t,e,n){"use strict";n.d(e,"a",function(){return r});const r=(()=>{function t(){return Error.call(this),this.message="object unsubscribed",this.name="ObjectUnsubscribedError",this}return t.prototype=Object.create(Error.prototype),t})()},Cfvw:function(t,e,n){"use strict";n.d(e,"a",function(){return h});var r=n("HDdC"),i=n("SeVD"),s=n("quSY"),o=n("kJWO"),a=n("jZKg"),u=n("Lhse"),c=n("c2HN"),l=n("I55L");function h(t,e){return e?function(t,e){if(null!=t){if(function(t){return t&&"function"==typeof t[o.a]}(t))return function(t,e){return new r.a(n=>{const r=new s.a;return r.add(e.schedule(()=>{const i=t[o.a]();r.add(i.subscribe({next(t){r.add(e.schedule(()=>n.next(t)))},error(t){r.add(e.schedule(()=>n.error(t)))},complete(){r.add(e.schedule(()=>n.complete()))}}))})),r})}(t,e);if(Object(c.a)(t))return function(t,e){return new r.a(n=>{const r=new s.a;return r.add(e.schedule(()=>t.then(t=>{r.add(e.schedule(()=>{n.next(t),r.add(e.schedule(()=>n.complete()))}))},t=>{r.add(e.schedule(()=>n.error(t)))}))),r})}(t,e);if(Object(l.a)(t))return Object(a.a)(t,e);if(function(t){return t&&"function"==typeof t[u.a]}(t)||"string"==typeof t)return function(t,e){if(!t)throw new Error("Iterable cannot be null");return new r.a(n=>{const r=new s.a;let i;return r.add(()=>{i&&"function"==typeof i.return&&i.return()}),r.add(e.schedule(()=>{i=t[u.a](),r.add(e.schedule(function(){if(n.closed)return;let t,e;try{const n=i.next();t=n.value,e=n.done}catch(r){return void n.error(r)}e?n.complete():(n.next(t),this.schedule())}))})),r})}(t,e)}throw new TypeError((null!==t&&typeof t||t)+" is not observable")}(t,e):t instanceof r.a?t:new r.a(Object(i.a)(t))}},D0XW:function(t,e,n){"use strict";n.d(e,"a",function(){return i});var r=n("3N8a");const i=new(n("IjjT").a)(r.a)},DH7j:function(t,e,n){"use strict";n.d(e,"a",function(){return r});const r=(()=>Array.isArray||(t=>t&&"number"==typeof t.length))()},EY2u:function(t,e,n){"use strict";n.d(e,"a",function(){return i}),n.d(e,"b",function(){return s});var r=n("HDdC");const i=new r.a(t=>t.complete());function s(t){return t?function(t){return new r.a(e=>t.schedule(()=>e.complete()))}(t):i}},HDdC:function(t,e,n){"use strict";n.d(e,"a",function(){return c});var r=n("7o/Q"),i=n("2QA8"),s=n("gRHU"),o=n("kJWO"),a=n("SpAZ"),u=n("2fFW");let c=(()=>{class t{constructor(t){this._isScalar=!1,t&&(this._subscribe=t)}lift(e){const n=new t;return n.source=this,n.operator=e,n}subscribe(t,e,n){const{operator:o}=this,a=function(t,e,n){if(t){if(t instanceof r.a)return t;if(t[i.a])return t[i.a]()}return t||e||n?new r.a(t,e,n):new r.a(s.a)}(t,e,n);if(a.add(o?o.call(a,this.source):this.source||u.a.useDeprecatedSynchronousErrorHandling&&!a.syncErrorThrowable?this._subscribe(a):this._trySubscribe(a)),u.a.useDeprecatedSynchronousErrorHandling&&a.syncErrorThrowable&&(a.syncErrorThrowable=!1,a.syncErrorThrown))throw a.syncErrorValue;return a}_trySubscribe(t){try{return this._subscribe(t)}catch(e){u.a.useDeprecatedSynchronousErrorHandling&&(t.syncErrorThrown=!0,t.syncErrorValue=e),function(t){for(;t;){const{closed:e,destination:n,isStopped:i}=t;if(e||i)return!1;t=n&&n instanceof r.a?n:null}return!0}(t)?t.error(e):console.warn(e)}}forEach(t,e){return new(e=l(e))((e,n)=>{let r;r=this.subscribe(e=>{try{t(e)}catch(i){n(i),r&&r.unsubscribe()}},n,e)})}_subscribe(t){const{source:e}=this;return e&&e.subscribe(t)}[o.a](){return this}pipe(...t){return 0===t.length?this:(0===(e=t).length?a.a:1===e.length?e[0]:function(t){return e.reduce((t,e)=>e(t),t)})(this);var e}toPromise(t){return new(t=l(t))((t,e)=>{let n;this.subscribe(t=>n=t,t=>e(t),()=>t(n))})}}return t.create=e=>new t(e),t})();function l(t){if(t||(t=u.a.Promise||Promise),!t)throw new Error("no Promise impl found");return t}},I55L:function(t,e,n){"use strict";n.d(e,"a",function(){return r});const r=t=>t&&"number"==typeof t.length&&"function"!=typeof t},IjjT:function(t,e,n){"use strict";n.d(e,"a",function(){return i});let r=(()=>{class t{constructor(e,n=t.now){this.SchedulerAction=e,this.now=n}schedule(t,e=0,n){return new this.SchedulerAction(this,t).schedule(n,e)}}return t.now=()=>Date.now(),t})();class i extends r{constructor(t,e=r.now){super(t,()=>i.delegate&&i.delegate!==this?i.delegate.now():e()),this.actions=[],this.active=!1,this.scheduled=void 0}schedule(t,e=0,n){return i.delegate&&i.delegate!==this?i.delegate.schedule(t,e,n):super.schedule(t,e,n)}flush(t){const{actions:e}=this;if(this.active)return void e.push(t);let n;this.active=!0;do{if(n=t.execute(t.state,t.delay))break}while(t=e.shift());if(this.active=!1,n){for(;t=e.shift();)t.unsubscribe();throw n}}}},Jgta:function(t,e,n){"use strict";var r=n("zIRd");n.d(e,"a",function(){return r.a}),r.a.registerVersion("firebase","8.2.1","app")},LRne:function(t,e,n){"use strict";n.d(e,"a",function(){return o});var r=n("z+Ro"),i=n("yCtX"),s=n("jZKg");function o(...t){let e=t[t.length-1];return Object(r.a)(e)?(t.pop(),Object(s.a)(t,e)):Object(i.a)(t)}},Lhse:function(t,e,n){"use strict";function r(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}n.d(e,"a",function(){return i});const i=r()},NJ4a:function(t,e,n){"use strict";function r(t){setTimeout(()=>{throw t},0)}n.d(e,"a",function(){return r})},SeVD:function(t,e,n){"use strict";n.d(e,"a",function(){return l});var r=n("ngJS"),i=n("NJ4a"),s=n("Lhse"),o=n("kJWO"),a=n("I55L"),u=n("c2HN"),c=n("XoHu");const l=t=>{if(t&&"function"==typeof t[o.a])return l=t,t=>{const e=l[o.a]();if("function"!=typeof e.subscribe)throw new TypeError("Provided object does not correctly implement Symbol.observable");return e.subscribe(t)};if(Object(a.a)(t))return Object(r.a)(t);if(Object(u.a)(t))return n=t,t=>(n.then(e=>{t.closed||(t.next(e),t.complete())},e=>t.error(e)).then(null,i.a),t);if(t&&"function"==typeof t[s.a])return e=t,t=>{const n=e[s.a]();for(;;){let e;try{e=n.next()}catch(r){return t.error(r),t}if(e.done){t.complete();break}if(t.next(e.value),t.closed)break}return"function"==typeof n.return&&t.add(()=>{n.return&&n.return()}),t};{const e=Object(c.a)(t)?"an invalid object":`'${t}'`;throw new TypeError(`You provided ${e} where a stream was expected. You can provide an Observable, Promise, Array, or Iterable.`)}var e,n,l}},SpAZ:function(t,e,n){"use strict";function r(t){return t}n.d(e,"a",function(){return r})},VRyK:function(t,e,n){"use strict";n.d(e,"a",function(){return a});var r=n("HDdC"),i=n("z+Ro"),s=n("bHdf"),o=n("yCtX");function a(...t){let e=Number.POSITIVE_INFINITY,n=null,a=t[t.length-1];return Object(i.a)(a)?(n=t.pop(),t.length>1&&"number"==typeof t[t.length-1]&&(e=t.pop())):"number"==typeof a&&(e=t.pop()),null===n&&1===t.length&&t[0]instanceof r.a?t[0]:Object(s.a)(e)(Object(o.a)(t,n))}},XNiG:function(t,e,n){"use strict";n.d(e,"b",function(){return c}),n.d(e,"a",function(){return l});var r=n("HDdC"),i=n("7o/Q"),s=n("quSY"),o=n("9ppp"),a=n("Ylt2"),u=n("2QA8");class c extends i.a{constructor(t){super(t),this.destination=t}}let l=(()=>{class t extends r.a{constructor(){super(),this.observers=[],this.closed=!1,this.isStopped=!1,this.hasError=!1,this.thrownError=null}[u.a](){return new c(this)}lift(t){const e=new h(this,this);return e.operator=t,e}next(t){if(this.closed)throw new o.a;if(!this.isStopped){const{observers:e}=this,n=e.length,r=e.slice();for(let i=0;i<n;i++)r[i].next(t)}}error(t){if(this.closed)throw new o.a;this.hasError=!0,this.thrownError=t,this.isStopped=!0;const{observers:e}=this,n=e.length,r=e.slice();for(let i=0;i<n;i++)r[i].error(t);this.observers.length=0}complete(){if(this.closed)throw new o.a;this.isStopped=!0;const{observers:t}=this,e=t.length,n=t.slice();for(let r=0;r<e;r++)n[r].complete();this.observers.length=0}unsubscribe(){this.isStopped=!0,this.closed=!0,this.observers=null}_trySubscribe(t){if(this.closed)throw new o.a;return super._trySubscribe(t)}_subscribe(t){if(this.closed)throw new o.a;return this.hasError?(t.error(this.thrownError),s.a.EMPTY):this.isStopped?(t.complete(),s.a.EMPTY):(this.observers.push(t),new a.a(this,t))}asObservable(){const t=new r.a;return t.source=this,t}}return t.create=(t,e)=>new h(t,e),t})();class h extends l{constructor(t,e){super(),this.destination=t,this.source=e}next(t){const{destination:e}=this;e&&e.next&&e.next(t)}error(t){const{destination:e}=this;e&&e.error&&this.destination.error(t)}complete(){const{destination:t}=this;t&&t.complete&&this.destination.complete()}_subscribe(t){const{source:e}=this;return e?this.source.subscribe(t):s.a.EMPTY}}},XoHu:function(t,e,n){"use strict";function r(t){return null!==t&&"object"==typeof t}n.d(e,"a",function(){return r})},Ylt2:function(t,e,n){"use strict";n.d(e,"a",function(){return i});var r=n("quSY");class i extends r.a{constructor(t,e){super(),this.subject=t,this.subscriber=e,this.closed=!1}unsubscribe(){if(this.closed)return;this.closed=!0;const t=this.subject,e=t.observers;if(this.subject=null,!e||0===e.length||t.isStopped||t.closed)return;const n=e.indexOf(this.subscriber);-1!==n&&e.splice(n,1)}}},bHdf:function(t,e,n){"use strict";n.d(e,"a",function(){return s});var r=n("5+tZ"),i=n("SpAZ");function s(t=Number.POSITIVE_INFINITY){return Object(r.a)(i.a,t)}},c2HN:function(t,e,n){"use strict";function r(t){return!!t&&"function"!=typeof t.subscribe&&"function"==typeof t.then}n.d(e,"a",function(){return r})},fXoL:function(t,e,n){"use strict";n.d(e,"a",function(){return on}),n.d(e,"b",function(){return Ya}),n.d(e,"c",function(){return $a}),n.d(e,"d",function(){return Ba}),n.d(e,"e",function(){return Ga}),n.d(e,"f",function(){return Bu}),n.d(e,"g",function(){return Ru}),n.d(e,"h",function(){return Yo}),n.d(e,"i",function(){return cu}),n.d(e,"j",function(){return Co}),n.d(e,"k",function(){return eu}),n.d(e,"l",function(){return Ao}),n.d(e,"m",function(){return vr}),n.d(e,"n",function(){return xa}),n.d(e,"o",function(){return Yi}),n.d(e,"p",function(){return gn}),n.d(e,"q",function(){return sn}),n.d(e,"r",function(){return ps}),n.d(e,"s",function(){return Go}),n.d(e,"t",function(){return $o}),n.d(e,"u",function(){return tu}),n.d(e,"v",function(){return ca}),n.d(e,"w",function(){return Mu}),n.d(e,"x",function(){return ua}),n.d(e,"y",function(){return ju}),n.d(e,"z",function(){return fu}),n.d(e,"A",function(){return mn}),n.d(e,"B",function(){return Za}),n.d(e,"C",function(){return Qa}),n.d(e,"D",function(){return ko}),n.d(e,"E",function(){return jo}),n.d(e,"F",function(){return Er}),n.d(e,"G",function(){return Po}),n.d(e,"H",function(){return dr}),n.d(e,"I",function(){return vn}),n.d(e,"J",function(){return Uu}),n.d(e,"K",function(){return ia}),n.d(e,"L",function(){return bu}),n.d(e,"M",function(){return an}),n.d(e,"N",function(){return Ro}),n.d(e,"O",function(){return Do}),n.d(e,"P",function(){return ha}),n.d(e,"Q",function(){return F}),n.d(e,"R",function(){return ku}),n.d(e,"S",function(){return xu}),n.d(e,"T",function(){return _}),n.d(e,"U",function(){return Iu}),n.d(e,"V",function(){return zu}),n.d(e,"W",function(){return Eu}),n.d(e,"X",function(){return Xa}),n.d(e,"Y",function(){return ts}),n.d(e,"Z",function(){return lo}),n.d(e,"ab",function(){return hr}),n.d(e,"bb",function(){return Wn}),n.d(e,"cb",function(){return Mn}),n.d(e,"db",function(){return Vn}),n.d(e,"eb",function(){return zn}),n.d(e,"fb",function(){return qn}),n.d(e,"gb",function(){return Un}),n.d(e,"hb",function(){return Hn}),n.d(e,"ib",function(){return oo}),n.d(e,"jb",function(){return Hu}),n.d(e,"kb",function(){return ao}),n.d(e,"lb",function(){return uo}),n.d(e,"mb",function(){return Fn}),n.d(e,"nb",function(){return z}),n.d(e,"ob",function(){return Os}),n.d(e,"pb",function(){return Ms}),n.d(e,"qb",function(){return Ls}),n.d(e,"rb",function(){return so}),n.d(e,"sb",function(){return kt}),n.d(e,"tb",function(){return y}),n.d(e,"ub",function(){return Ln}),n.d(e,"vb",function(){return ms}),n.d(e,"wb",function(){return Ct}),n.d(e,"xb",function(){return Eo}),n.d(e,"yb",function(){return ii}),n.d(e,"zb",function(){return Is}),n.d(e,"Ab",function(){return $s}),n.d(e,"Bb",function(){return qa}),n.d(e,"Cb",function(){return tt}),n.d(e,"Db",function(){return at}),n.d(e,"Eb",function(){return O}),n.d(e,"Fb",function(){return S}),n.d(e,"Gb",function(){return it}),n.d(e,"Hb",function(){return ut}),n.d(e,"Ib",function(){return js}),n.d(e,"Jb",function(){return Rs}),n.d(e,"Kb",function(){return Ds}),n.d(e,"Lb",function(){return Ps}),n.d(e,"Mb",function(){return tn}),n.d(e,"Nb",function(){return eo}),n.d(e,"Ob",function(){return In}),n.d(e,"Pb",function(){return en}),n.d(e,"Qb",function(){return Ka}),n.d(e,"Rb",function(){return Fs}),n.d(e,"Sb",function(){return Ha}),n.d(e,"Tb",function(){return qs}),n.d(e,"Ub",function(){return ks}),n.d(e,"Vb",function(){return Hs}),n.d(e,"Wb",function(){return Ta}),n.d(e,"Xb",function(){return Ia}),n.d(e,"Yb",function(){return Ua}),n.d(e,"Zb",function(){return pr}),n.d(e,"ac",function(){return st}),n.d(e,"bc",function(){return As}),n.d(e,"cc",function(){return Ys}),n.d(e,"dc",function(){return Xs}),n.d(e,"ec",function(){return to});var r=n("XNiG"),i=n("quSY"),s=n("HDdC"),o=n("VRyK"),a=n("7o/Q");function u(){return function(t){return t.lift(new c(t))}}class c{constructor(t){this.connectable=t}call(t,e){const{connectable:n}=this;n._refCount++;const r=new l(t,n),i=e.subscribe(r);return r.closed||(r.connection=n.connect()),i}}class l extends a.a{constructor(t,e){super(t),this.connectable=e}_unsubscribe(){const{connectable:t}=this;if(!t)return void(this.connection=null);this.connectable=null;const e=t._refCount;if(e<=0)return void(this.connection=null);if(t._refCount=e-1,e>1)return void(this.connection=null);const{connection:n}=this,r=t._connection;this.connection=null,!r||n&&r!==n||r.unsubscribe()}}class h extends s.a{constructor(t,e){super(),this.source=t,this.subjectFactory=e,this._refCount=0,this._isComplete=!1}_subscribe(t){return this.getSubject().subscribe(t)}getSubject(){const t=this._subject;return t&&!t.isStopped||(this._subject=this.subjectFactory()),this._subject}connect(){let t=this._connection;return t||(this._isComplete=!1,t=this._connection=new i.a,t.add(this.source.subscribe(new d(this.getSubject(),this))),t.closed&&(this._connection=null,t=i.a.EMPTY)),t}refCount(){return u()(this)}}const f=(()=>{const t=h.prototype;return{operator:{value:null},_refCount:{value:0,writable:!0},_subject:{value:null,writable:!0},_connection:{value:null,writable:!0},_subscribe:{value:t._subscribe},_isComplete:{value:t._isComplete,writable:!0},getSubject:{value:t.getSubject},connect:{value:t.connect},refCount:{value:t.refCount}}})();class d extends r.b{constructor(t,e){super(t),this.connectable=e}_error(t){this._unsubscribe(),super._error(t)}_complete(){this.connectable._isComplete=!0,this._unsubscribe(),super._complete()}_unsubscribe(){const t=this.connectable;if(t){this.connectable=null;const e=t._connection;t._refCount=0,t._subject=null,t._connection=null,e&&e.unsubscribe()}}}function p(){return new r.a}function g(t){for(let e in t)if(t[e]===g)return e;throw Error("Could not find renamed property on target object.")}function m(t,e){for(const n in e)e.hasOwnProperty(n)&&!t.hasOwnProperty(n)&&(t[n]=e[n])}function y(t){if("string"==typeof t)return t;if(Array.isArray(t))return"["+t.map(y).join(", ")+"]";if(null==t)return""+t;if(t.overriddenName)return""+t.overriddenName;if(t.name)return""+t.name;const e=t.toString();if(null==e)return""+e;const n=e.indexOf("\n");return-1===n?e:e.substring(0,n)}function v(t,e){return null==t||""===t?null===e?"":e:null==e||""===e?t:t+" "+e}const b=g({__forward_ref__:g});function _(t){return t.__forward_ref__=_,t.toString=function(){return y(this())},t}function w(t){return E(t)?t():t}function E(t){return"function"==typeof t&&t.hasOwnProperty(b)&&t.__forward_ref__===_}function O(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function S(t){return{factory:t.factory,providers:t.providers||[],imports:t.imports||[]}}function C(t){return T(t,x)||T(t,j)}function T(t,e){return t.hasOwnProperty(e)?t[e]:null}function I(t){return t&&(t.hasOwnProperty(A)||t.hasOwnProperty(k))?t[A]:null}const x=g({"\u0275prov":g}),A=g({"\u0275inj":g}),j=g({ngInjectableDef:g}),k=g({ngInjectorDef:g});var N=function(t){return t[t.Default=0]="Default",t[t.Host=1]="Host",t[t.Self=2]="Self",t[t.SkipSelf=4]="SkipSelf",t[t.Optional=8]="Optional",t}({});let P;function D(t){const e=P;return P=t,e}function R(t,e,n){const r=C(t);if(r&&"root"==r.providedIn)return void 0===r.value?r.value=r.factory():r.value;if(n&N.Optional)return null;if(void 0!==e)return e;throw new Error(`Injector: NOT_FOUND [${y(t)}]`)}function L(t){return{toString:t}.toString()}var M=function(t){return t[t.OnPush=0]="OnPush",t[t.Default=1]="Default",t}({}),F=function(t){return t[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",t}({});const V="undefined"!=typeof globalThis&&globalThis,U="undefined"!=typeof window&&window,q="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,H="undefined"!=typeof global&&global,z=V||H||U||q,K={},B=[],G=g({"\u0275cmp":g}),$=g({"\u0275dir":g}),W=g({"\u0275pipe":g}),J=g({"\u0275mod":g}),Q=g({"\u0275loc":g}),Z=g({"\u0275fac":g}),Y=g({__NG_ELEMENT_ID__:g});let X=0;function tt(t){return L(()=>{const e={},n={type:t.type,providersResolver:null,decls:t.decls,vars:t.vars,factory:null,template:t.template||null,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:e,inputs:null,outputs:null,exportAs:t.exportAs||null,onPush:t.changeDetection===M.OnPush,directiveDefs:null,pipeDefs:null,selectors:t.selectors||B,viewQuery:t.viewQuery||null,features:t.features||null,data:t.data||{},encapsulation:t.encapsulation||F.Emulated,id:"c",styles:t.styles||B,_:null,setInput:null,schemas:t.schemas||null,tView:null},r=t.directives,i=t.features,s=t.pipes;return n.id+=X++,n.inputs=ot(t.inputs,e),n.outputs=ot(t.outputs),i&&i.forEach(t=>t(n)),n.directiveDefs=r?()=>("function"==typeof r?r():r).map(et):null,n.pipeDefs=s?()=>("function"==typeof s?s():s).map(nt):null,n})}function et(t){return ct(t)||function(t){return t[$]||null}(t)}function nt(t){return function(t){return t[W]||null}(t)}const rt={};function it(t){const e={type:t.type,bootstrap:t.bootstrap||B,declarations:t.declarations||B,imports:t.imports||B,exports:t.exports||B,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null};return null!=t.id&&L(()=>{rt[t.id]=t.type}),e}function st(t,e){return L(()=>{const n=lt(t,!0);n.declarations=e.declarations||B,n.imports=e.imports||B,n.exports=e.exports||B})}function ot(t,e){if(null==t)return K;const n={};for(const r in t)if(t.hasOwnProperty(r)){let i=t[r],s=i;Array.isArray(i)&&(s=i[1],i=i[0]),n[i]=r,e&&(e[i]=s)}return n}const at=tt;function ut(t){return{type:t.type,name:t.name,factory:null,pure:!1!==t.pure,onDestroy:t.type.prototype.ngOnDestroy||null}}function ct(t){return t[G]||null}function lt(t,e){const n=t[J]||null;if(!n&&!0===e)throw new Error(`Type ${y(t)} does not have '\u0275mod' property.`);return n}const ht=20,ft=10;function dt(t){return Array.isArray(t)&&"object"==typeof t[1]}function pt(t){return Array.isArray(t)&&!0===t[1]}function gt(t){return 0!=(8&t.flags)}function mt(t){return 2==(2&t.flags)}function yt(t){return 1==(1&t.flags)}function vt(t){return null!==t.template}function bt(t,e){return t.hasOwnProperty(Z)?t[Z]:null}class _t extends Error{constructor(t,e){super(function(t,e){return`${t?`NG0${t}: `:""}${e}`}(t,e)),this.code=t}}function wt(t){return"string"==typeof t?t:null==t?"":String(t)}function Et(t){return"function"==typeof t?t.name||t.toString():"object"==typeof t&&null!=t&&"function"==typeof t.type?t.type.name||t.type.toString():wt(t)}function Ot(t,e){const n=e?" in "+e:"";throw new _t("201",`No provider for ${Et(t)} found${n}`)}class St{constructor(t,e,n){this.previousValue=t,this.currentValue=e,this.firstChange=n}isFirstChange(){return this.firstChange}}function Ct(){return Tt}function Tt(t){return t.type.prototype.ngOnChanges&&(t.setInput=xt),It}function It(){const t=At(this),e=null==t?void 0:t.current;if(e){const n=t.previous;if(n===K)t.previous=e;else for(let t in e)n[t]=e[t];t.current=null,this.ngOnChanges(e)}}function xt(t,e,n,r){const i=At(t)||function(t,e){return t.__ngSimpleChanges__=e}(t,{previous:K,current:null}),s=i.current||(i.current={}),o=i.previous,a=this.declaredInputs[n],u=o[a];s[a]=new St(u&&u.currentValue,e,o===K),t[r]=e}function At(t){return t.__ngSimpleChanges__||null}Ct.ngInherit=!0;let jt=void 0;function kt(t){jt=t}function Nt(t){return!!t.listen}const Pt={createRenderer:(t,e)=>void 0!==jt?jt:"undefined"!=typeof document?document:void 0};function Dt(t){for(;Array.isArray(t);)t=t[0];return t}function Rt(t,e){return Dt(e[t])}function Lt(t,e){return Dt(e[t.index])}function Mt(t,e){return t.data[e]}function Ft(t,e){const n=e[t];return dt(n)?n:n[0]}function Vt(t){const e=function(t){return t.__ngContext__||null}(t);return e?Array.isArray(e)?e:e.lView:null}function Ut(t){return 4==(4&t[2])}function qt(t){return 128==(128&t[2])}function Ht(t,e){return null==e?null:t[e]}function zt(t){t[18]=0}function Kt(t,e){t[5]+=e;let n=t,r=t[3];for(;null!==r&&(1===e&&1===n[5]||-1===e&&0===n[5]);)r[5]+=e,n=r,r=r[3]}const Bt={lFrame:he(null),bindingsEnabled:!0,isInCheckNoChangesMode:!1};function Gt(){return Bt.bindingsEnabled}function $t(){return Bt.lFrame.lView}function Wt(){return Bt.lFrame.tView}function Jt(){let t=Qt();for(;null!==t&&64===t.type;)t=t.parent;return t}function Qt(){return Bt.lFrame.currentTNode}function Zt(t,e){const n=Bt.lFrame;n.currentTNode=t,n.isParent=e}function Yt(){return Bt.lFrame.isParent}function Xt(){return Bt.isInCheckNoChangesMode}function te(t){Bt.isInCheckNoChangesMode=t}function ee(){const t=Bt.lFrame;let e=t.bindingRootIndex;return-1===e&&(e=t.bindingRootIndex=t.tView.bindingStartIndex),e}function ne(){return Bt.lFrame.bindingIndex++}function re(t,e){const n=Bt.lFrame;n.bindingIndex=n.bindingRootIndex=t,ie(e)}function ie(t){Bt.lFrame.currentDirectiveIndex=t}function se(){return Bt.lFrame.currentQueryIndex}function oe(t){Bt.lFrame.currentQueryIndex=t}function ae(t){const e=t[1];return 2===e.type?e.declTNode:1===e.type?t[6]:null}function ue(t,e,n){if(n&N.SkipSelf){let r=e,i=t;for(;r=r.parent,!(null!==r||n&N.Host||(r=ae(i),null===r)||(i=i[15],10&r.type)););if(null===r)return!1;e=r,t=i}const r=Bt.lFrame=le();return r.currentTNode=e,r.lView=t,!0}function ce(t){const e=le(),n=t[1];Bt.lFrame=e,e.currentTNode=n.firstChild,e.lView=t,e.tView=n,e.contextLView=t,e.bindingIndex=n.bindingStartIndex,e.inI18n=!1}function le(){const t=Bt.lFrame,e=null===t?null:t.child;return null===e?he(t):e}function he(t){const e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return null!==t&&(t.child=e),e}function fe(){const t=Bt.lFrame;return Bt.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}const de=fe;function pe(){const t=fe();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function ge(){return Bt.lFrame.selectedIndex}function me(t){Bt.lFrame.selectedIndex=t}function ye(){const t=Bt.lFrame;return Mt(t.tView,t.selectedIndex)}function ve(t,e){for(let n=e.directiveStart,r=e.directiveEnd;n<r;n++){const e=t.data[n].type.prototype,{ngAfterContentInit:r,ngAfterContentChecked:i,ngAfterViewInit:s,ngAfterViewChecked:o,ngOnDestroy:a}=e;r&&(t.contentHooks||(t.contentHooks=[])).push(-n,r),i&&((t.contentHooks||(t.contentHooks=[])).push(n,i),(t.contentCheckHooks||(t.contentCheckHooks=[])).push(n,i)),s&&(t.viewHooks||(t.viewHooks=[])).push(-n,s),o&&((t.viewHooks||(t.viewHooks=[])).push(n,o),(t.viewCheckHooks||(t.viewCheckHooks=[])).push(n,o)),null!=a&&(t.destroyHooks||(t.destroyHooks=[])).push(n,a)}}function be(t,e,n){Ee(t,e,3,n)}function _e(t,e,n,r){(3&t[2])===n&&Ee(t,e,n,r)}function we(t,e){let n=t[2];(3&n)===e&&(n&=2047,n+=1,t[2]=n)}function Ee(t,e,n,r){const i=null!=r?r:-1;let s=0;for(let o=void 0!==r?65535&t[18]:0;o<e.length;o++)if("number"==typeof e[o+1]){if(s=e[o],null!=r&&s>=r)break}else e[o]<0&&(t[18]+=65536),(s<i||-1==i)&&(Oe(t,n,e,o),t[18]=(4294901760&t[18])+o+2),o++}function Oe(t,e,n,r){const i=n[r]<0,s=n[r+1],o=t[i?-n[r]:n[r]];i?t[2]>>11<t[18]>>16&&(3&t[2])===e&&(t[2]+=2048,s.call(o)):s.call(o)}const Se=-1;class Ce{constructor(t,e,n){this.factory=t,this.resolving=!1,this.canSeeViewProviders=e,this.injectImpl=n}}function Te(t,e,n){const r=Nt(t);let i=0;for(;i<n.length;){const s=n[i];if("number"==typeof s){if(0!==s)break;i++;const o=n[i++],a=n[i++],u=n[i++];r?t.setAttribute(e,a,u,o):e.setAttributeNS(o,a,u)}else{const o=s,a=n[++i];xe(o)?r&&t.setProperty(e,o,a):r?t.setAttribute(e,o,a):e.setAttribute(o,a),i++}}return i}function Ie(t){return 3===t||4===t||6===t}function xe(t){return 64===t.charCodeAt(0)}function Ae(t,e){if(null===e||0===e.length);else if(null===t||0===t.length)t=e.slice();else{let n=-1;for(let r=0;r<e.length;r++){const i=e[r];"number"==typeof i?n=i:0===n||je(t,n,i,null,-1===n||2===n?e[++r]:null)}}return t}function je(t,e,n,r,i){let s=0,o=t.length;if(-1===e)o=-1;else for(;s<t.length;){const n=t[s++];if("number"==typeof n){if(n===e){o=-1;break}if(n>e){o=s-1;break}}}for(;s<t.length;){const e=t[s];if("number"==typeof e)break;if(e===n){if(null===r)return void(null!==i&&(t[s+1]=i));if(r===t[s+1])return void(t[s+2]=i)}s++,null!==r&&s++,null!==i&&s++}-1!==o&&(t.splice(o,0,e),s=o+1),t.splice(s++,0,n),null!==r&&t.splice(s++,0,r),null!==i&&t.splice(s++,0,i)}function ke(t){return t!==Se}function Ne(t){return 32767&t}function Pe(t,e){let n=t>>16,r=e;for(;n>0;)r=r[15],n--;return r}let De=!0;function Re(t){const e=De;return De=t,e}let Le=0;function Me(t,e){const n=Ve(t,e);if(-1!==n)return n;const r=e[1];r.firstCreatePass&&(t.injectorIndex=e.length,Fe(r.data,t),Fe(e,null),Fe(r.blueprint,null));const i=Ue(t,e),s=t.injectorIndex;if(ke(i)){const t=Ne(i),n=Pe(i,e),r=n[1].data;for(let i=0;i<8;i++)e[s+i]=n[t+i]|r[t+i]}return e[s+8]=i,s}function Fe(t,e){t.push(0,0,0,0,0,0,0,0,e)}function Ve(t,e){return-1===t.injectorIndex||t.parent&&t.parent.injectorIndex===t.injectorIndex||null===e[t.injectorIndex+8]?-1:t.injectorIndex}function Ue(t,e){if(t.parent&&-1!==t.parent.injectorIndex)return t.parent.injectorIndex;let n=0,r=null,i=e;for(;null!==i;){const t=i[1],e=t.type;if(r=2===e?t.declTNode:1===e?i[6]:null,null===r)return Se;if(n++,i=i[15],-1!==r.injectorIndex)return r.injectorIndex|n<<16}return Se}function qe(t,e,n){!function(t,e,n){let r;"string"==typeof n?r=n.charCodeAt(0)||0:n.hasOwnProperty(Y)&&(r=n[Y]),null==r&&(r=n[Y]=Le++);const i=255&r,s=1<<i,o=64&i,a=32&i,u=e.data;128&i?o?a?u[t+7]|=s:u[t+6]|=s:a?u[t+5]|=s:u[t+4]|=s:o?a?u[t+3]|=s:u[t+2]|=s:a?u[t+1]|=s:u[t]|=s}(t,e,n)}function He(t,e,n){if(n&N.Optional)return t;Ot(e,"NodeInjector")}function ze(t,e,n,r){if(n&N.Optional&&void 0===r&&(r=null),0==(n&(N.Self|N.Host))){const i=t[9],s=D(void 0);try{return i?i.get(e,r,n&N.Optional):R(e,r,n&N.Optional)}finally{D(s)}}return He(r,e,n)}function Ke(t,e,n,r=N.Default,i){if(null!==t){const s=function(t){if("string"==typeof t)return t.charCodeAt(0)||0;const e=t.hasOwnProperty(Y)?t[Y]:void 0;return"number"==typeof e?e>=0?255&e:Ge:e}(n);if("function"==typeof s){if(!ue(e,t,r))return r&N.Host?He(i,n,r):ze(e,n,r,i);try{const t=s();if(null!=t||r&N.Optional)return t;Ot(n)}finally{de()}}else if("number"==typeof s){let i=null,o=Ve(t,e),a=Se,u=r&N.Host?e[16][6]:null;for((-1===o||r&N.SkipSelf)&&(a=-1===o?Ue(t,e):e[o+8],a!==Se&&Ze(r,!1)?(i=e[1],o=Ne(a),e=Pe(a,e)):o=-1);-1!==o;){const t=e[1];if(Qe(s,o,t.data)){const t=$e(o,e,n,i,r,u);if(t!==Be)return t}a=e[o+8],a!==Se&&Ze(r,e[1].data[o+8]===u)&&Qe(s,o,e)?(i=t,o=Ne(a),e=Pe(a,e)):o=-1}}}return ze(e,n,r,i)}const Be={};function Ge(){return new Ye(Jt(),$t())}function $e(t,e,n,r,i,s){const o=e[1],a=o.data[t+8],u=We(a,o,n,null==r?mt(a)&&De:r!=o&&0!=(3&a.type),i&N.Host&&s===a);return null!==u?Je(e,o,u,a):Be}function We(t,e,n,r,i){const s=t.providerIndexes,o=e.data,a=1048575&s,u=t.directiveStart,c=s>>20,l=i?a+c:t.directiveEnd;for(let h=r?a:a+c;h<l;h++){const t=o[h];if(h<u&&n===t||h>=u&&t.type===n)return h}if(i){const t=o[u];if(t&&vt(t)&&t.type===n)return u}return null}function Je(t,e,n,r){let i=t[n];const s=e.data;if(i instanceof Ce){const o=i;o.resolving&&function(t,e){throw new _t("200","Circular dependency in DI detected for "+t)}(Et(s[n]));const a=Re(o.canSeeViewProviders);o.resolving=!0;const u=o.injectImpl?D(o.injectImpl):null;ue(t,r,N.Default);try{i=t[n]=o.factory(void 0,s,t,r),e.firstCreatePass&&n>=r.directiveStart&&function(t,e,n){const{ngOnChanges:r,ngOnInit:i,ngDoCheck:s}=e.type.prototype;if(r){const r=Tt(e);(n.preOrderHooks||(n.preOrderHooks=[])).push(t,r),(n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(t,r)}i&&(n.preOrderHooks||(n.preOrderHooks=[])).push(0-t,i),s&&((n.preOrderHooks||(n.preOrderHooks=[])).push(t,s),(n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(t,s))}(n,s[n],e)}finally{null!==u&&D(u),Re(a),o.resolving=!1,de()}}return i}function Qe(t,e,n){const r=64&t,i=32&t;let s;return s=128&t?r?i?n[e+7]:n[e+6]:i?n[e+5]:n[e+4]:r?i?n[e+3]:n[e+2]:i?n[e+1]:n[e],!!(s&1<<t)}function Ze(t,e){return!(t&N.Self||t&N.Host&&e)}class Ye{constructor(t,e){this._tNode=t,this._lView=e}get(t,e){return Ke(this._tNode,this._lView,t,void 0,e)}}function Xe(t){const e=t;if(E(t))return()=>{const t=Xe(w(e));return t?t():null};let n=bt(e);if(null===n){const t=I(e);n=t&&t.factory}return n||null}function tn(t){return L(()=>{const e=t.prototype.constructor,n=e[Z]||Xe(e),r=Object.prototype;let i=Object.getPrototypeOf(t.prototype).constructor;for(;i&&i!==r;){const t=i[Z]||Xe(i);if(t&&t!==n)return t;i=Object.getPrototypeOf(i)}return t=>new t})}function en(t){return function(t,e){if("class"===e)return t.classes;if("style"===e)return t.styles;const n=t.attrs;if(n){const t=n.length;let r=0;for(;r<t;){const i=n[r];if(Ie(i))break;if(0===i)r+=2;else if("number"==typeof i)for(r++;r<t&&"string"==typeof n[r];)r++;else{if(i===e)return n[r+1];r+=2}}}return null}(Jt(),t)}const nn="__parameters__";function rn(t,e,n){return L(()=>{const r=function(t){return function(...e){if(t){const n=t(...e);for(const t in n)this[t]=n[t]}}}(e);function i(...t){if(this instanceof i)return r.apply(this,t),this;const e=new i(...t);return n.annotation=e,n;function n(t,n,r){const i=t.hasOwnProperty(nn)?t[nn]:Object.defineProperty(t,nn,{value:[]})[nn];for(;i.length<=r;)i.push(null);return(i[r]=i[r]||[]).push(e),t}}return n&&(i.prototype=Object.create(n.prototype)),i.prototype.ngMetadataName=t,i.annotationCls=i,i})}class sn{constructor(t,e){this._desc=t,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof e?this.__NG_ELEMENT_ID__=e:void 0!==e&&(this.\u0275prov=O({token:this,providedIn:e.providedIn||"root",factory:e.factory}))}toString(){return"InjectionToken "+this._desc}}const on=new sn("AnalyzeForEntryComponents"),an=Function;function un(t,e){void 0===e&&(e=t);for(let n=0;n<t.length;n++){let r=t[n];Array.isArray(r)?(e===t&&(e=t.slice(0,n)),un(r,e)):e!==t&&e.push(r)}return e}function cn(t,e){t.forEach(t=>Array.isArray(t)?cn(t,e):e(t))}function ln(t,e,n){e>=t.length?t.push(n):t.splice(e,0,n)}function hn(t,e){return e>=t.length-1?t.pop():t.splice(e,1)[0]}function fn(t,e,n){let r=pn(t,e);return r>=0?t[1|r]=n:(r=~r,function(t,e,n,r){let i=t.length;if(i==e)t.push(n,r);else if(1===i)t.push(r,t[0]),t[0]=n;else{for(i--,t.push(t[i-1],t[i]);i>e;)t[i]=t[i-2],i--;t[e]=n,t[e+1]=r}}(t,r,e,n)),r}function dn(t,e){const n=pn(t,e);if(n>=0)return t[1|n]}function pn(t,e){return function(t,e,n){let r=0,i=t.length>>1;for(;i!==r;){const n=r+(i-r>>1),s=t[n<<1];if(e===s)return n<<1;s>e?i=n:r=n+1}return~(i<<1)}(t,e)}const gn=rn("Inject",t=>({token:t})),mn=rn("Optional"),yn=rn("Self"),vn=rn("SkipSelf"),bn={},_n=/\n/gm,wn="__source",En=g({provide:String,useValue:g});let On,Sn=void 0;function Cn(t){const e=Sn;return Sn=t,e}function Tn(t,e=N.Default){if(void 0===Sn)throw new Error("inject() must be called from an injection context");return null===Sn?R(t,void 0,e):Sn.get(t,e&N.Optional?null:void 0,e)}function In(t,e=N.Default){return(P||Tn)(w(t),e)}function xn(t){const e=[];for(let n=0;n<t.length;n++){const r=w(t[n]);if(Array.isArray(r)){if(0===r.length)throw new Error("Arguments array must have arguments.");let t=void 0,n=N.Default;for(let e=0;e<r.length;e++){const i=r[e];i instanceof mn||"Optional"===i.ngMetadataName||i===mn?n|=N.Optional:i instanceof vn||"SkipSelf"===i.ngMetadataName||i===vn?n|=N.SkipSelf:i instanceof yn||"Self"===i.ngMetadataName||i===yn?n|=N.Self:t=i instanceof gn||i===gn?i.token:i}e.push(In(t,n))}else e.push(In(r))}return e}function An(t){var e;return(null===(e=function(){if(void 0===On&&(On=null,z.trustedTypes))try{On=z.trustedTypes.createPolicy("angular",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch(e){}return On}())||void 0===e?void 0:e.createHTML(t))||t}class jn{constructor(t){this.changingThisBreaksApplicationSecurity=t}toString(){return"SafeValue must use [property]=binding: "+this.changingThisBreaksApplicationSecurity+" (see https://g.co/ng/security#xss)"}}class kn extends jn{getTypeName(){return"HTML"}}class Nn extends jn{getTypeName(){return"Style"}}class Pn extends jn{getTypeName(){return"Script"}}class Dn extends jn{getTypeName(){return"URL"}}class Rn extends jn{getTypeName(){return"ResourceURL"}}function Ln(t){return t instanceof jn?t.changingThisBreaksApplicationSecurity:t}function Mn(t,e){const n=Fn(t);if(null!=n&&n!==e){if("ResourceURL"===n&&"URL"===e)return!0;throw new Error(`Required a safe ${e}, got a ${n} (see https://g.co/ng/security#xss)`)}return n===e}function Fn(t){return t instanceof jn&&t.getTypeName()||null}function Vn(t){return new kn(t)}function Un(t){return new Nn(t)}function qn(t){return new Pn(t)}function Hn(t){return new Dn(t)}function zn(t){return new Rn(t)}class Kn{getInertBodyElement(t){t="<body><remove></remove>"+t;try{const e=(new window.DOMParser).parseFromString(An(t),"text/html").body;return e.removeChild(e.firstChild),e}catch(e){return null}}}class Bn{constructor(t){if(this.defaultDoc=t,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),null==this.inertDocument.body){const t=this.inertDocument.createElement("html");this.inertDocument.appendChild(t);const e=this.inertDocument.createElement("body");t.appendChild(e)}}getInertBodyElement(t){const e=this.inertDocument.createElement("template");if("content"in e)return e.innerHTML=An(t),e;const n=this.inertDocument.createElement("body");return n.innerHTML=An(t),this.defaultDoc.documentMode&&this.stripCustomNsAttrs(n),n}stripCustomNsAttrs(t){const e=t.attributes;for(let r=e.length-1;0<r;r--){const n=e.item(r).name;"xmlns:ns1"!==n&&0!==n.indexOf("ns1:")||t.removeAttribute(n)}let n=t.firstChild;for(;n;)n.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(n),n=n.nextSibling}}const Gn=/^(?:(?:https?|mailto|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi,$n=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;function Wn(t){return(t=String(t)).match(Gn)||t.match($n)?t:"unsafe:"+t}function Jn(t){const e={};for(const n of t.split(","))e[n]=!0;return e}function Qn(...t){const e={};for(const n of t)for(const t in n)n.hasOwnProperty(t)&&(e[t]=!0);return e}const Zn=Jn("area,br,col,hr,img,wbr"),Yn=Jn("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),Xn=Jn("rp,rt"),tr=Qn(Xn,Yn),er=Qn(Zn,Qn(Yn,Jn("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),Qn(Xn,Jn("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),tr),nr=Jn("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),rr=Jn("srcset"),ir=Qn(nr,rr,Jn("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),Jn("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),sr=Jn("script,style,template");class or{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(t){let e=t.firstChild,n=!0;for(;e;)if(e.nodeType===Node.ELEMENT_NODE?n=this.startElement(e):e.nodeType===Node.TEXT_NODE?this.chars(e.nodeValue):this.sanitizedSomething=!0,n&&e.firstChild)e=e.firstChild;else for(;e;){e.nodeType===Node.ELEMENT_NODE&&this.endElement(e);let t=this.checkClobberedElement(e,e.nextSibling);if(t){e=t;break}e=this.checkClobberedElement(e,e.parentNode)}return this.buf.join("")}startElement(t){const e=t.nodeName.toLowerCase();if(!er.hasOwnProperty(e))return this.sanitizedSomething=!0,!sr.hasOwnProperty(e);this.buf.push("<"),this.buf.push(e);const n=t.attributes;for(let i=0;i<n.length;i++){const t=n.item(i),e=t.name,s=e.toLowerCase();if(!ir.hasOwnProperty(s)){this.sanitizedSomething=!0;continue}let o=t.value;nr[s]&&(o=Wn(o)),rr[s]&&(r=o,o=(r=String(r)).split(",").map(t=>Wn(t.trim())).join(", ")),this.buf.push(" ",e,'="',cr(o),'"')}var r;return this.buf.push(">"),!0}endElement(t){const e=t.nodeName.toLowerCase();er.hasOwnProperty(e)&&!Zn.hasOwnProperty(e)&&(this.buf.push("</"),this.buf.push(e),this.buf.push(">"))}chars(t){this.buf.push(cr(t))}checkClobberedElement(t,e){if(e&&(t.compareDocumentPosition(e)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error("Failed to sanitize html because the element is clobbered: "+t.outerHTML);return e}}const ar=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,ur=/([^\#-~ |!])/g;function cr(t){return t.replace(/&/g,"&amp;").replace(ar,function(t){return"&#"+(1024*(t.charCodeAt(0)-55296)+(t.charCodeAt(1)-56320)+65536)+";"}).replace(ur,function(t){return"&#"+t.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let lr;function hr(t,e){let n=null;try{lr=lr||function(t){return function(){try{return!!(new window.DOMParser).parseFromString(An(""),"text/html")}catch(t){return!1}}()?new Kn:new Bn(t)}(t);let r=e?String(e):"";n=lr.getInertBodyElement(r);let i=5,s=r;do{if(0===i)throw new Error("Failed to sanitize html because the input is unstable");i--,r=s,s=n.innerHTML,n=lr.getInertBodyElement(r)}while(r!==s);return(new or).sanitizeChildren(fr(n)||n)}finally{if(n){const t=fr(n)||n;for(;t.firstChild;)t.removeChild(t.firstChild)}}}function fr(t){return"content"in t&&function(t){return t.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===t.nodeName}(t)?t.content:null}var dr=function(t){return t[t.NONE=0]="NONE",t[t.HTML=1]="HTML",t[t.STYLE=2]="STYLE",t[t.SCRIPT=3]="SCRIPT",t[t.URL=4]="URL",t[t.RESOURCE_URL=5]="RESOURCE_URL",t}({});function pr(t){const e=function(){const t=$t();return t&&t[12]}();return e?e.sanitize(dr.URL,t)||"":Mn(t,"URL")?Ln(t):Wn(wt(t))}function gr(t){return t.ngDebugContext}function mr(t){return t.ngOriginalError}function yr(t,...e){t.error(...e)}class vr{constructor(){this._console=console}handleError(t){const e=this._findOriginalError(t),n=this._findContext(t),r=function(t){return t.ngErrorLogger||yr}(t);r(this._console,"ERROR",t),e&&r(this._console,"ORIGINAL ERROR",e),n&&r(this._console,"ERROR CONTEXT",n)}_findContext(t){return t?gr(t)?gr(t):this._findContext(mr(t)):null}_findOriginalError(t){let e=mr(t);for(;e&&mr(e);)e=mr(e);return e}}function br(t,e){t.__ngContext__=e}const _r=(()=>("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(z))();function wr(t){return t instanceof Function?t():t}var Er=function(t){return t[t.Important=1]="Important",t[t.DashCase=2]="DashCase",t}({});function Or(t,e){return(void 0)(t,e)}function Sr(t){const e=t[3];return pt(e)?e[3]:e}function Cr(t){return Ir(t[13])}function Tr(t){return Ir(t[4])}function Ir(t){for(;null!==t&&!pt(t);)t=t[4];return t}function xr(t,e,n,r,i){if(null!=r){let s,o=!1;pt(r)?s=r:dt(r)&&(o=!0,r=r[0]);const a=Dt(r);0===t&&null!==n?null==i?Rr(e,n,a):Dr(e,n,a,i||null,!0):1===t&&null!==n?Dr(e,n,a,i||null,!0):2===t?function(t,e,n){const r=Mr(t,e);r&&function(t,e,n,r){Nt(t)?t.removeChild(e,n,r):e.removeChild(n)}(t,r,e,n)}(e,a,o):3===t&&e.destroyNode(a),null!=s&&function(t,e,n,r,i){const s=n[7];s!==Dt(n)&&xr(e,t,r,s,i);for(let o=ft;o<n.length;o++){const i=n[o];Hr(i[1],i,t,e,r,s)}}(e,t,s,n,i)}}function Ar(t,e,n){return Nt(t)?t.createElement(e,n):null===n?t.createElement(e):t.createElementNS(n,e)}function jr(t,e){const n=t[9],r=n.indexOf(e),i=e[3];1024&e[2]&&(e[2]&=-1025,Kt(i,-1)),n.splice(r,1)}function kr(t,e){if(t.length<=ft)return;const n=ft+e,r=t[n];if(r){const s=r[17];null!==s&&s!==t&&jr(s,r),e>0&&(t[n-1][4]=r[4]);const o=hn(t,ft+e);Hr(r[1],i=r,i[11],2,null,null),i[0]=null,i[6]=null;const a=o[19];null!==a&&a.detachView(o[1]),r[3]=null,r[4]=null,r[2]&=-129}var i;return r}function Nr(t,e){if(!(256&e[2])){const n=e[11];Nt(n)&&n.destroyNode&&Hr(t,e,n,3,null,null),function(t){let e=t[13];if(!e)return Pr(t[1],t);for(;e;){let n=null;if(dt(e))n=e[13];else{const t=e[10];t&&(n=t)}if(!n){for(;e&&!e[4]&&e!==t;)dt(e)&&Pr(e[1],e),e=e[3];null===e&&(e=t),dt(e)&&Pr(e[1],e),n=e&&e[4]}e=n}}(e)}}function Pr(t,e){if(!(256&e[2])){e[2]&=-129,e[2]|=256,function(t,e){let n;if(null!=t&&null!=(n=t.destroyHooks))for(let r=0;r<n.length;r+=2){const t=e[n[r]];if(!(t instanceof Ce)){const e=n[r+1];if(Array.isArray(e))for(let n=0;n<e.length;n+=2)e[n+1].call(t[e[n]]);else e.call(t)}}}(t,e),function(t,e){const n=t.cleanup,r=e[7];let i=-1;if(null!==n){for(let t=0;t<n.length-1;t+=2)if("string"==typeof n[t]){const s=n[t+1],o="function"==typeof s?s(e):Dt(e[s]),a=r[i=n[t+2]],u=n[t+3];"boolean"==typeof u?o.removeEventListener(n[t],a,u):u>=0?r[i=u]():r[i=-u].unsubscribe(),t+=2}else{const e=r[i=n[t+1]];n[t].call(e)}if(null!==r)for(let t=i+1;t<r.length;t++)(0,r[t])();e[7]=null}}(t,e),1===e[1].type&&Nt(e[11])&&e[11].destroy();const n=e[17];if(null!==n&&pt(e[3])){n!==e[3]&&jr(n,e);const r=e[19];null!==r&&r.detachView(t)}}}function Dr(t,e,n,r,i){Nt(t)?t.insertBefore(e,n,r,i):e.insertBefore(n,r,i)}function Rr(t,e,n){Nt(t)?t.appendChild(e,n):e.appendChild(n)}function Lr(t,e,n,r,i){null!==r?Dr(t,e,n,r,i):Rr(t,e,n)}function Mr(t,e){return Nt(t)?t.parentNode(e):e.parentNode}function Fr(t,e,n,r){const i=function(t,e,n){return function(t,e,n){let r=e;for(;null!==r&&40&r.type;)r=(e=r).parent;if(null===r)return n[0];if(2&r.flags){const e=t.data[r.directiveStart].encapsulation;if(e===F.None||e===F.Emulated)return null}return Lt(r,n)}(t,e.parent,n)}(t,r,e),s=e[11],o=function(t,e,n){return function(t,e,n){return 40&t.type?Lt(t,n):null}(t,0,n)}(r.parent||e[6],0,e);if(null!=i)if(Array.isArray(n))for(let a=0;a<n.length;a++)Lr(s,i,n[a],o,!1);else Lr(s,i,n,o,!1)}function Vr(t,e){if(null!==e){const n=e.type;if(3&n)return Lt(e,t);if(4&n)return Ur(-1,t[e.index]);if(8&n){const n=e.child;if(null!==n)return Vr(t,n);{const n=t[e.index];return pt(n)?Ur(-1,n):Dt(n)}}if(32&n)return Or(e,t)()||Dt(t[e.index]);{const n=t[16],r=n[6],i=Sr(n),s=r.projection[e.projection];return null!=s?Vr(i,s):Vr(t,e.next)}}return null}function Ur(t,e){const n=ft+t+1;if(n<e.length){const t=e[n],r=t[1].firstChild;if(null!==r)return Vr(t,r)}return e[7]}function qr(t,e,n,r,i,s,o){for(;null!=n;){const a=r[n.index],u=n.type;if(o&&0===e&&(a&&br(Dt(a),r),n.flags|=4),64!=(64&n.flags))if(8&u)qr(t,e,n.child,r,i,s,!1),xr(e,t,i,a,s);else if(32&u){const o=Or(n,r);let u;for(;u=o();)xr(e,t,i,u,s);xr(e,t,i,a,s)}else 16&u?zr(t,e,r,n,i,s):xr(e,t,i,a,s);n=o?n.projectionNext:n.next}}function Hr(t,e,n,r,i,s){qr(n,r,t.firstChild,e,i,s,!1)}function zr(t,e,n,r,i,s){const o=n[16],a=o[6].projection[r.projection];if(Array.isArray(a))for(let u=0;u<a.length;u++)xr(e,t,i,a[u],s);else qr(t,e,a,o[3],i,s,!0)}function Kr(t,e,n){Nt(t)?t.setAttribute(e,"style",n):e.style.cssText=n}function Br(t,e,n){Nt(t)?""===n?t.removeAttribute(e,"class"):t.setAttribute(e,"class",n):e.className=n}function Gr(t,e,n){let r=t.length;for(;;){const i=t.indexOf(e,n);if(-1===i)return i;if(0===i||t.charCodeAt(i-1)<=32){const n=e.length;if(i+n===r||t.charCodeAt(i+n)<=32)return i}n=i+1}}const $r="ng-template";function Wr(t,e,n){let r=0;for(;r<t.length;){let i=t[r++];if(n&&"class"===i){if(i=t[r],-1!==Gr(i.toLowerCase(),e,0))return!0}else if(1===i){for(;r<t.length&&"string"==typeof(i=t[r++]);)if(i.toLowerCase()===e)return!0;return!1}}return!1}function Jr(t){return 4===t.type&&t.value!==$r}function Qr(t,e,n){return e===(4!==t.type||n?t.value:$r)}function Zr(t,e,n){let r=4;const i=t.attrs||[],s=function(t){for(let e=0;e<t.length;e++)if(Ie(t[e]))return e;return t.length}(i);let o=!1;for(let a=0;a<e.length;a++){const u=e[a];if("number"!=typeof u){if(!o)if(4&r){if(r=2|1&r,""!==u&&!Qr(t,u,n)||""===u&&1===e.length){if(Yr(r))return!1;o=!0}}else{const c=8&r?u:e[++a];if(8&r&&null!==t.attrs){if(!Wr(t.attrs,c,n)){if(Yr(r))return!1;o=!0}continue}const l=Xr(8&r?"class":u,i,Jr(t),n);if(-1===l){if(Yr(r))return!1;o=!0;continue}if(""!==c){let t;t=l>s?"":i[l+1].toLowerCase();const e=8&r?t:null;if(e&&-1!==Gr(e,c,0)||2&r&&c!==t){if(Yr(r))return!1;o=!0}}}}else{if(!o&&!Yr(r)&&!Yr(u))return!1;if(o&&Yr(u))continue;o=!1,r=u|1&r}}return Yr(r)||o}function Yr(t){return 0==(1&t)}function Xr(t,e,n,r){if(null===e)return-1;let i=0;if(r||!n){let n=!1;for(;i<e.length;){const r=e[i];if(r===t)return i;if(3===r||6===r)n=!0;else{if(1===r||2===r){let t=e[++i];for(;"string"==typeof t;)t=e[++i];continue}if(4===r)break;if(0===r){i+=4;continue}}i+=n?1:2}return-1}return function(t,e){let n=t.indexOf(4);if(n>-1)for(n++;n<t.length;){const r=t[n];if("number"==typeof r)return-1;if(r===e)return n;n++}return-1}(e,t)}function ti(t,e,n=!1){for(let r=0;r<e.length;r++)if(Zr(t,e[r],n))return!0;return!1}function ei(t,e){return t?":not("+e.trim()+")":e}function ni(t){let e=t[0],n=1,r=2,i="",s=!1;for(;n<t.length;){let o=t[n];if("string"==typeof o)if(2&r){const e=t[++n];i+="["+o+(e.length>0?'="'+e+'"':"")+"]"}else 8&r?i+="."+o:4&r&&(i+=" "+o);else""===i||Yr(o)||(e+=ei(s,i),i=""),r=o,s=s||!Yr(r);n++}return""!==i&&(e+=ei(s,i)),e}const ri={};function ii(t){si(Wt(),$t(),ge()+t,Xt())}function si(t,e,n,r){if(!r)if(3==(3&e[2])){const r=t.preOrderCheckHooks;null!==r&&be(e,r,n)}else{const r=t.preOrderHooks;null!==r&&_e(e,r,0,n)}me(n)}function oi(t,e){return t<<17|e<<2}function ai(t){return t>>17&32767}function ui(t){return 2|t}function ci(t){return(131068&t)>>2}function li(t,e){return-131069&t|e<<2}function hi(t){return 1|t}function fi(t,e){const n=t.contentQueries;if(null!==n)for(let r=0;r<n.length;r+=2){const i=n[r],s=n[r+1];if(-1!==s){const n=t.data[s];oe(i),n.contentQueries(2,e[s],s)}}}function di(t,e,n,r,i,s,o,a,u,c){const l=e.blueprint.slice();return l[0]=i,l[2]=140|r,zt(l),l[3]=l[15]=t,l[8]=n,l[10]=o||t&&t[10],l[11]=a||t&&t[11],l[12]=u||t&&t[12]||null,l[9]=c||t&&t[9]||null,l[6]=s,l[16]=2==e.type?t[16]:l,l}function pi(t,e,n,r,i){let s=t.data[e];if(null===s)s=function(t,e,n,r,i){const s=Qt(),o=Yt(),a=t.data[e]=function(t,e,n,r,i,s){return{type:n,index:r,insertBeforeIndex:null,injectorIndex:e?e.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:i,attrs:s,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,o?s:s&&s.parent,n,e,r,i);return null===t.firstChild&&(t.firstChild=a),null!==s&&(o?null==s.child&&null!==a.parent&&(s.child=a):null===s.next&&(s.next=a)),a}(t,e,n,r,i),Bt.lFrame.inI18n&&(s.flags|=64);else if(64&s.type){s.type=n,s.value=r,s.attrs=i;const t=function(){const t=Bt.lFrame,e=t.currentTNode;return t.isParent?e:e.parent}();s.injectorIndex=null===t?-1:t.injectorIndex}return Zt(s,!0),s}function gi(t,e,n,r){if(0===n)return-1;const i=e.length;for(let s=0;s<n;s++)e.push(r),t.blueprint.push(r),t.data.push(null);return i}function mi(t,e,n){ce(e);try{const r=t.viewQuery;null!==r&&Bi(1,r,n);const i=t.template;null!==i&&bi(t,e,i,1,n),t.firstCreatePass&&(t.firstCreatePass=!1),t.staticContentQueries&&fi(t,e),t.staticViewQueries&&Bi(2,t.viewQuery,n);const s=t.components;null!==s&&function(t,e){for(let n=0;n<e.length;n++)Ui(t,e[n])}(e,s)}catch(r){throw t.firstCreatePass&&(t.incompleteFirstPass=!0),r}finally{e[2]&=-5,pe()}}function yi(t,e,n,r){const i=e[2];if(256==(256&i))return;ce(e);const s=Xt();try{zt(e),Bt.lFrame.bindingIndex=t.bindingStartIndex,null!==n&&bi(t,e,n,2,r);const o=3==(3&i);if(!s)if(o){const n=t.preOrderCheckHooks;null!==n&&be(e,n,null)}else{const n=t.preOrderHooks;null!==n&&_e(e,n,0,null),we(e,0)}if(function(t){for(let e=Cr(t);null!==e;e=Tr(e)){if(!e[2])continue;const t=e[9];for(let e=0;e<t.length;e++){const n=t[e],r=n[3];0==(1024&n[2])&&Kt(r,1),n[2]|=1024}}}(e),function(t){for(let e=Cr(t);null!==e;e=Tr(e))for(let t=ft;t<e.length;t++){const n=e[t],r=n[1];qt(n)&&yi(r,n,r.template,n[8])}}(e),null!==t.contentQueries&&fi(t,e),!s)if(o){const n=t.contentCheckHooks;null!==n&&be(e,n)}else{const n=t.contentHooks;null!==n&&_e(e,n,1),we(e,1)}!function(t,e){const n=t.hostBindingOpCodes;if(null!==n)try{for(let t=0;t<n.length;t++){const r=n[t];if(r<0)me(~r);else{const i=r,s=n[++t],o=n[++t];re(s,i),o(2,e[i])}}}finally{me(-1)}}(t,e);const a=t.components;null!==a&&function(t,e){for(let n=0;n<e.length;n++)Fi(t,e[n])}(e,a);const u=t.viewQuery;if(null!==u&&Bi(2,u,r),!s)if(o){const n=t.viewCheckHooks;null!==n&&be(e,n)}else{const n=t.viewHooks;null!==n&&_e(e,n,2),we(e,2)}!0===t.firstUpdatePass&&(t.firstUpdatePass=!1),s||(e[2]&=-73),1024&e[2]&&(e[2]&=-1025,Kt(e[3],-1))}finally{pe()}}function vi(t,e,n,r){const i=e[10],s=!Xt(),o=Ut(e);try{s&&!o&&i.begin&&i.begin(),o&&mi(t,e,r),yi(t,e,n,r)}finally{s&&!o&&i.end&&i.end()}}function bi(t,e,n,r,i){const s=ge();try{me(-1),2&r&&e.length>ht&&si(t,e,ht,Xt()),n(r,i)}finally{me(s)}}function _i(t,e,n){Gt()&&(function(t,e,n,r){const i=n.directiveStart,s=n.directiveEnd;t.firstCreatePass||Me(n,e),br(r,e);const o=n.initialInputs;for(let a=i;a<s;a++){const r=t.data[a],s=vt(r);s&&Di(e,n,r);const u=Je(e,t,a,n);br(u,e),null!==o&&Ri(0,a-i,u,r,0,o),s&&(Ft(n.index,e)[8]=u)}}(t,e,n,Lt(n,e)),128==(128&n.flags)&&function(t,e,n){const r=n.directiveStart,i=n.directiveEnd,s=n.index,o=Bt.lFrame.currentDirectiveIndex;try{me(s);for(let n=r;n<i;n++){const r=t.data[n],i=e[n];ie(n),null===r.hostBindings&&0===r.hostVars&&null===r.hostAttrs||Ai(r,i)}}finally{me(-1),ie(o)}}(t,e,n))}function wi(t,e,n=Lt){const r=e.localNames;if(null!==r){let i=e.index+1;for(let s=0;s<r.length;s+=2){const o=r[s+1],a=-1===o?n(e,t):t[o];t[i++]=a}}}function Ei(t){const e=t.tView;return null===e||e.incompleteFirstPass?t.tView=Oi(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts):e}function Oi(t,e,n,r,i,s,o,a,u,c){const l=ht+r,h=l+i,f=function(t,e){const n=[];for(let r=0;r<e;r++)n.push(r<t?null:ri);return n}(l,h),d="function"==typeof c?c():c;return f[1]={type:t,blueprint:f,template:n,queries:null,viewQuery:a,declTNode:e,data:f.slice().fill(null,l),bindingStartIndex:l,expandoStartIndex:h,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof s?s():s,pipeRegistry:"function"==typeof o?o():o,firstChild:null,schemas:u,consts:d,incompleteFirstPass:!1}}function Si(t,e,n,r){const i=$i(e);null===n?i.push(r):(i.push(n),t.firstCreatePass&&Wi(t).push(r,i.length-1))}function Ci(t,e,n){for(let r in t)if(t.hasOwnProperty(r)){const i=t[r];(n=null===n?{}:n).hasOwnProperty(r)?n[r].push(e,i):n[r]=[e,i]}return n}function Ti(t,e,n,r,i,s,o,a){const u=Lt(e,n);let c,l=e.inputs;!a&&null!=l&&(c=l[r])?(Qi(t,n,c,r,i),mt(e)&&function(t,e){const n=Ft(e,t);16&n[2]||(n[2]|=64)}(n,e.index)):3&e.type&&(r=function(t){return"class"===t?"className":"for"===t?"htmlFor":"formaction"===t?"formAction":"innerHtml"===t?"innerHTML":"readonly"===t?"readOnly":"tabindex"===t?"tabIndex":t}(r),i=null!=o?o(i,e.value||"",r):i,Nt(s)?s.setProperty(u,r,i):xe(r)||(u.setProperty?u.setProperty(r,i):u[r]=i))}function Ii(t,e,n,r){let i=!1;if(Gt()){const s=function(t,e,n){const r=t.directiveRegistry;let i=null;if(r)for(let s=0;s<r.length;s++){const o=r[s];ti(n,o.selectors,!1)&&(i||(i=[]),qe(Me(n,e),t,o.type),vt(o)?(ji(t,n),i.unshift(o)):i.push(o))}return i}(t,e,n),o=null===r?null:{"":-1};if(null!==s){i=!0,Ni(n,t.data.length,s.length);for(let t=0;t<s.length;t++){const e=s[t];e.providersResolver&&e.providersResolver(e)}let r=!1,a=!1,u=gi(t,e,s.length,null);for(let i=0;i<s.length;i++){const c=s[i];n.mergedAttrs=Ae(n.mergedAttrs,c.hostAttrs),Pi(t,n,e,u,c),ki(u,c,o),null!==c.contentQueries&&(n.flags|=8),null===c.hostBindings&&null===c.hostAttrs&&0===c.hostVars||(n.flags|=128);const l=c.type.prototype;!r&&(l.ngOnChanges||l.ngOnInit||l.ngDoCheck)&&((t.preOrderHooks||(t.preOrderHooks=[])).push(n.index),r=!0),a||!l.ngOnChanges&&!l.ngDoCheck||((t.preOrderCheckHooks||(t.preOrderCheckHooks=[])).push(n.index),a=!0),u++}!function(t,e){const n=e.directiveEnd,r=t.data,i=e.attrs,s=[];let o=null,a=null;for(let u=e.directiveStart;u<n;u++){const t=r[u],n=t.inputs,c=null===i||Jr(e)?null:Li(n,i);s.push(c),o=Ci(n,u,o),a=Ci(t.outputs,u,a)}null!==o&&(o.hasOwnProperty("class")&&(e.flags|=16),o.hasOwnProperty("style")&&(e.flags|=32)),e.initialInputs=s,e.inputs=o,e.outputs=a}(t,n)}o&&function(t,e,n){if(e){const r=t.localNames=[];for(let t=0;t<e.length;t+=2){const i=n[e[t+1]];if(null==i)throw new _t("301",`Export of name '${e[t+1]}' not found!`);r.push(e[t],i)}}}(n,r,o)}return n.mergedAttrs=Ae(n.mergedAttrs,n.attrs),i}function xi(t,e,n,r,i,s){const o=s.hostBindings;if(o){let n=t.hostBindingOpCodes;null===n&&(n=t.hostBindingOpCodes=[]);const s=~e.index;(function(t){let e=t.length;for(;e>0;){const n=t[--e];if("number"==typeof n&&n<0)return n}return 0})(n)!=s&&n.push(s),n.push(r,i,o)}}function Ai(t,e){null!==t.hostBindings&&t.hostBindings(1,e)}function ji(t,e){e.flags|=2,(t.components||(t.components=[])).push(e.index)}function ki(t,e,n){if(n){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)n[e.exportAs[r]]=t;vt(e)&&(n[""]=t)}}function Ni(t,e,n){t.flags|=1,t.directiveStart=e,t.directiveEnd=e+n,t.providerIndexes=e}function Pi(t,e,n,r,i){t.data[r]=i;const s=i.factory||(i.factory=bt(i.type)),o=new Ce(s,vt(i),null);t.blueprint[r]=o,n[r]=o,xi(t,e,0,r,gi(t,n,i.hostVars,ri),i)}function Di(t,e,n){const r=Lt(e,t),i=Ei(n),s=t[10],o=qi(t,di(t,i,null,n.onPush?64:16,r,e,s,s.createRenderer(r,n),null,null));t[e.index]=o}function Ri(t,e,n,r,i,s){const o=s[e];if(null!==o){const t=r.setInput;for(let e=0;e<o.length;){const i=o[e++],s=o[e++],a=o[e++];null!==t?r.setInput(n,a,i,s):n[s]=a}}}function Li(t,e){let n=null,r=0;for(;r<e.length;){const i=e[r];if(0!==i)if(5!==i){if("number"==typeof i)break;t.hasOwnProperty(i)&&(null===n&&(n=[]),n.push(i,t[i],e[r+1])),r+=2}else r+=2;else r+=4}return n}function Mi(t,e,n,r){return new Array(t,!0,!1,e,null,0,r,n,null,null)}function Fi(t,e){const n=Ft(e,t);if(qt(n)){const t=n[1];80&n[2]?yi(t,n,t.template,n[8]):n[5]>0&&Vi(n)}}function Vi(t){for(let n=Cr(t);null!==n;n=Tr(n))for(let t=ft;t<n.length;t++){const e=n[t];if(1024&e[2]){const t=e[1];yi(t,e,t.template,e[8])}else e[5]>0&&Vi(e)}const e=t[1].components;if(null!==e)for(let n=0;n<e.length;n++){const r=Ft(e[n],t);qt(r)&&r[5]>0&&Vi(r)}}function Ui(t,e){const n=Ft(e,t),r=n[1];!function(t,e){for(let n=e.length;n<t.blueprint.length;n++)e.push(t.blueprint[n])}(r,n),mi(r,n,n[8])}function qi(t,e){return t[13]?t[14][4]=e:t[13]=e,t[14]=e,e}function Hi(t){for(;t;){t[2]|=64;const e=Sr(t);if(0!=(512&t[2])&&!e)return t;t=e}return null}function zi(t,e,n){const r=e[10];r.begin&&r.begin();try{yi(t,e,t.template,n)}catch(i){throw Ji(e,i),i}finally{r.end&&r.end()}}function Ki(t){!function(t){for(let e=0;e<t.components.length;e++){const n=t.components[e],r=Vt(n),i=r[1];vi(i,r,i.template,n)}}(t[8])}function Bi(t,e,n){oe(0),e(t,n)}const Gi=(()=>Promise.resolve(null))();function $i(t){return t[7]||(t[7]=[])}function Wi(t){return t.cleanup||(t.cleanup=[])}function Ji(t,e){const n=t[9],r=n?n.get(vr,null):null;r&&r.handleError(e)}function Qi(t,e,n,r,i){for(let s=0;s<n.length;){const o=n[s++],a=n[s++],u=e[o],c=t.data[o];null!==c.setInput?c.setInput(u,i,r,a):u[a]=i}}function Zi(t,e,n){let r=n?t.styles:null,i=n?t.classes:null,s=0;if(null!==e)for(let o=0;o<e.length;o++){const t=e[o];"number"==typeof t?s=t:1==s?i=v(i,t):2==s&&(r=v(r,t+": "+e[++o]+";"))}n?t.styles=r:t.stylesWithoutHost=r,n?t.classes=i:t.classesWithoutHost=i}const Yi=new sn("INJECTOR",-1);class Xi{get(t,e=bn){if(e===bn){const e=new Error(`NullInjectorError: No provider for ${y(t)}!`);throw e.name="NullInjectorError",e}return e}}const ts=new sn("Set Injector scope."),es={},ns={},rs=[];let is=void 0;function ss(){return void 0===is&&(is=new Xi),is}function os(t,e=null,n=null,r){return new as(t,n,e||ss(),r)}class as{constructor(t,e,n,r=null){this.parent=n,this.records=new Map,this.injectorDefTypes=new Set,this.onDestroy=new Set,this._destroyed=!1;const i=[];e&&cn(e,n=>this.processProvider(n,t,e)),cn([t],t=>this.processInjectorType(t,[],i)),this.records.set(Yi,ls(void 0,this));const s=this.records.get(ts);this.scope=null!=s?s.value:null,this.source=r||("object"==typeof t?null:y(t))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{this.onDestroy.forEach(t=>t.ngOnDestroy())}finally{this.records.clear(),this.onDestroy.clear(),this.injectorDefTypes.clear()}}get(t,e=bn,n=N.Default){this.assertNotDestroyed();const r=Cn(this);try{if(!(n&N.SkipSelf)){let e=this.records.get(t);if(void 0===e){const n=("function"==typeof(i=t)||"object"==typeof i&&i instanceof sn)&&C(t);e=n&&this.injectableDefInScope(n)?ls(us(t),es):null,this.records.set(t,e)}if(null!=e)return this.hydrate(t,e)}return(n&N.Self?ss():this.parent).get(t,e=n&N.Optional&&e===bn?null:e)}catch(s){if("NullInjectorError"===s.name){if((s.ngTempTokenPath=s.ngTempTokenPath||[]).unshift(y(t)),r)throw s;return function(t,e,n,r){const i=t.ngTempTokenPath;throw e[wn]&&i.unshift(e[wn]),t.message=function(t,e,n,r=null){t=t&&"\n"===t.charAt(0)&&"\u0275"==t.charAt(1)?t.substr(2):t;let i=y(e);if(Array.isArray(e))i=e.map(y).join(" -> ");else if("object"==typeof e){let t=[];for(let n in e)if(e.hasOwnProperty(n)){let r=e[n];t.push(n+":"+("string"==typeof r?JSON.stringify(r):y(r)))}i=`{${t.join(", ")}}`}return`${n}${r?"("+r+")":""}[${i}]: ${t.replace(_n,"\n  ")}`}("\n"+t.message,i,n,r),t.ngTokenPath=i,t.ngTempTokenPath=null,t}(s,t,"R3InjectorError",this.source)}throw s}finally{Cn(r)}var i}_resolveInjectorDefTypes(){this.injectorDefTypes.forEach(t=>this.get(t))}toString(){const t=[];return this.records.forEach((e,n)=>t.push(y(n))),`R3Injector[${t.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Error("Injector has already been destroyed.")}processInjectorType(t,e,n){if(!(t=w(t)))return!1;let r=I(t);const i=null==r&&t.ngModule||void 0,s=void 0===i?t:i,o=-1!==n.indexOf(s);if(void 0!==i&&(r=I(i)),null==r)return!1;if(null!=r.imports&&!o){let t;n.push(s);try{cn(r.imports,r=>{this.processInjectorType(r,e,n)&&(void 0===t&&(t=[]),t.push(r))})}finally{}if(void 0!==t)for(let e=0;e<t.length;e++){const{ngModule:n,providers:r}=t[e];cn(r,t=>this.processProvider(t,n,r||rs))}}this.injectorDefTypes.add(s),this.records.set(s,ls(r.factory,es));const a=r.providers;if(null!=a&&!o){const e=t;cn(a,t=>this.processProvider(t,e,a))}return void 0!==i&&void 0!==t.providers}processProvider(t,e,n){let r=fs(t=w(t))?t:w(t&&t.provide);const i=function(t,e,n){return hs(t)?ls(void 0,t.useValue):ls(cs(t),es)}(t);if(fs(t)||!0!==t.multi)this.records.get(r);else{let e=this.records.get(r);e||(e=ls(void 0,es,!0),e.factory=()=>xn(e.multi),this.records.set(r,e)),r=t,e.multi.push(t)}this.records.set(r,i)}hydrate(t,e){var n;return e.value===es&&(e.value=ns,e.value=e.factory()),"object"==typeof e.value&&e.value&&null!==(n=e.value)&&"object"==typeof n&&"function"==typeof n.ngOnDestroy&&this.onDestroy.add(e.value),e.value}injectableDefInScope(t){return!!t.providedIn&&("string"==typeof t.providedIn?"any"===t.providedIn||t.providedIn===this.scope:this.injectorDefTypes.has(t.providedIn))}}function us(t){const e=C(t),n=null!==e?e.factory:bt(t);if(null!==n)return n;const r=I(t);if(null!==r)return r.factory;if(t instanceof sn)throw new Error(`Token ${y(t)} is missing a \u0275prov definition.`);if(t instanceof Function)return function(t){const e=t.length;if(e>0){const n=function(t,e){const n=[];for(let r=0;r<t;r++)n.push("?");return n}(e);throw new Error(`Can't resolve all parameters for ${y(t)}: (${n.join(", ")}).`)}const n=function(t){const e=t&&(t[x]||t[j]);if(e){const n=function(t){if(t.hasOwnProperty("name"))return t.name;const e=(""+t).match(/^function\s*([^\s(]+)/);return null===e?"":e[1]}(t);return console.warn(`DEPRECATED: DI is instantiating a token "${n}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${n}" class.`),e}return null}(t);return null!==n?()=>n.factory(t):()=>new t}(t);throw new Error("unreachable")}function cs(t,e,n){let r=void 0;if(fs(t)){const e=w(t);return bt(e)||us(e)}if(hs(t))r=()=>w(t.useValue);else if((i=t)&&i.useFactory)r=()=>t.useFactory(...xn(t.deps||[]));else if(function(t){return!(!t||!t.useExisting)}(t))r=()=>In(w(t.useExisting));else{const e=w(t&&(t.useClass||t.provide));if(!function(t){return!!t.deps}(t))return bt(e)||us(e);r=()=>new e(...xn(t.deps))}var i;return r}function ls(t,e,n=!1){return{factory:t,value:e,multi:n?[]:void 0}}function hs(t){return null!==t&&"object"==typeof t&&En in t}function fs(t){return"function"==typeof t}const ds=function(t,e,n){return function(t,e=null,n=null,r){const i=os(t,e,n,r);return i._resolveInjectorDefTypes(),i}({name:n},e,t,n)};let ps=(()=>{class t{static create(t,e){return Array.isArray(t)?ds(t,e,""):ds(t.providers,t.parent,t.name||"")}}return t.THROW_IF_NOT_FOUND=bn,t.NULL=new Xi,t.\u0275prov=O({token:t,providedIn:"any",factory:()=>In(Yi)}),t.__NG_ELEMENT_ID__=-1,t})();function gs(t,e){ve(Vt(t)[1],Jt())}function ms(t){let e=Object.getPrototypeOf(t.type.prototype).constructor,n=!0;const r=[t];for(;e;){let i=void 0;if(vt(t))i=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new Error("Directives cannot inherit Components");i=e.\u0275dir}if(i){if(n){r.push(i);const e=t;e.inputs=ys(t.inputs),e.declaredInputs=ys(t.declaredInputs),e.outputs=ys(t.outputs);const n=i.hostBindings;n&&_s(t,n);const s=i.viewQuery,o=i.contentQueries;if(s&&vs(t,s),o&&bs(t,o),m(t.inputs,i.inputs),m(t.declaredInputs,i.declaredInputs),m(t.outputs,i.outputs),vt(i)&&i.data.animation){const e=t.data;e.animation=(e.animation||[]).concat(i.data.animation)}}const e=i.features;if(e)for(let r=0;r<e.length;r++){const i=e[r];i&&i.ngInherit&&i(t),i===ms&&(n=!1)}}e=Object.getPrototypeOf(e)}!function(t){let e=0,n=null;for(let r=t.length-1;r>=0;r--){const i=t[r];i.hostVars=e+=i.hostVars,i.hostAttrs=Ae(i.hostAttrs,n=Ae(n,i.hostAttrs))}}(r)}function ys(t){return t===K?{}:t===B?[]:t}function vs(t,e){const n=t.viewQuery;t.viewQuery=n?(t,r)=>{e(t,r),n(t,r)}:e}function bs(t,e){const n=t.contentQueries;t.contentQueries=n?(t,r,i)=>{e(t,r,i),n(t,r,i)}:e}function _s(t,e){const n=t.hostBindings;t.hostBindings=n?(t,r)=>{e(t,r),n(t,r)}:e}let ws=null;function Es(){if(!ws){const t=z.Symbol;if(t&&t.iterator)ws=t.iterator;else{const t=Object.getOwnPropertyNames(Map.prototype);for(let e=0;e<t.length;++e){const n=t[e];"entries"!==n&&"size"!==n&&Map.prototype[n]===Map.prototype.entries&&(ws=n)}}}return ws}function Os(t){return!!Ss(t)&&(Array.isArray(t)||!(t instanceof Map)&&Es()in t)}function Ss(t){return null!==t&&("function"==typeof t||"object"==typeof t)}function Cs(t,e,n){return t[e]=n}function Ts(t,e,n){return!Object.is(t[e],n)&&(t[e]=n,!0)}function Is(t,e,n,r){const i=$t();return Ts(i,ne(),e)&&(Wt(),function(t,e,n,r,i,s){const o=Lt(t,e);!function(t,e,n,r,i,s,o){if(null==s)Nt(t)?t.removeAttribute(e,i,n):e.removeAttribute(i);else{const a=null==o?wt(s):o(s,r||"",i);Nt(t)?t.setAttribute(e,i,a,n):n?e.setAttributeNS(n,i,a):e.setAttribute(i,a)}}(e[11],o,s,t.value,n,r,i)}(ye(),i,t,e,n,r)),Is}function xs(t,e,n,r){return Ts(t,ne(),n)?e+wt(n)+r:ri}function As(t,e,n,r,i,s,o,a){const u=$t(),c=Wt(),l=t+ht,h=c.firstCreatePass?function(t,e,n,r,i,s,o,a,u){const c=e.consts,l=pi(e,t,4,o||null,Ht(c,a));Ii(e,n,l,Ht(c,u)),ve(e,l);const h=l.tViews=Oi(2,l,r,i,s,e.directiveRegistry,e.pipeRegistry,null,e.schemas,c);return null!==e.queries&&(e.queries.template(e,l),h.queries=e.queries.embeddedTView(l)),l}(l,c,u,e,n,r,i,s,o):c.data[l];Zt(h,!1);const f=u[11].createComment("");Fr(c,u,f,h),br(f,u),qi(u,u[l]=Mi(f,u,f,h)),yt(h)&&_i(c,u,h),null!=o&&wi(u,h,a)}function js(t,e=N.Default){const n=$t();return null===n?In(t,e):Ke(Jt(),n,w(t),e)}function ks(t,e,n){const r=$t();return Ts(r,ne(),e)&&Ti(Wt(),ye(),r,t,e,r[11],n,!1),ks}function Ns(t,e,n,r,i){const s=i?"class":"style";Qi(t,n,e.inputs[s],s,r)}function Ps(t,e,n,r){const i=$t(),s=Wt(),o=ht+t,a=i[11],u=i[o]=Ar(a,e,Bt.lFrame.currentNamespace),c=s.firstCreatePass?function(t,e,n,r,i,s,o){const a=e.consts,u=pi(e,t,2,i,Ht(a,s));return Ii(e,n,u,Ht(a,o)),null!==u.attrs&&Zi(u,u.attrs,!1),null!==u.mergedAttrs&&Zi(u,u.mergedAttrs,!0),null!==e.queries&&e.queries.elementStart(e,u),u}(o,s,i,0,e,n,r):s.data[o];Zt(c,!0);const l=c.mergedAttrs;null!==l&&Te(a,u,l);const h=c.classes;null!==h&&Br(a,u,h);const f=c.styles;null!==f&&Kr(a,u,f),64!=(64&c.flags)&&Fr(s,i,u,c),0===Bt.lFrame.elementDepthCount&&br(u,i),Bt.lFrame.elementDepthCount++,yt(c)&&(_i(s,i,c),function(t,e,n){if(gt(e)){const r=e.directiveEnd;for(let i=e.directiveStart;i<r;i++){const e=t.data[i];e.contentQueries&&e.contentQueries(1,n[i],i)}}}(s,c,i)),null!==r&&wi(i,c)}function Ds(){let t=Jt();Yt()?Bt.lFrame.isParent=!1:(t=t.parent,Zt(t,!1));const e=t;Bt.lFrame.elementDepthCount--;const n=Wt();n.firstCreatePass&&(ve(n,t),gt(t)&&n.queries.elementEnd(t)),null!=e.classesWithoutHost&&function(t){return 0!=(16&t.flags)}(e)&&Ns(n,e,$t(),e.classesWithoutHost,!0),null!=e.stylesWithoutHost&&function(t){return 0!=(32&t.flags)}(e)&&Ns(n,e,$t(),e.stylesWithoutHost,!1)}function Rs(t,e,n,r){Ps(t,e,n,r),Ds()}function Ls(t){return!!t&&"function"==typeof t.then}function Ms(t){return!!t&&"function"==typeof t.subscribe}function Fs(t,e,n=!1,r){const i=$t(),s=Wt(),o=Jt();return function(t,e,n,r,i,s,o=!1,a){const u=yt(r),c=t.firstCreatePass&&Wi(t),l=$i(e);let h=!0;if(3&r.type){const f=Lt(r,e),d=a?a(f):K,p=d.target||f,g=l.length,m=a?t=>a(Dt(t[r.index])).target:r.index;if(Nt(n)){let o=null;if(!a&&u&&(o=function(t,e,n,r){const i=t.cleanup;if(null!=i)for(let s=0;s<i.length-1;s+=2){const t=i[s];if(t===n&&i[s+1]===r){const t=e[7],n=i[s+2];return t.length>n?t[n]:null}"string"==typeof t&&(s+=2)}return null}(t,e,i,r.index)),null!==o)(o.__ngLastListenerFn__||o).__ngNextListenerFn__=s,o.__ngLastListenerFn__=s,h=!1;else{s=Us(r,e,s,!1);const t=n.listen(d.name||p,i,s);l.push(s,t),c&&c.push(i,m,g,g+1)}}else s=Us(r,e,s,!0),p.addEventListener(i,s,o),l.push(s),c&&c.push(i,m,g,o)}else s=Us(r,e,s,!1);const f=r.outputs;let d;if(h&&null!==f&&(d=f[i])){const t=d.length;if(t)for(let n=0;n<t;n+=2){const t=e[d[n]][d[n+1]].subscribe(s),o=l.length;l.push(s,t),c&&c.push(i,r.index,o,-(o+1))}}}(s,i,i[11],o,t,e,n,r),Fs}function Vs(t,e,n){try{return!1!==e(n)}catch(r){return Ji(t,r),!1}}function Us(t,e,n,r){return function i(s){if(s===Function)return n;const o=2&t.flags?Ft(t.index,e):e;0==(32&e[2])&&Hi(o);let a=Vs(e,n,s),u=i.__ngNextListenerFn__;for(;u;)a=Vs(e,u,s)&&a,u=u.__ngNextListenerFn__;return r&&!1===a&&(s.preventDefault(),s.returnValue=!1),a}}function qs(t=1){return function(t){return(Bt.lFrame.contextLView=function(t,e){for(;t>0;)e=e[15],t--;return e}(t,Bt.lFrame.contextLView))[8]}(t)}function Hs(t,e,n){return zs(t,"",e,"",n),Hs}function zs(t,e,n,r,i){const s=$t(),o=xs(s,e,n,r);return o!==ri&&Ti(Wt(),ye(),s,t,o,s[11],i,!1),zs}const Ks=[];function Bs(t,e,n,r,i){const s=t[n+1],o=null===e;let a=r?ai(s):ci(s),u=!1;for(;0!==a&&(!1===u||o);){const n=t[a+1];Gs(t[a],e)&&(u=!0,t[a+1]=r?hi(n):ui(n)),a=r?ai(n):ci(n)}u&&(t[n+1]=r?ui(s):hi(s))}function Gs(t,e){return null===t||null==e||(Array.isArray(t)?t[1]:t)===e||!(!Array.isArray(t)||"string"!=typeof e)&&pn(t,e)>=0}function $s(t,e){return function(t,e,n,r){const i=$t(),s=Wt(),o=function(t){const e=Bt.lFrame,n=e.bindingIndex;return e.bindingIndex=e.bindingIndex+2,n}();s.firstUpdatePass&&function(t,e,n,r){const i=t.data;if(null===i[n+1]){const s=i[ge()],o=function(t,e){return e>=t.expandoStartIndex}(t,n);(function(t,e){return 0!=(16&t.flags)})(s)&&null===e&&!o&&(e=!1),e=function(t,e,n,r){const i=function(t){const e=Bt.lFrame.currentDirectiveIndex;return-1===e?null:t[e]}(t);let s=e.residualClasses;if(null===i)0===e.classBindings&&(n=Js(n=Ws(null,t,e,n,r),e.attrs,r),s=null);else{const o=e.directiveStylingLast;if(-1===o||t[o]!==i)if(n=Ws(i,t,e,n,r),null===s){let n=function(t,e,n){const r=e.classBindings;if(0!==ci(r))return t[ai(r)]}(t,e);void 0!==n&&Array.isArray(n)&&(n=Ws(null,t,e,n[1],r),n=Js(n,e.attrs,r),function(t,e,n,r){t[ai(e.classBindings)]=r}(t,e,0,n))}else s=function(t,e,n){let r=void 0;const i=e.directiveEnd;for(let s=1+e.directiveStylingLast;s<i;s++)r=Js(r,t[s].hostAttrs,true);return Js(r,e.attrs,true)}(t,e)}return void 0!==s&&(e.residualClasses=s),n}(i,s,e,r),function(t,e,n,r,i,s){let o=e.classBindings,a=ai(o),u=ci(o);t[r]=n;let c,l=!1;if(Array.isArray(n)){const t=n;c=t[1],(null===c||pn(t,c)>0)&&(l=!0)}else c=n;if(i)if(0!==u){const e=ai(t[a+1]);t[r+1]=oi(e,a),0!==e&&(t[e+1]=li(t[e+1],r)),t[a+1]=131071&t[a+1]|r<<17}else t[r+1]=oi(a,0),0!==a&&(t[a+1]=li(t[a+1],r)),a=r;else t[r+1]=oi(u,0),0===a?a=r:t[u+1]=li(t[u+1],r),u=r;l&&(t[r+1]=ui(t[r+1])),Bs(t,c,r,!0),Bs(t,c,r,!1),function(t,e,n,r,i){const s=t.residualClasses;null!=s&&"string"==typeof e&&pn(s,e)>=0&&(n[r+1]=hi(n[r+1]))}(e,c,t,r),o=oi(a,u),e.classBindings=o}(i,s,e,n,o)}}(s,t,o,true),e!==ri&&Ts(i,o,e)&&function(t,e,n,r,i,s,o,a){if(!(3&e.type))return;const u=t.data,c=u[a+1];Zs(1==(1&c)?Qs(u,e,n,i,ci(c),o):void 0)||(Zs(s)||function(t){return 2==(2&t)}(c)&&(s=Qs(u,null,n,i,a,o)),function(t,e,n,r,i){const s=Nt(t);i?s?t.addClass(n,r):n.classList.add(r):s?t.removeClass(n,r):n.classList.remove(r)}(r,0,Rt(ge(),n),i,s))}(s,s.data[ge()],i,i[11],t,i[o+1]=function(t,e){return null==t||"object"==typeof t&&(t=y(Ln(t))),t}(e),true,o)}(t,e),$s}function Ws(t,e,n,r,i){let s=null;const o=n.directiveEnd;let a=n.directiveStylingLast;for(-1===a?a=n.directiveStart:a++;a<o&&(s=e[a],r=Js(r,s.hostAttrs,i),s!==t);)a++;return null!==t&&(n.directiveStylingLast=a),r}function Js(t,e,n){const r=n?1:2;let i=-1;if(null!==e)for(let s=0;s<e.length;s++){const o=e[s];"number"==typeof o?i=o:i===r&&(Array.isArray(t)||(t=void 0===t?[]:["",t]),fn(t,o,!!n||e[++s]))}return void 0===t?null:t}function Qs(t,e,n,r,i,s){const o=null===e;let a=void 0;for(;i>0;){const e=t[i],s=Array.isArray(e),u=s?e[1]:e,c=null===u;let l=n[i+1];l===ri&&(l=c?Ks:void 0);let h=c?dn(l,r):u===r?l:void 0;if(s&&!Zs(h)&&(h=dn(e,r)),Zs(h)&&(a=h,o))return a;const f=t[i+1];i=o?ai(f):ci(f)}if(null!==e){let t=s?e.residualClasses:e.residualStyles;null!=t&&(a=dn(t,r))}return a}function Zs(t){return void 0!==t}function Ys(t,e=""){const n=$t(),r=Wt(),i=t+ht,s=r.firstCreatePass?pi(r,i,1,e,null):r.data[i],o=n[i]=function(t,e){return Nt(t)?t.createText(e):t.createTextNode(e)}(n[11],e);Fr(r,n,o,s),Zt(s,!1)}function Xs(t){return to("",t,""),Xs}function to(t,e,n){const r=$t(),i=xs(r,t,e,n);return i!==ri&&function(t,e,n){const r=Rt(e,t);!function(t,e,n){Nt(t)?t.setValue(e,n):e.textContent=n}(t[11],r,n)}(r,ge(),i),to}function eo(t,e,n){const r=$t();return Ts(r,ne(),e)&&Ti(Wt(),ye(),r,t,e,r[11],n,!0),eo}const no=void 0;var ro=["en",[["a","p"],["AM","PM"],no],[["AM","PM"],no,no],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],no,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],no,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",no,"{1} 'at' {0}",no],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function(t){let e=Math.floor(Math.abs(t)),n=t.toString().replace(/^[^.]*\.?/,"").length;return 1===e&&0===n?1:5}];let io={};function so(t,e,n){"string"!=typeof e&&(n=e,e=t[lo.LocaleId]),e=e.toLowerCase().replace(/_/g,"-"),io[e]=t,n&&(io[e][lo.ExtraData]=n)}function oo(t){const e=function(t){return t.toLowerCase().replace(/_/g,"-")}(t);let n=co(e);if(n)return n;const r=e.split("-")[0];if(n=co(r),n)return n;if("en"===r)return ro;throw new Error(`Missing locale data for the locale "${t}".`)}function ao(t){return oo(t)[lo.CurrencyCode]||null}function uo(t){return oo(t)[lo.PluralCase]}function co(t){return t in io||(io[t]=z.ng&&z.ng.common&&z.ng.common.locales&&z.ng.common.locales[t]),io[t]}var lo=function(t){return t[t.LocaleId=0]="LocaleId",t[t.DayPeriodsFormat=1]="DayPeriodsFormat",t[t.DayPeriodsStandalone=2]="DayPeriodsStandalone",t[t.DaysFormat=3]="DaysFormat",t[t.DaysStandalone=4]="DaysStandalone",t[t.MonthsFormat=5]="MonthsFormat",t[t.MonthsStandalone=6]="MonthsStandalone",t[t.Eras=7]="Eras",t[t.FirstDayOfWeek=8]="FirstDayOfWeek",t[t.WeekendRange=9]="WeekendRange",t[t.DateFormat=10]="DateFormat",t[t.TimeFormat=11]="TimeFormat",t[t.DateTimeFormat=12]="DateTimeFormat",t[t.NumberSymbols=13]="NumberSymbols",t[t.NumberFormats=14]="NumberFormats",t[t.CurrencyCode=15]="CurrencyCode",t[t.CurrencySymbol=16]="CurrencySymbol",t[t.CurrencyName=17]="CurrencyName",t[t.Currencies=18]="Currencies",t[t.Directionality=19]="Directionality",t[t.PluralCase=20]="PluralCase",t[t.ExtraData=21]="ExtraData",t}({});const ho="en-US";let fo=ho;function po(t){var e,n;n="Expected localeId to be defined",null==(e=t)&&function(t,e,n,r){throw new Error("ASSERTION ERROR: "+t+` [Expected=> null != ${e} <=Actual]`)}(n,e),"string"==typeof t&&(fo=t.toLowerCase().replace(/_/g,"-"))}function go(t,e,n,r,i){if(t=w(t),Array.isArray(t))for(let s=0;s<t.length;s++)go(t[s],e,n,r,i);else{const s=Wt(),o=$t();let a=fs(t)?t:w(t.provide),u=cs(t);const c=Jt(),l=1048575&c.providerIndexes,h=c.directiveStart,f=c.providerIndexes>>20;if(fs(t)||!t.multi){const r=new Ce(u,i,js),d=vo(a,e,i?l:l+f,h);-1===d?(qe(Me(c,o),s,a),mo(s,t,e.length),e.push(a),c.directiveStart++,c.directiveEnd++,i&&(c.providerIndexes+=1048576),n.push(r),o.push(r)):(n[d]=r,o[d]=r)}else{const d=vo(a,e,l+f,h),p=vo(a,e,l,l+f),g=d>=0&&n[d],m=p>=0&&n[p];if(i&&!m||!i&&!g){qe(Me(c,o),s,a);const l=function(t,e,n,r,i){const s=new Ce(t,n,js);return s.multi=[],s.index=e,s.componentProviders=0,yo(s,i,r&&!n),s}(i?_o:bo,n.length,i,r,u);!i&&m&&(n[p].providerFactory=l),mo(s,t,e.length,0),e.push(a),c.directiveStart++,c.directiveEnd++,i&&(c.providerIndexes+=1048576),n.push(l),o.push(l)}else mo(s,t,d>-1?d:p,yo(n[i?p:d],u,!i&&r));!i&&r&&m&&n[p].componentProviders++}}}function mo(t,e,n,r){const i=fs(e);if(i||e.useClass){const s=(e.useClass||e).prototype.ngOnDestroy;if(s){const o=t.destroyHooks||(t.destroyHooks=[]);if(!i&&e.multi){const t=o.indexOf(n);-1===t?o.push(n,[r,s]):o[t+1].push(r,s)}else o.push(n,s)}}}function yo(t,e,n){return n&&t.componentProviders++,t.multi.push(e)-1}function vo(t,e,n,r){for(let i=n;i<r;i++)if(e[i]===t)return i;return-1}function bo(t,e,n,r){return wo(this.multi,[])}function _o(t,e,n,r){const i=this.multi;let s;if(this.providerFactory){const t=this.providerFactory.componentProviders,e=Je(n,n[1],this.providerFactory.index,r);s=e.slice(0,t),wo(i,s);for(let n=t;n<e.length;n++)s.push(e[n])}else s=[],wo(i,s);return s}function wo(t,e){for(let n=0;n<t.length;n++)e.push((0,t[n])());return e}function Eo(t,e=[]){return n=>{n.providersResolver=(n,r)=>function(t,e,n){const r=Wt();if(r.firstCreatePass){const i=vt(t);go(n,r.data,r.blueprint,i,!0),go(e,r.data,r.blueprint,i,!1)}}(n,r?r(t):t,e)}}class Oo{}class So{resolveComponentFactory(t){throw function(t){const e=Error(`No component factory found for ${y(t)}. Did you add it to @NgModule.entryComponents?`);return e.ngComponent=t,e}(t)}}let Co=(()=>{class t{}return t.NULL=new So,t})();function To(...t){}function Io(t,e){return new Ao(Lt(t,e))}const xo=function(){return Io(Jt(),$t())};let Ao=(()=>{class t{constructor(t){this.nativeElement=t}}return t.__NG_ELEMENT_ID__=xo,t})();class jo{}let ko=(()=>{class t{}return t.__NG_ELEMENT_ID__=()=>No(),t})();const No=function(){const t=$t(),e=Ft(Jt().index,t);return function(t){return t[11]}(dt(e)?e:t)};let Po=(()=>{class t{}return t.\u0275prov=O({token:t,providedIn:"root",factory:()=>null}),t})();class Do{constructor(t){this.full=t,this.major=t.split(".")[0],this.minor=t.split(".")[1],this.patch=t.split(".").slice(2).join(".")}}const Ro=new Do("11.0.5");class Lo{constructor(){}supports(t){return Os(t)}create(t){return new Fo(t)}}const Mo=(t,e)=>e;class Fo{constructor(t){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=t||Mo}forEachItem(t){let e;for(e=this._itHead;null!==e;e=e._next)t(e)}forEachOperation(t){let e=this._itHead,n=this._removalsHead,r=0,i=null;for(;e||n;){const s=!n||e&&e.currentIndex<Ho(n,r,i)?e:n,o=Ho(s,r,i),a=s.currentIndex;if(s===n)r--,n=n._nextRemoved;else if(e=e._next,null==s.previousIndex)r++;else{i||(i=[]);const t=o-r,e=a-r;if(t!=e){for(let n=0;n<t;n++){const r=n<i.length?i[n]:i[n]=0,s=r+n;e<=s&&s<t&&(i[n]=r+1)}i[s.previousIndex]=e-t}}o!==a&&t(s,o,a)}}forEachPreviousItem(t){let e;for(e=this._previousItHead;null!==e;e=e._nextPrevious)t(e)}forEachAddedItem(t){let e;for(e=this._additionsHead;null!==e;e=e._nextAdded)t(e)}forEachMovedItem(t){let e;for(e=this._movesHead;null!==e;e=e._nextMoved)t(e)}forEachRemovedItem(t){let e;for(e=this._removalsHead;null!==e;e=e._nextRemoved)t(e)}forEachIdentityChange(t){let e;for(e=this._identityChangesHead;null!==e;e=e._nextIdentityChange)t(e)}diff(t){if(null==t&&(t=[]),!Os(t))throw new Error(`Error trying to diff '${y(t)}'. Only arrays and iterables are allowed`);return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let e,n,r,i=this._itHead,s=!1;if(Array.isArray(t)){this.length=t.length;for(let e=0;e<this.length;e++)n=t[e],r=this._trackByFn(e,n),null!==i&&Object.is(i.trackById,r)?(s&&(i=this._verifyReinsertion(i,n,r,e)),Object.is(i.item,n)||this._addIdentityChange(i,n)):(i=this._mismatch(i,n,r,e),s=!0),i=i._next}else e=0,function(t,e){if(Array.isArray(t))for(let n=0;n<t.length;n++)e(t[n]);else{const n=t[Es()]();let r;for(;!(r=n.next()).done;)e(r.value)}}(t,t=>{r=this._trackByFn(e,t),null!==i&&Object.is(i.trackById,r)?(s&&(i=this._verifyReinsertion(i,t,r,e)),Object.is(i.item,t)||this._addIdentityChange(i,t)):(i=this._mismatch(i,t,r,e),s=!0),i=i._next,e++}),this.length=e;return this._truncate(i),this.collection=t,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let t;for(t=this._previousItHead=this._itHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._additionsHead;null!==t;t=t._nextAdded)t.previousIndex=t.currentIndex;for(this._additionsHead=this._additionsTail=null,t=this._movesHead;null!==t;t=t._nextMoved)t.previousIndex=t.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(t,e,n,r){let i;return null===t?i=this._itTail:(i=t._prev,this._remove(t)),null!==(t=null===this._linkedRecords?null:this._linkedRecords.get(n,r))?(Object.is(t.item,e)||this._addIdentityChange(t,e),this._moveAfter(t,i,r)):null!==(t=null===this._unlinkedRecords?null:this._unlinkedRecords.get(n,null))?(Object.is(t.item,e)||this._addIdentityChange(t,e),this._reinsertAfter(t,i,r)):t=this._addAfter(new Vo(e,n),i,r),t}_verifyReinsertion(t,e,n,r){let i=null===this._unlinkedRecords?null:this._unlinkedRecords.get(n,null);return null!==i?t=this._reinsertAfter(i,t._prev,r):t.currentIndex!=r&&(t.currentIndex=r,this._addToMoves(t,r)),t}_truncate(t){for(;null!==t;){const e=t._next;this._addToRemovals(this._unlink(t)),t=e}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(t,e,n){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(t);const r=t._prevRemoved,i=t._nextRemoved;return null===r?this._removalsHead=i:r._nextRemoved=i,null===i?this._removalsTail=r:i._prevRemoved=r,this._insertAfter(t,e,n),this._addToMoves(t,n),t}_moveAfter(t,e,n){return this._unlink(t),this._insertAfter(t,e,n),this._addToMoves(t,n),t}_addAfter(t,e,n){return this._insertAfter(t,e,n),this._additionsTail=null===this._additionsTail?this._additionsHead=t:this._additionsTail._nextAdded=t,t}_insertAfter(t,e,n){const r=null===e?this._itHead:e._next;return t._next=r,t._prev=e,null===r?this._itTail=t:r._prev=t,null===e?this._itHead=t:e._next=t,null===this._linkedRecords&&(this._linkedRecords=new qo),this._linkedRecords.put(t),t.currentIndex=n,t}_remove(t){return this._addToRemovals(this._unlink(t))}_unlink(t){null!==this._linkedRecords&&this._linkedRecords.remove(t);const e=t._prev,n=t._next;return null===e?this._itHead=n:e._next=n,null===n?this._itTail=e:n._prev=e,t}_addToMoves(t,e){return t.previousIndex===e||(this._movesTail=null===this._movesTail?this._movesHead=t:this._movesTail._nextMoved=t),t}_addToRemovals(t){return null===this._unlinkedRecords&&(this._unlinkedRecords=new qo),this._unlinkedRecords.put(t),t.currentIndex=null,t._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=t,t._prevRemoved=null):(t._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=t),t}_addIdentityChange(t,e){return t.item=e,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=t:this._identityChangesTail._nextIdentityChange=t,t}}class Vo{constructor(t,e){this.item=t,this.trackById=e,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class Uo{constructor(){this._head=null,this._tail=null}add(t){null===this._head?(this._head=this._tail=t,t._nextDup=null,t._prevDup=null):(this._tail._nextDup=t,t._prevDup=this._tail,t._nextDup=null,this._tail=t)}get(t,e){let n;for(n=this._head;null!==n;n=n._nextDup)if((null===e||e<=n.currentIndex)&&Object.is(n.trackById,t))return n;return null}remove(t){const e=t._prevDup,n=t._nextDup;return null===e?this._head=n:e._nextDup=n,null===n?this._tail=e:n._prevDup=e,null===this._head}}class qo{constructor(){this.map=new Map}put(t){const e=t.trackById;let n=this.map.get(e);n||(n=new Uo,this.map.set(e,n)),n.add(t)}get(t,e){const n=this.map.get(t);return n?n.get(t,e):null}remove(t){const e=t.trackById;return this.map.get(e).remove(t)&&this.map.delete(e),t}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function Ho(t,e,n){const r=t.previousIndex;if(null===r)return r;let i=0;return n&&r<n.length&&(i=n[r]),r+e+i}class zo{constructor(){}supports(t){return t instanceof Map||Ss(t)}create(){return new Ko}}class Ko{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(t){let e;for(e=this._mapHead;null!==e;e=e._next)t(e)}forEachPreviousItem(t){let e;for(e=this._previousMapHead;null!==e;e=e._nextPrevious)t(e)}forEachChangedItem(t){let e;for(e=this._changesHead;null!==e;e=e._nextChanged)t(e)}forEachAddedItem(t){let e;for(e=this._additionsHead;null!==e;e=e._nextAdded)t(e)}forEachRemovedItem(t){let e;for(e=this._removalsHead;null!==e;e=e._nextRemoved)t(e)}diff(t){if(t){if(!(t instanceof Map||Ss(t)))throw new Error(`Error trying to diff '${y(t)}'. Only maps and objects are allowed`)}else t=new Map;return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let e=this._mapHead;if(this._appendAfter=null,this._forEach(t,(t,n)=>{if(e&&e.key===n)this._maybeAddToChanges(e,t),this._appendAfter=e,e=e._next;else{const r=this._getOrCreateRecordForKey(n,t);e=this._insertBeforeOrAppend(e,r)}}),e){e._prev&&(e._prev._next=null),this._removalsHead=e;for(let t=e;null!==t;t=t._nextRemoved)t===this._mapHead&&(this._mapHead=null),this._records.delete(t.key),t._nextRemoved=t._next,t.previousValue=t.currentValue,t.currentValue=null,t._prev=null,t._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(t,e){if(t){const n=t._prev;return e._next=t,e._prev=n,t._prev=e,n&&(n._next=e),t===this._mapHead&&(this._mapHead=e),this._appendAfter=t,t}return this._appendAfter?(this._appendAfter._next=e,e._prev=this._appendAfter):this._mapHead=e,this._appendAfter=e,null}_getOrCreateRecordForKey(t,e){if(this._records.has(t)){const n=this._records.get(t);this._maybeAddToChanges(n,e);const r=n._prev,i=n._next;return r&&(r._next=i),i&&(i._prev=r),n._next=null,n._prev=null,n}const n=new Bo(t);return this._records.set(t,n),n.currentValue=e,this._addToAdditions(n),n}_reset(){if(this.isDirty){let t;for(this._previousMapHead=this._mapHead,t=this._previousMapHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._changesHead;null!==t;t=t._nextChanged)t.previousValue=t.currentValue;for(t=this._additionsHead;null!=t;t=t._nextAdded)t.previousValue=t.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(t,e){Object.is(e,t.currentValue)||(t.previousValue=t.currentValue,t.currentValue=e,this._addToChanges(t))}_addToAdditions(t){null===this._additionsHead?this._additionsHead=this._additionsTail=t:(this._additionsTail._nextAdded=t,this._additionsTail=t)}_addToChanges(t){null===this._changesHead?this._changesHead=this._changesTail=t:(this._changesTail._nextChanged=t,this._changesTail=t)}_forEach(t,e){t instanceof Map?t.forEach(e):Object.keys(t).forEach(n=>e(t[n],n))}}class Bo{constructor(t){this.key=t,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}let Go=(()=>{class t{constructor(t){this.factories=t}static create(e,n){if(null!=n){const t=n.factories.slice();e=e.concat(t)}return new t(e)}static extend(e){return{provide:t,useFactory:n=>{if(!n)throw new Error("Cannot extend IterableDiffers without a parent injector");return t.create(e,n)},deps:[[t,new vn,new mn]]}}find(t){const e=this.factories.find(e=>e.supports(t));if(null!=e)return e;throw new Error(`Cannot find a differ supporting object '${t}' of type '${n=t,n.name||typeof n}'`);var n}}return t.\u0275prov=O({token:t,providedIn:"root",factory:()=>new t([new Lo])}),t})(),$o=(()=>{class t{constructor(t){this.factories=t}static create(e,n){if(n){const t=n.factories.slice();e=e.concat(t)}return new t(e)}static extend(e){return{provide:t,useFactory:n=>{if(!n)throw new Error("Cannot extend KeyValueDiffers without a parent injector");return t.create(e,n)},deps:[[t,new vn,new mn]]}}find(t){const e=this.factories.find(e=>e.supports(t));if(e)return e;throw new Error(`Cannot find a differ supporting object '${t}'`)}}return t.\u0275prov=O({token:t,providedIn:"root",factory:()=>new t([new zo])}),t})();function Wo(t,e,n,r,i=!1){for(;null!==n;){const s=e[n.index];if(null!==s&&r.push(Dt(s)),pt(s))for(let t=ft;t<s.length;t++){const e=s[t],n=e[1].firstChild;null!==n&&Wo(e[1],e,n,r)}const o=n.type;if(8&o)Wo(t,e,n.child,r);else if(32&o){const t=Or(n,e);let i;for(;i=t();)r.push(i)}else if(16&o){const t=e[16],i=t[6].projection[n.projection];if(Array.isArray(i))r.push(...i);else{const e=Sr(t);Wo(e[1],e,i,r,!0)}}n=i?n.projectionNext:n.next}return r}class Jo{constructor(t,e){this._lView=t,this._cdRefInjectingView=e,this._appRef=null,this._viewContainerRef=null}get rootNodes(){const t=this._lView,e=t[1];return Wo(e,t,e.firstChild,[])}get context(){return this._lView[8]}get destroyed(){return 256==(256&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._viewContainerRef){const t=this._viewContainerRef.indexOf(this);t>-1&&this._viewContainerRef.detach(t),this._viewContainerRef=null}Nr(this._lView[1],this._lView)}onDestroy(t){Si(this._lView[1],this._lView,null,t)}markForCheck(){Hi(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-129}reattach(){this._lView[2]|=128}detectChanges(){zi(this._lView[1],this._lView,this.context)}checkNoChanges(){!function(t,e,n){te(!0);try{zi(t,e,n)}finally{te(!1)}}(this._lView[1],this._lView,this.context)}attachToViewContainerRef(t){if(this._appRef)throw new Error("This view is already attached directly to the ApplicationRef!");this._viewContainerRef=t}detachFromAppRef(){var t;this._appRef=null,Hr(this._lView[1],t=this._lView,t[11],2,null,null)}attachToAppRef(t){if(this._viewContainerRef)throw new Error("This view is already attached to a ViewContainer!");this._appRef=t}}class Qo extends Jo{constructor(t){super(t),this._view=t}detectChanges(){Ki(this._view)}checkNoChanges(){!function(t){te(!0);try{Ki(t)}finally{te(!1)}}(this._view)}get context(){return null}}const Zo=Xo;let Yo=(()=>{class t{}return t.__NG_ELEMENT_ID__=Zo,t.__ChangeDetectorRef__=!0,t})();function Xo(t=!1){return function(t,e,n){if(!n&&mt(t)){const n=Ft(t.index,e);return new Jo(n,n)}return 47&t.type?new Jo(e[16],e):null}(Jt(),$t(),t)}const ta=[new zo],ea=new Go([new Lo]),na=new $o(ta),ra=function(){return aa(Jt(),$t())};let ia=(()=>{class t{}return t.__NG_ELEMENT_ID__=ra,t})();const sa=ia,oa=class extends sa{constructor(t,e,n){super(),this._declarationLView=t,this._declarationTContainer=e,this.elementRef=n}createEmbeddedView(t){const e=this._declarationTContainer.tViews,n=di(this._declarationLView,e,t,16,null,e.declTNode,null,null,null,null);n[17]=this._declarationLView[this._declarationTContainer.index];const r=this._declarationLView[19];return null!==r&&(n[19]=r.createEmbeddedView(e)),mi(e,n,t),new Jo(n)}};function aa(t,e){return 4&t.type?new oa(e,t,Io(t,e)):null}class ua{}class ca{}const la=function(){return ma(Jt(),$t())};let ha=(()=>{class t{}return t.__NG_ELEMENT_ID__=la,t})();const fa=ha,da=class extends fa{constructor(t,e,n){super(),this._lContainer=t,this._hostTNode=e,this._hostLView=n}get element(){return Io(this._hostTNode,this._hostLView)}get injector(){return new Ye(this._hostTNode,this._hostLView)}get parentInjector(){const t=Ue(this._hostTNode,this._hostLView);if(ke(t)){const e=Pe(t,this._hostLView),n=Ne(t);return new Ye(e[1].data[n+8],e)}return new Ye(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(t){const e=pa(this._lContainer);return null!==e&&e[t]||null}get length(){return this._lContainer.length-ft}createEmbeddedView(t,e,n){const r=t.createEmbeddedView(e||{});return this.insert(r,n),r}createComponent(t,e,n,r,i){const s=n||this.parentInjector;if(!i&&null==t.ngModule&&s){const t=s.get(ua,null);t&&(i=t)}const o=t.create(s,r,void 0,i);return this.insert(o.hostView,e),o}insert(t,e){const n=t._lView,r=n[1];if(pt(n[3])){const e=this.indexOf(t);if(-1!==e)this.detach(e);else{const e=n[3],r=new da(e,e[6],e[3]);r.detach(r.indexOf(t))}}const i=this._adjustIndex(e),s=this._lContainer;!function(t,e,n,r){const i=ft+r,s=n.length;r>0&&(n[i-1][4]=e),r<s-ft?(e[4]=n[i],ln(n,ft+r,e)):(n.push(e),e[4]=null),e[3]=n;const o=e[17];null!==o&&n!==o&&function(t,e){const n=t[9];e[16]!==e[3][3][16]&&(t[2]=!0),null===n?t[9]=[e]:n.push(e)}(o,e);const a=e[19];null!==a&&a.insertView(t),e[2]|=128}(r,n,s,i);const o=Ur(i,s),a=n[11],u=Mr(a,s[7]);return null!==u&&function(t,e,n,r,i,s){r[0]=i,r[6]=e,Hr(t,r,n,1,i,s)}(r,s[6],a,n,u,o),t.attachToViewContainerRef(this),ln(ga(s),i,t),t}move(t,e){return this.insert(t,e)}indexOf(t){const e=pa(this._lContainer);return null!==e?e.indexOf(t):-1}remove(t){const e=this._adjustIndex(t,-1),n=kr(this._lContainer,e);n&&(hn(ga(this._lContainer),e),Nr(n[1],n))}detach(t){const e=this._adjustIndex(t,-1),n=kr(this._lContainer,e);return n&&null!=hn(ga(this._lContainer),e)?new Jo(n):null}_adjustIndex(t,e=0){return null==t?this.length+e:t}};function pa(t){return t[8]}function ga(t){return t[8]||(t[8]=[])}function ma(t,e){let n;const r=e[t.index];if(pt(r))n=r;else{let i;if(8&t.type)i=Dt(r);else{const n=e[11];i=n.createComment("");const r=Lt(t,e);Dr(n,Mr(n,r),i,function(t,e){return Nt(t)?t.nextSibling(e):e.nextSibling}(n,r),!1)}e[t.index]=n=Mi(r,e,i,t),qi(e,n)}return new da(n,t,e)}const ya={};class va extends Co{constructor(t){super(),this.ngModule=t}resolveComponentFactory(t){const e=ct(t);return new wa(e,this.ngModule)}}function ba(t){const e=[];for(let n in t)t.hasOwnProperty(n)&&e.push({propName:t[n],templateName:n});return e}const _a=new sn("SCHEDULER_TOKEN",{providedIn:"root",factory:()=>_r});class wa extends Oo{constructor(t,e){super(),this.componentDef=t,this.ngModule=e,this.componentType=t.type,this.selector=t.selectors.map(ni).join(","),this.ngContentSelectors=t.ngContentSelectors?t.ngContentSelectors:[],this.isBoundToModule=!!e}get inputs(){return ba(this.componentDef.inputs)}get outputs(){return ba(this.componentDef.outputs)}create(t,e,n,r){const i=(r=r||this.ngModule)?function(t,e){return{get:(n,r,i)=>{const s=t.get(n,ya,i);return s!==ya||r===ya?s:e.get(n,r,i)}}}(t,r.injector):t,s=i.get(jo,Pt),o=i.get(Po,null),a=s.createRenderer(null,this.componentDef),u=this.componentDef.selectors[0][0]||"div",c=n?function(t,e,n){if(Nt(t))return t.selectRootElement(e,n===F.ShadowDom);let r="string"==typeof e?t.querySelector(e):e;return r.textContent="",r}(a,n,this.componentDef.encapsulation):Ar(s.createRenderer(null,this.componentDef),u,function(t){const e=t.toLowerCase();return"svg"===e?"http://www.w3.org/2000/svg":"math"===e?"http://www.w3.org/1998/MathML/":null}(u)),l=this.componentDef.onPush?576:528,h={components:[],scheduler:_r,clean:Gi,playerHandler:null,flags:0},f=Oi(0,null,null,1,0,null,null,null,null,null),d=di(null,f,h,l,null,null,s,a,o,i);let p,g;ce(d);try{const t=function(t,e,n,r,i,s){const o=n[1];n[20]=t;const a=pi(o,20,2,"#host",null),u=a.mergedAttrs=e.hostAttrs;null!==u&&(Zi(a,u,!0),null!==t&&(Te(i,t,u),null!==a.classes&&Br(i,t,a.classes),null!==a.styles&&Kr(i,t,a.styles)));const c=r.createRenderer(t,e),l=di(n,Ei(e),null,e.onPush?64:16,n[20],a,r,c,null,null);return o.firstCreatePass&&(qe(Me(a,n),o,e.type),ji(o,a),Ni(a,n.length,1)),qi(n,l),n[20]=l}(c,this.componentDef,d,s,a);if(c)if(n)Te(a,c,["ng-version",Ro.full]);else{const{attrs:t,classes:e}=function(t){const e=[],n=[];let r=1,i=2;for(;r<t.length;){let s=t[r];if("string"==typeof s)2===i?""!==s&&e.push(s,t[++r]):8===i&&n.push(s);else{if(!Yr(i))break;i=s}r++}return{attrs:e,classes:n}}(this.componentDef.selectors[0]);t&&Te(a,c,t),e&&e.length>0&&Br(a,c,e.join(" "))}if(g=Mt(f,ht),void 0!==e){const t=g.projection=[];for(let n=0;n<this.ngContentSelectors.length;n++){const r=e[n];t.push(null!=r?Array.from(r):null)}}p=function(t,e,n,r,i){const s=n[1],o=function(t,e,n){const r=Jt();t.firstCreatePass&&(n.providersResolver&&n.providersResolver(n),Pi(t,r,e,gi(t,e,1,null),n));const i=Je(e,t,r.directiveStart,r);br(i,e);const s=Lt(r,e);return s&&br(s,e),i}(s,n,e);if(r.components.push(o),t[8]=o,i&&i.forEach(t=>t(o,e)),e.contentQueries){const t=Jt();e.contentQueries(1,o,t.directiveStart)}const a=Jt();return!s.firstCreatePass||null===e.hostBindings&&null===e.hostAttrs||(me(a.index),xi(n[1],a,0,a.directiveStart,a.directiveEnd,e),Ai(e,o)),o}(t,this.componentDef,d,h,[gs]),mi(f,d,null)}finally{pe()}return new Ea(this.componentType,p,Io(g,d),d,g)}}class Ea extends class{}{constructor(t,e,n,r,i){super(),this.location=n,this._rootLView=r,this._tNode=i,this.instance=e,this.hostView=this.changeDetectorRef=new Qo(r),this.componentType=t}get injector(){return new Ye(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(t){this.hostView.onDestroy(t)}}const Oa=new Map;class Sa extends ua{constructor(t,e){super(),this._parent=e,this._bootstrapComponents=[],this.injector=this,this.destroyCbs=[],this.componentFactoryResolver=new va(this);const n=lt(t),r=t[Q]||null;r&&po(r),this._bootstrapComponents=wr(n.bootstrap),this._r3Injector=os(t,e,[{provide:ua,useValue:this},{provide:Co,useValue:this.componentFactoryResolver}],y(t)),this._r3Injector._resolveInjectorDefTypes(),this.instance=this.get(t)}get(t,e=ps.THROW_IF_NOT_FOUND,n=N.Default){return t===ps||t===ua||t===Yi?this:this._r3Injector.get(t,e,n)}destroy(){const t=this._r3Injector;!t.destroyed&&t.destroy(),this.destroyCbs.forEach(t=>t()),this.destroyCbs=null}onDestroy(t){this.destroyCbs.push(t)}}class Ca extends ca{constructor(t){super(),this.moduleType=t,null!==lt(t)&&function(t){const e=new Set;!function t(n){const r=lt(n,!0),i=r.id;null!==i&&(function(t,e,n){if(e&&e!==n)throw new Error(`Duplicate module registered for ${t} - ${y(e)} vs ${y(e.name)}`)}(i,Oa.get(i),n),Oa.set(i,n));const s=wr(r.imports);for(const o of s)e.has(o)||(e.add(o),t(o))}(t)}(t)}create(t){return new Sa(this.moduleType,t)}}function Ta(t,e,n){const r=ee()+t,i=$t();return i[r]===ri?Cs(i,r,n?e.call(n):e()):function(t,e){return t[e]}(i,r)}function Ia(t,e,n,r){return function(t,e,n,r,i,s){const o=e+n;return Ts(t,o,i)?Cs(t,o+1,s?r.call(s,i):r(i)):function(t,e){const n=t[e];return n===ri?void 0:n}(t,o+1)}($t(),ee(),t,e,n,r)}const xa=class extends r.a{constructor(t=!1){super(),this.__isAsync=t}emit(t){super.next(t)}subscribe(t,e,n){let r,s=t=>null,o=()=>null;t&&"object"==typeof t?(r=this.__isAsync?e=>{setTimeout(()=>t.next(e))}:e=>{t.next(e)},t.error&&(s=this.__isAsync?e=>{setTimeout(()=>t.error(e))}:e=>{t.error(e)}),t.complete&&(o=this.__isAsync?()=>{setTimeout(()=>t.complete())}:()=>{t.complete()})):(r=this.__isAsync?e=>{setTimeout(()=>t(e))}:e=>{t(e)},e&&(s=this.__isAsync?t=>{setTimeout(()=>e(t))}:t=>{e(t)}),n&&(o=this.__isAsync?()=>{setTimeout(()=>n())}:()=>{n()}));const a=super.subscribe(r,s,o);return t instanceof i.a&&t.add(a),a}};function Aa(){return this._results[Es()]()}class ja{constructor(){this.dirty=!0,this._results=[],this.changes=new xa,this.length=0;const t=Es(),e=ja.prototype;e[t]||(e[t]=Aa)}map(t){return this._results.map(t)}filter(t){return this._results.filter(t)}find(t){return this._results.find(t)}reduce(t,e){return this._results.reduce(t,e)}forEach(t){this._results.forEach(t)}some(t){return this._results.some(t)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(t){this._results=un(t),this.dirty=!1,this.length=this._results.length,this.last=this._results[this.length-1],this.first=this._results[0]}notifyOnChanges(){this.changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}class ka{constructor(t){this.queryList=t,this.matches=null}clone(){return new ka(this.queryList)}setDirty(){this.queryList.setDirty()}}class Na{constructor(t=[]){this.queries=t}createEmbeddedView(t){const e=t.queries;if(null!==e){const n=null!==t.contentQueries?t.contentQueries[0]:e.length,r=[];for(let t=0;t<n;t++){const n=e.getByIndex(t);r.push(this.queries[n.indexInDeclarationView].clone())}return new Na(r)}return null}insertView(t){this.dirtyQueriesWithMatches(t)}detachView(t){this.dirtyQueriesWithMatches(t)}dirtyQueriesWithMatches(t){for(let e=0;e<this.queries.length;e++)null!==za(t,e).matches&&this.queries[e].setDirty()}}class Pa{constructor(t,e,n,r=null){this.predicate=t,this.descendants=e,this.isStatic=n,this.read=r}}class Da{constructor(t=[]){this.queries=t}elementStart(t,e){for(let n=0;n<this.queries.length;n++)this.queries[n].elementStart(t,e)}elementEnd(t){for(let e=0;e<this.queries.length;e++)this.queries[e].elementEnd(t)}embeddedTView(t){let e=null;for(let n=0;n<this.length;n++){const r=null!==e?e.length:0,i=this.getByIndex(n).embeddedTView(t,r);i&&(i.indexInDeclarationView=n,null!==e?e.push(i):e=[i])}return null!==e?new Da(e):null}template(t,e){for(let n=0;n<this.queries.length;n++)this.queries[n].template(t,e)}getByIndex(t){return this.queries[t]}get length(){return this.queries.length}track(t){this.queries.push(t)}}class Ra{constructor(t,e=-1){this.metadata=t,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=e}elementStart(t,e){this.isApplyingToNode(e)&&this.matchTNode(t,e)}elementEnd(t){this._declarationNodeIndex===t.index&&(this._appliesToNextNode=!1)}template(t,e){this.elementStart(t,e)}embeddedTView(t,e){return this.isApplyingToNode(t)?(this.crossesNgTemplate=!0,this.addMatch(-t.index,e),new Ra(this.metadata)):null}isApplyingToNode(t){if(this._appliesToNextNode&&!1===this.metadata.descendants){const e=this._declarationNodeIndex;let n=t.parent;for(;null!==n&&8&n.type&&n.index!==e;)n=n.parent;return e===(null!==n?n.index:-1)}return this._appliesToNextNode}matchTNode(t,e){const n=this.metadata.predicate;if(Array.isArray(n))for(let r=0;r<n.length;r++){const i=n[r];this.matchTNodeWithReadOption(t,e,La(e,i)),this.matchTNodeWithReadOption(t,e,We(e,t,i,!1,!1))}else n===ia?4&e.type&&this.matchTNodeWithReadOption(t,e,-1):this.matchTNodeWithReadOption(t,e,We(e,t,n,!1,!1))}matchTNodeWithReadOption(t,e,n){if(null!==n){const r=this.metadata.read;if(null!==r)if(r===Ao||r===ha||r===ia&&4&e.type)this.addMatch(e.index,-2);else{const n=We(e,t,r,!1,!1);null!==n&&this.addMatch(e.index,n)}else this.addMatch(e.index,n)}}addMatch(t,e){null===this.matches?this.matches=[t,e]:this.matches.push(t,e)}}function La(t,e){const n=t.localNames;if(null!==n)for(let r=0;r<n.length;r+=2)if(n[r]===e)return n[r+1];return null}function Ma(t,e,n,r){return-1===n?function(t,e){return 11&t.type?Io(t,e):4&t.type?aa(t,e):null}(e,t):-2===n?function(t,e,n){return n===Ao?Io(e,t):n===ia?aa(e,t):n===ha?ma(e,t):void 0}(t,e,r):Je(t,t[1],n,e)}function Fa(t,e,n,r){const i=e[19].queries[r];if(null===i.matches){const r=t.data,s=n.matches,o=[];for(let t=0;t<s.length;t+=2){const i=s[t];o.push(i<0?null:Ma(e,r[i],s[t+1],n.metadata.read))}i.matches=o}return i.matches}function Va(t,e,n,r){const i=t.queries.getByIndex(n),s=i.matches;if(null!==s){const o=Fa(t,e,i,n);for(let t=0;t<s.length;t+=2){const n=s[t];if(n>0)r.push(o[t/2]);else{const i=s[t+1],o=e[-n];for(let t=ft;t<o.length;t++){const e=o[t];e[17]===e[3]&&Va(e[1],e,i,r)}if(null!==o[9]){const t=o[9];for(let e=0;e<t.length;e++){const n=t[e];Va(n[1],n,i,r)}}}}}return r}function Ua(t){const e=$t(),n=Wt(),r=se();oe(r+1);const i=za(n,r);if(t.dirty&&Ut(e)===i.metadata.isStatic){if(null===i.matches)t.reset([]);else{const s=i.crossesNgTemplate?Va(n,e,r,[]):Fa(n,e,i,r);t.reset(s),t.notifyOnChanges()}return!0}return!1}function qa(t,e,n,r){!function(t,e,n,r,i,s,o,a){t.firstCreatePass&&(function(t,e,n){null===t.queries&&(t.queries=new Da),t.queries.track(new Ra(e,n))}(t,new Pa(n,r,false,i),o.index),function(t,e){const n=t.contentQueries||(t.contentQueries=[]);e!==(n.length?n[n.length-1]:-1)&&n.push(t.queries.length-1,e)}(t,a)),function(t,e){const n=new ja;Si(t,e,n,n.destroy),null===e[19]&&(e[19]=new Na),e[19].queries.push(new ka(n))}(t,e)}(Wt(),$t(),e,n,r,0,Jt(),t)}function Ha(){return t=$t(),e=se(),t[19].queries[e].queryList;var t,e}function za(t,e){return t.queries.getByIndex(e)}function Ka(t=N.Default){const e=Xo(!0);if(null!=e||t&N.Optional)return e;Ot("ChangeDetectorRef")}const Ba=new sn("Application Initializer");let Ga=(()=>{class t{constructor(t){this.appInits=t,this.resolve=To,this.reject=To,this.initialized=!1,this.done=!1,this.donePromise=new Promise((t,e)=>{this.resolve=t,this.reject=e})}runInitializers(){if(this.initialized)return;const t=[],e=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let n=0;n<this.appInits.length;n++){const e=this.appInits[n]();Ls(e)&&t.push(e)}Promise.all(t).then(()=>{e()}).catch(t=>{this.reject(t)}),0===t.length&&e(),this.initialized=!0}}return t.\u0275fac=function(e){return new(e||t)(In(Ba,8))},t.\u0275prov=O({token:t,factory:t.\u0275fac}),t})();const $a=new sn("AppId"),Wa={provide:$a,useFactory:function(){return`${Ja()}${Ja()}${Ja()}`},deps:[]};function Ja(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const Qa=new sn("Platform Initializer"),Za=new sn("Platform ID"),Ya=new sn("appBootstrapListener");let Xa=(()=>{class t{log(t){console.log(t)}warn(t){console.warn(t)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=O({token:t,factory:t.\u0275fac}),t})();const tu=new sn("LocaleId"),eu=new sn("DefaultCurrencyCode");class nu{constructor(t,e){this.ngModuleFactory=t,this.componentFactories=e}}const ru=function(t){return new Ca(t)},iu=ru,su=function(t){return Promise.resolve(ru(t))},ou=function(t){const e=ru(t),n=wr(lt(t).declarations).reduce((t,e)=>{const n=ct(e);return n&&t.push(new wa(n)),t},[]);return new nu(e,n)},au=ou,uu=function(t){return Promise.resolve(ou(t))};let cu=(()=>{class t{constructor(){this.compileModuleSync=iu,this.compileModuleAsync=su,this.compileModuleAndAllComponentsSync=au,this.compileModuleAndAllComponentsAsync=uu}clearCache(){}clearCacheFor(t){}getModuleId(t){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=O({token:t,factory:t.\u0275fac}),t})();const lu=(()=>Promise.resolve(0))();function hu(t){"undefined"==typeof Zone?lu.then(()=>{t&&t.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",t)}class fu{constructor({enableLongStackTrace:t=!1,shouldCoalesceEventChangeDetection:e=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new xa(!1),this.onMicrotaskEmpty=new xa(!1),this.onStable=new xa(!1),this.onError=new xa(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched();const n=this;n._nesting=0,n._outer=n._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(n._inner=n._inner.fork(new Zone.TaskTrackingZoneSpec)),t&&Zone.longStackTraceZoneSpec&&(n._inner=n._inner.fork(Zone.longStackTraceZoneSpec)),n.shouldCoalesceEventChangeDetection=e,n.lastRequestAnimationFrameId=-1,n.nativeRequestAnimationFrame=function(){let t=z.requestAnimationFrame,e=z.cancelAnimationFrame;if("undefined"!=typeof Zone&&t&&e){const n=t[Zone.__symbol__("OriginalDelegate")];n&&(t=n);const r=e[Zone.__symbol__("OriginalDelegate")];r&&(e=r)}return{nativeRequestAnimationFrame:t,nativeCancelAnimationFrame:e}}().nativeRequestAnimationFrame,function(t){const e=!!t.shouldCoalesceEventChangeDetection&&t.nativeRequestAnimationFrame&&(()=>{!function(t){-1===t.lastRequestAnimationFrameId&&(t.lastRequestAnimationFrameId=t.nativeRequestAnimationFrame.call(z,()=>{t.fakeTopEventTask||(t.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{t.lastRequestAnimationFrameId=-1,gu(t),pu(t)},void 0,()=>{},()=>{})),t.fakeTopEventTask.invoke()}),gu(t))}(t)});t._inner=t._inner.fork({name:"angular",properties:{isAngularZone:!0,maybeDelayChangeDetection:e},onInvokeTask:(n,r,i,s,o,a)=>{try{return mu(t),n.invokeTask(i,s,o,a)}finally{e&&"eventTask"===s.type&&e(),yu(t)}},onInvoke:(e,n,r,i,s,o,a)=>{try{return mu(t),e.invoke(r,i,s,o,a)}finally{yu(t)}},onHasTask:(e,n,r,i)=>{e.hasTask(r,i),n===r&&("microTask"==i.change?(t._hasPendingMicrotasks=i.microTask,gu(t),pu(t)):"macroTask"==i.change&&(t.hasPendingMacrotasks=i.macroTask))},onHandleError:(e,n,r,i)=>(e.handleError(r,i),t.runOutsideAngular(()=>t.onError.emit(i)),!1)})}(n)}static isInAngularZone(){return!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!fu.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}static assertNotInAngularZone(){if(fu.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}run(t,e,n){return this._inner.run(t,e,n)}runTask(t,e,n,r){const i=this._inner,s=i.scheduleEventTask("NgZoneEvent: "+r,t,du,To,To);try{return i.runTask(s,e,n)}finally{i.cancelTask(s)}}runGuarded(t,e,n){return this._inner.runGuarded(t,e,n)}runOutsideAngular(t){return this._outer.run(t)}}const du={};function pu(t){if(0==t._nesting&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function gu(t){t.hasPendingMicrotasks=!!(t._hasPendingMicrotasks||t.shouldCoalesceEventChangeDetection&&-1!==t.lastRequestAnimationFrameId)}function mu(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function yu(t){t._nesting--,pu(t)}class vu{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new xa,this.onMicrotaskEmpty=new xa,this.onStable=new xa,this.onError=new xa}run(t,e,n){return t.apply(e,n)}runGuarded(t,e,n){return t.apply(e,n)}runOutsideAngular(t){return t()}runTask(t,e,n,r){return t.apply(e,n)}}let bu=(()=>{class t{constructor(t){this._ngZone=t,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),t.run(()=>{this.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{fu.assertNotInAngularZone(),hu(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())hu(()=>{for(;0!==this._callbacks.length;){let t=this._callbacks.pop();clearTimeout(t.timeoutId),t.doneCb(this._didWork)}this._didWork=!1});else{let t=this.getPendingTasks();this._callbacks=this._callbacks.filter(e=>!e.updateCb||!e.updateCb(t)||(clearTimeout(e.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(t=>({source:t.source,creationLocation:t.creationLocation,data:t.data})):[]}addCallback(t,e,n){let r=-1;e&&e>0&&(r=setTimeout(()=>{this._callbacks=this._callbacks.filter(t=>t.timeoutId!==r),t(this._didWork,this.getPendingTasks())},e)),this._callbacks.push({doneCb:t,timeoutId:r,updateCb:n})}whenStable(t,e,n){if(n&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/dist/task-tracking.js" loaded?');this.addCallback(t,e,n),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}findProviders(t,e,n){return[]}}return t.\u0275fac=function(e){return new(e||t)(In(fu))},t.\u0275prov=O({token:t,factory:t.\u0275fac}),t})(),_u=(()=>{class t{constructor(){this._applications=new Map,Su.addToWindow(this)}registerApplication(t,e){this._applications.set(t,e)}unregisterApplication(t){this._applications.delete(t)}unregisterAllApplications(){this._applications.clear()}getTestability(t){return this._applications.get(t)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(t,e=!0){return Su.findTestabilityInTree(this,t,e)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=O({token:t,factory:t.\u0275fac}),t})();class wu{addToWindow(t){}findTestabilityInTree(t,e,n){return null}}function Eu(t){Su=t}let Ou,Su=new wu,Cu=!0,Tu=!1;function Iu(){return Tu=!0,Cu}function xu(){if(Tu)throw new Error("Cannot enable prod mode after platform setup.");Cu=!1}const Au=new sn("AllowMultipleToken");class ju{constructor(t,e){this.name=t,this.token=e}}function ku(t,e,n=[]){const r="Platform: "+e,i=new sn(r);return(e=[])=>{let s=Nu();if(!s||s.injector.get(Au,!1))if(t)t(n.concat(e).concat({provide:i,useValue:!0}));else{const t=n.concat(e).concat({provide:i,useValue:!0},{provide:ts,useValue:"platform"});!function(t){if(Ou&&!Ou.destroyed&&!Ou.injector.get(Au,!1))throw new Error("There can be only one platform. Destroy the previous one to create a new one.");Ou=t.get(Pu);const e=t.get(Qa,null);e&&e.forEach(t=>t())}(ps.create({providers:t,name:r}))}return function(t){const e=Nu();if(!e)throw new Error("No platform exists!");if(!e.injector.get(t,null))throw new Error("A platform with a different configuration has been created. Please destroy it first.");return e}(i)}}function Nu(){return Ou&&!Ou.destroyed?Ou:null}let Pu=(()=>{class t{constructor(t){this._injector=t,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(t,e){const n=function(t,e){let n;return n="noop"===t?new vu:("zone.js"===t?void 0:t)||new fu({enableLongStackTrace:Iu(),shouldCoalesceEventChangeDetection:e}),n}(e?e.ngZone:void 0,e&&e.ngZoneEventCoalescing||!1),r=[{provide:fu,useValue:n}];return n.run(()=>{const e=ps.create({providers:r,parent:this.injector,name:t.moduleType.name}),i=t.create(e),s=i.injector.get(vr,null);if(!s)throw new Error("No ErrorHandler. Is platform module (BrowserModule) included?");return n.runOutsideAngular(()=>{const t=n.onError.subscribe({next:t=>{s.handleError(t)}});i.onDestroy(()=>{Lu(this._modules,i),t.unsubscribe()})}),function(t,e,n){try{const r=n();return Ls(r)?r.catch(n=>{throw e.runOutsideAngular(()=>t.handleError(n)),n}):r}catch(r){throw e.runOutsideAngular(()=>t.handleError(r)),r}}(s,n,()=>{const t=i.injector.get(Ga);return t.runInitializers(),t.donePromise.then(()=>(po(i.injector.get(tu,ho)||ho),this._moduleDoBootstrap(i),i))})})}bootstrapModule(t,e=[]){const n=Du({},e);return function(t,e,n){const r=new Ca(n);return Promise.resolve(r)}(0,0,t).then(t=>this.bootstrapModuleFactory(t,n))}_moduleDoBootstrap(t){const e=t.injector.get(Ru);if(t._bootstrapComponents.length>0)t._bootstrapComponents.forEach(t=>e.bootstrap(t));else{if(!t.instance.ngDoBootstrap)throw new Error(`The module ${y(t.instance.constructor)} was bootstrapped, but it does not declare "@NgModule.bootstrap" components nor a "ngDoBootstrap" method. Please define one of these.`);t.instance.ngDoBootstrap(e)}this._modules.push(t)}onDestroy(t){this._destroyListeners.push(t)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Error("The platform has already been destroyed!");this._modules.slice().forEach(t=>t.destroy()),this._destroyListeners.forEach(t=>t()),this._destroyed=!0}get destroyed(){return this._destroyed}}return t.\u0275fac=function(e){return new(e||t)(In(ps))},t.\u0275prov=O({token:t,factory:t.\u0275fac}),t})();function Du(t,e){return Array.isArray(e)?e.reduce(Du,t):Object.assign(Object.assign({},t),e)}let Ru=(()=>{class t{constructor(t,e,n,r,i,a){this._zone=t,this._console=e,this._injector=n,this._exceptionHandler=r,this._componentFactoryResolver=i,this._initStatus=a,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const c=new s.a(t=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{t.next(this._stable),t.complete()})}),l=new s.a(t=>{let e;this._zone.runOutsideAngular(()=>{e=this._zone.onStable.subscribe(()=>{fu.assertNotInAngularZone(),hu(()=>{this._stable||this._zone.hasPendingMacrotasks||this._zone.hasPendingMicrotasks||(this._stable=!0,t.next(!0))})})});const n=this._zone.onUnstable.subscribe(()=>{fu.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{t.next(!1)}))});return()=>{e.unsubscribe(),n.unsubscribe()}});this.isStable=Object(o.a)(c,l.pipe(t=>{return u()((e=p,function(t){let n;n="function"==typeof e?e:function(){return e};const r=Object.create(t,f);return r.source=t,r.subjectFactory=n,r})(t));var e}))}bootstrap(t,e){if(!this._initStatus.done)throw new Error("Cannot bootstrap as there are still asynchronous initializers running. Bootstrap components in the `ngDoBootstrap` method of the root module.");let n;n=t instanceof Oo?t:this._componentFactoryResolver.resolveComponentFactory(t),this.componentTypes.push(n.componentType);const r=n.isBoundToModule?void 0:this._injector.get(ua),i=n.create(ps.NULL,[],e||n.selector,r),s=i.location.nativeElement,o=i.injector.get(bu,null),a=o&&i.injector.get(_u);return o&&a&&a.registerApplication(s,o),i.onDestroy(()=>{this.detachView(i.hostView),Lu(this.components,i),a&&a.unregisterApplication(s)}),this._loadComponent(i),Iu()&&this._console.log("Angular is running in development mode. Call enableProdMode() to enable production mode."),i}tick(){if(this._runningTick)throw new Error("ApplicationRef.tick is called recursively");try{this._runningTick=!0;for(let t of this._views)t.detectChanges()}catch(t){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(t))}finally{this._runningTick=!1}}attachView(t){const e=t;this._views.push(e),e.attachToAppRef(this)}detachView(t){const e=t;Lu(this._views,e),e.detachFromAppRef()}_loadComponent(t){this.attachView(t.hostView),this.tick(),this.components.push(t),this._injector.get(Ya,[]).concat(this._bootstrapListeners).forEach(e=>e(t))}ngOnDestroy(){this._views.slice().forEach(t=>t.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}get viewCount(){return this._views.length}}return t.\u0275fac=function(e){return new(e||t)(In(fu),In(Xa),In(ps),In(vr),In(Co),In(Ga))},t.\u0275prov=O({token:t,factory:t.\u0275fac}),t})();function Lu(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}class Mu{}class Fu{}const Vu={factoryPathPrefix:"",factoryPathSuffix:".ngfactory"};let Uu=(()=>{class t{constructor(t,e){this._compiler=t,this._config=e||Vu}load(t){return this.loadAndCompile(t)}loadAndCompile(t){let[e,r]=t.split("#");return void 0===r&&(r="default"),n("zn8P")(e).then(t=>t[r]).then(t=>qu(t,e,r)).then(t=>this._compiler.compileModuleAsync(t))}loadFactory(t){let[e,r]=t.split("#"),i="NgFactory";return void 0===r&&(r="default",i=""),n("zn8P")(this._config.factoryPathPrefix+e+this._config.factoryPathSuffix).then(t=>t[r+i]).then(t=>qu(t,e,r))}}return t.\u0275fac=function(e){return new(e||t)(In(cu),In(Fu,8))},t.\u0275prov=O({token:t,factory:t.\u0275fac}),t})();function qu(t,e,n){if(!t)throw new Error(`Cannot find '${n}' in '${e}'`);return t}const Hu=function(t){return null},zu=ku(null,"core",[{provide:Za,useValue:"unknown"},{provide:Pu,deps:[ps]},{provide:_u,deps:[]},{provide:Xa,deps:[]}]),Ku=[{provide:Ru,useClass:Ru,deps:[fu,Xa,ps,vr,Co,Ga]},{provide:_a,deps:[fu],useFactory:function(t){let e=[];return t.onStable.subscribe(()=>{for(;e.length;)e.pop()()}),function(t){e.push(t)}}},{provide:Ga,useClass:Ga,deps:[[new mn,Ba]]},{provide:cu,useClass:cu,deps:[]},Wa,{provide:Go,useFactory:function(){return ea},deps:[]},{provide:$o,useFactory:function(){return na},deps:[]},{provide:tu,useFactory:function(t){return po(t=t||"undefined"!=typeof $localize&&$localize.locale||ho),t},deps:[[new gn(tu),new mn,new vn]]},{provide:eu,useValue:"USD"}];let Bu=(()=>{class t{constructor(t){}}return t.\u0275mod=it({type:t}),t.\u0275inj=S({factory:function(e){return new(e||t)(In(Ru))},providers:Ku}),t})()},gRHU:function(t,e,n){"use strict";n.d(e,"a",function(){return s});var r=n("2fFW"),i=n("NJ4a");const s={closed:!0,next(t){},error(t){if(r.a.useDeprecatedSynchronousErrorHandling)throw t;Object(i.a)(t)},complete(){}}},jZKg:function(t,e,n){"use strict";n.d(e,"a",function(){return s});var r=n("HDdC"),i=n("quSY");function s(t,e){return new r.a(n=>{const r=new i.a;let s=0;return r.add(e.schedule(function(){s!==t.length?(n.next(t[s++]),n.closed||r.add(this.schedule())):n.complete()})),r})}},kJWO:function(t,e,n){"use strict";n.d(e,"a",function(){return r});const r=(()=>"function"==typeof Symbol&&Symbol.observable||"@@observable")()},lJxs:function(t,e,n){"use strict";n.d(e,"a",function(){return i});var r=n("7o/Q");function i(t,e){return function(n){if("function"!=typeof t)throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return n.lift(new s(t,e))}}class s{constructor(t,e){this.project=t,this.thisArg=e}call(t,e){return e.subscribe(new o(t,this.project,this.thisArg))}}class o extends r.a{constructor(t,e,n){super(t),this.project=e,this.count=0,this.thisArg=n||this}_next(t){let e;try{e=this.project.call(this.thisArg,t,this.count++)}catch(n){return void this.destination.error(n)}this.destination.next(e)}}},n6bG:function(t,e,n){"use strict";function r(t){return"function"==typeof t}n.d(e,"a",function(){return r})},ngJS:function(t,e,n){"use strict";n.d(e,"a",function(){return r});const r=t=>e=>{for(let n=0,r=t.length;n<r&&!e.closed;n++)e.next(t[n]);e.complete()}},os0x:function(t,e,n){"use strict";n.d(e,"c",function(){return i}),n.d(e,"a",function(){return s}),n.d(e,"b",function(){return o}),n.d(e,"d",function(){return a}),n.d(e,"h",function(){return u}),n.d(e,"e",function(){return c}),n.d(e,"f",function(){return l}),n.d(e,"g",function(){return h});var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)};function i(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}var s=function(){return(s=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)};function o(t,e,n,r){return new(n||(n=Promise))(function(i,s){function o(t){try{u(r.next(t))}catch(e){s(e)}}function a(t){try{u(r.throw(t))}catch(e){s(e)}}function u(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(o,a)}u((r=r.apply(t,e||[])).next())})}function a(t,e){var n,r,i,s,o={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return s={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s;function a(s){return function(a){return function(s){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,r&&(i=2&s[0]?r.return:s[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,s[1])).done)return i;switch(r=0,i&&(s=[2&s[0],i.value]),s[0]){case 0:case 1:i=s;break;case 4:return o.label++,{value:s[1],done:!1};case 5:o.label++,r=s[1],s=[0];continue;case 7:s=o.ops.pop(),o.trys.pop();continue;default:if(!((i=(i=o.trys).length>0&&i[i.length-1])||6!==s[0]&&2!==s[0])){o=0;continue}if(3===s[0]&&(!i||s[1]>i[0]&&s[1]<i[3])){o.label=s[1];break}if(6===s[0]&&o.label<i[1]){o.label=i[1],i=s;break}if(i&&o.label<i[2]){o.label=i[2],o.ops.push(s);break}i[2]&&o.ops.pop(),o.trys.pop();continue}s=e.call(t,o)}catch(a){s=[6,a],r=0}finally{n=i=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,a])}}}function u(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function c(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,i,s=n.call(t),o=[];try{for(;(void 0===e||e-- >0)&&!(r=s.next()).done;)o.push(r.value)}catch(a){i={error:a}}finally{try{r&&!r.done&&(n=s.return)&&n.call(s)}finally{if(i)throw i.error}}return o}function l(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(c(arguments[e]));return t}function h(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;var r=Array(t),i=0;for(e=0;e<n;e++)for(var s=arguments[e],o=0,a=s.length;o<a;o++,i++)r[i]=s[o];return r}},pxpQ:function(t,e,n){"use strict";n.d(e,"b",function(){return u}),n.d(e,"a",function(){return l});var r=n("7o/Q"),i=n("EY2u"),s=n("LRne"),o=n("HDdC");let a=(()=>{class t{constructor(t,e,n){this.kind=t,this.value=e,this.error=n,this.hasValue="N"===t}observe(t){switch(this.kind){case"N":return t.next&&t.next(this.value);case"E":return t.error&&t.error(this.error);case"C":return t.complete&&t.complete()}}do(t,e,n){switch(this.kind){case"N":return t&&t(this.value);case"E":return e&&e(this.error);case"C":return n&&n()}}accept(t,e,n){return t&&"function"==typeof t.next?this.observe(t):this.do(t,e,n)}toObservable(){switch(this.kind){case"N":return Object(s.a)(this.value);case"E":return t=this.error,new o.a(e=>e.error(t));case"C":return Object(i.b)()}var t;throw new Error("unexpected notification kind value")}static createNext(e){return void 0!==e?new t("N",e):t.undefinedValueNotification}static createError(e){return new t("E",void 0,e)}static createComplete(){return t.completeNotification}}return t.completeNotification=new t("C"),t.undefinedValueNotification=new t("N",void 0),t})();function u(t,e=0){return function(n){return n.lift(new c(t,e))}}class c{constructor(t,e=0){this.scheduler=t,this.delay=e}call(t,e){return e.subscribe(new l(t,this.scheduler,this.delay))}}class l extends r.a{constructor(t,e,n=0){super(t),this.scheduler=e,this.delay=n}static dispatch(t){const{notification:e,destination:n}=t;e.observe(n),this.unsubscribe()}scheduleMessage(t){this.destination.add(this.scheduler.schedule(l.dispatch,this.delay,new h(t,this.destination)))}_next(t){this.scheduleMessage(a.createNext(t))}_error(t){this.scheduleMessage(a.createError(t)),this.unsubscribe()}_complete(){this.scheduleMessage(a.createComplete()),this.unsubscribe()}}class h{constructor(t,e){this.notification=t,this.destination=e}}},"q/0M":function(t,e,n){"use strict";function r(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;var r=Array(t),i=0;for(e=0;e<n;e++)for(var s=arguments[e],o=0,a=s.length;o<a;o++,i++)r[i]=s[o];return r}var i;n.d(e,"a",function(){return o}),n.d(e,"b",function(){return h}),n.d(e,"c",function(){return f}),n.d(e,"d",function(){return d});var s=[],o=function(t){return t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT",t}({}),a={debug:o.DEBUG,verbose:o.VERBOSE,info:o.INFO,warn:o.WARN,error:o.ERROR,silent:o.SILENT},u=o.INFO,c=((i={})[o.DEBUG]="log",i[o.VERBOSE]="log",i[o.INFO]="info",i[o.WARN]="warn",i[o.ERROR]="error",i),l=function(t,e){for(var n=[],i=2;i<arguments.length;i++)n[i-2]=arguments[i];if(!(e<t.logLevel)){var s=(new Date).toISOString(),o=c[e];if(!o)throw new Error("Attempted to log a message with an invalid logType (value: "+e+")");console[o].apply(console,r(["["+s+"]  "+t.name+":"],n))}},h=function(){function t(t){this.name=t,this._logLevel=u,this._logHandler=l,this._userLogHandler=null,s.push(this)}return Object.defineProperty(t.prototype,"logLevel",{get:function(){return this._logLevel},set:function(t){if(!(t in o))throw new TypeError('Invalid value "'+t+'" assigned to `logLevel`');this._logLevel=t},enumerable:!1,configurable:!0}),t.prototype.setLogLevel=function(t){this._logLevel="string"==typeof t?a[t]:t},Object.defineProperty(t.prototype,"logHandler",{get:function(){return this._logHandler},set:function(t){if("function"!=typeof t)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"userLogHandler",{get:function(){return this._userLogHandler},set:function(t){this._userLogHandler=t},enumerable:!1,configurable:!0}),t.prototype.debug=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,o.DEBUG],t)),this._logHandler.apply(this,r([this,o.DEBUG],t))},t.prototype.log=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,o.VERBOSE],t)),this._logHandler.apply(this,r([this,o.VERBOSE],t))},t.prototype.info=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,o.INFO],t)),this._logHandler.apply(this,r([this,o.INFO],t))},t.prototype.warn=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,o.WARN],t)),this._logHandler.apply(this,r([this,o.WARN],t))},t.prototype.error=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,o.ERROR],t)),this._logHandler.apply(this,r([this,o.ERROR],t))},t}();function f(t){s.forEach(function(e){e.setLogLevel(t)})}function d(t,e){for(var n=function(n){var r=null;e&&e.level&&(r=a[e.level]),n.userLogHandler=null===t?null:function(e,n){for(var i=[],s=2;s<arguments.length;s++)i[s-2]=arguments[s];var a=i.map(function(t){if(null==t)return null;if("string"==typeof t)return t;if("number"==typeof t||"boolean"==typeof t)return t.toString();if(t instanceof Error)return t.message;try{return JSON.stringify(t)}catch(e){return null}}).filter(function(t){return t}).join(" ");n>=(null!=r?r:e.logLevel)&&t({level:o[n].toLowerCase(),message:a,args:i,type:e.name})}},r=0,i=s;r<i.length;r++)n(i[r])}},qOnz:function(t,e,n){"use strict";n.d(e,"a",function(){return o}),n.d(e,"b",function(){return y}),n.d(e,"c",function(){return _}),n.d(e,"d",function(){return w}),n.d(e,"e",function(){return i}),n.d(e,"f",function(){return s}),n.d(e,"g",function(){return a}),n.d(e,"h",function(){return l}),n.d(e,"i",function(){return h}),n.d(e,"j",function(){return d}),n.d(e,"k",function(){return p}),n.d(e,"l",function(){return u}),n.d(e,"m",function(){return c}),n.d(e,"n",function(){return f}),n.d(e,"o",function(){return g});var r=n("os0x");function i(t){return s(void 0,t)}function s(t,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:return new Date(e.getTime());case Object:void 0===t&&(t={});break;case Array:t=[];break;default:return e}for(var n in e)e.hasOwnProperty(n)&&"__proto__"!==n&&(t[n]=s(t[n],e[n]));return t}var o=function(){function t(){var t=this;this.reject=function(){},this.resolve=function(){},this.promise=new Promise(function(e,n){t.resolve=e,t.reject=n})}return t.prototype.wrapCallback=function(t){var e=this;return function(n,r){n?e.reject(n):e.resolve(r),"function"==typeof t&&(e.promise.catch(function(){}),1===t.length?t(n):t(n,r))}},t}();function a(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function u(){return"undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(a())}function c(){try{return"[object process]"===Object.prototype.toString.call(global.process)}catch(t){return!1}}function l(){return"object"==typeof self&&self.self===self}function h(){var t="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof t&&void 0!==t.id}function f(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function d(){return a().indexOf("Electron/")>=0}function p(){var t=a();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function g(){return a().indexOf("MSAppHost/")>=0}var m=function(t){function e(n,r,i){var s=t.call(this,r)||this;return s.code=n,s.customData=i,s.name="FirebaseError",Object.setPrototypeOf(s,e.prototype),Error.captureStackTrace&&Error.captureStackTrace(s,y.prototype.create),s}return Object(r.c)(e,t),e}(Error),y=function(){function t(t,e,n){this.service=t,this.serviceName=e,this.errors=n}return t.prototype.create=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];var r=e[0]||{},i=this.service+"/"+t,s=this.errors[t],o=s?v(s,r):"Error",a=this.serviceName+": "+o+" ("+i+").",u=new m(i,a,r);return u},t}();function v(t,e){return t.replace(b,function(t,n){var r=e[n];return null!=r?String(r):"<"+n+"?>"})}var b=/\{\$([^}]+)}/g;function _(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function w(t,e){var n=new E(t,e);return n.subscribe.bind(n)}var E=function(){function t(t,e){var n=this;this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=e,this.task.then(function(){t(n)}).catch(function(t){n.error(t)})}return t.prototype.next=function(t){this.forEachObserver(function(e){e.next(t)})},t.prototype.error=function(t){this.forEachObserver(function(e){e.error(t)}),this.close(t)},t.prototype.complete=function(){this.forEachObserver(function(t){t.complete()}),this.close()},t.prototype.subscribe=function(t,e,n){var r,i=this;if(void 0===t&&void 0===e&&void 0===n)throw new Error("Missing Observer.");void 0===(r=function(t,e){if("object"!=typeof t||null===t)return!1;for(var n=0,r=["next","error","complete"];n<r.length;n++){var i=r[n];if(i in t&&"function"==typeof t[i])return!0}return!1}(t)?t:{next:t,error:e,complete:n}).next&&(r.next=O),void 0===r.error&&(r.error=O),void 0===r.complete&&(r.complete=O);var s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(function(){try{i.finalError?r.error(i.finalError):r.complete()}catch(t){}}),this.observers.push(r),s},t.prototype.unsubscribeOne=function(t){void 0!==this.observers&&void 0!==this.observers[t]&&(delete this.observers[t],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))},t.prototype.forEachObserver=function(t){if(!this.finalized)for(var e=0;e<this.observers.length;e++)this.sendOne(e,t)},t.prototype.sendOne=function(t,e){var n=this;this.task.then(function(){if(void 0!==n.observers&&void 0!==n.observers[t])try{e(n.observers[t])}catch(r){"undefined"!=typeof console&&console.error&&console.error(r)}})},t.prototype.close=function(t){var e=this;this.finalized||(this.finalized=!0,void 0!==t&&(this.finalError=t),this.task.then(function(){e.observers=void 0,e.onNoObservers=void 0}))},t}();function O(){}},qgXg:function(t,e,n){"use strict";n.d(e,"b",function(){return a}),n.d(e,"a",function(){return u});var r=n("3N8a");class i extends r.a{constructor(t,e){super(t,e),this.scheduler=t,this.work=e}schedule(t,e=0){return e>0?super.schedule(t,e):(this.delay=e,this.state=t,this.scheduler.flush(this),this)}execute(t,e){return e>0||this.closed?super.execute(t,e):this._execute(t,e)}requestAsyncId(t,e,n=0){return null!==n&&n>0||null===n&&this.delay>0?super.requestAsyncId(t,e,n):t.flush(this)}}var s=n("IjjT");class o extends s.a{}const a=new o(i),u=a},quSY:function(t,e,n){"use strict";n.d(e,"a",function(){return a});var r=n("DH7j"),i=n("XoHu"),s=n("n6bG");const o=(()=>{function t(t){return Error.call(this),this.message=t?`${t.length} errors occurred during unsubscription:\n${t.map((t,e)=>`${e+1}) ${t.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=t,this}return t.prototype=Object.create(Error.prototype),t})();let a=(()=>{class t{constructor(t){this.closed=!1,this._parentOrParents=null,this._subscriptions=null,t&&(this._ctorUnsubscribe=!0,this._unsubscribe=t)}unsubscribe(){let e;if(this.closed)return;let{_parentOrParents:n,_ctorUnsubscribe:a,_unsubscribe:c,_subscriptions:l}=this;if(this.closed=!0,this._parentOrParents=null,this._subscriptions=null,n instanceof t)n.remove(this);else if(null!==n)for(let t=0;t<n.length;++t)n[t].remove(this);if(Object(s.a)(c)){a&&(this._unsubscribe=void 0);try{c.call(this)}catch(h){e=h instanceof o?u(h.errors):[h]}}if(Object(r.a)(l)){let t=-1,n=l.length;for(;++t<n;){const n=l[t];if(Object(i.a)(n))try{n.unsubscribe()}catch(h){e=e||[],h instanceof o?e=e.concat(u(h.errors)):e.push(h)}}}if(e)throw new o(e)}add(e){let n=e;if(!e)return t.EMPTY;switch(typeof e){case"function":n=new t(e);case"object":if(n===this||n.closed||"function"!=typeof n.unsubscribe)return n;if(this.closed)return n.unsubscribe(),n;if(!(n instanceof t)){const e=n;n=new t,n._subscriptions=[e]}break;default:throw new Error("unrecognized teardown "+e+" added to Subscription.")}let{_parentOrParents:r}=n;if(null===r)n._parentOrParents=this;else if(r instanceof t){if(r===this)return n;n._parentOrParents=[r,this]}else{if(-1!==r.indexOf(this))return n;r.push(this)}const i=this._subscriptions;return null===i?this._subscriptions=[n]:i.push(n),n}remove(t){const e=this._subscriptions;if(e){const n=e.indexOf(t);-1!==n&&e.splice(n,1)}}}var e;return t.EMPTY=((e=new t).closed=!0,e),t})();function u(t){return t.reduce((t,e)=>t.concat(e instanceof o?e.errors:e),[])}},spgP:function(t,e,n){"use strict";(function(t){n.d(e,"a",function(){return T}),n.d(e,"b",function(){return b}),n.d(e,"c",function(){return v}),n.d(e,"d",function(){return d}),n.d(e,"e",function(){return y}),n.d(e,"f",function(){return S}),n.d(e,"g",function(){return w}),n.d(e,"h",function(){return p}),n.d(e,"i",function(){return m}),n.d(e,"j",function(){return E});var r=n("qgXg"),i=n("D0XW"),s=n("vkgz"),o=n("tf+s"),a=n("pxpQ"),u=n("fXoL"),c=n("Jgta");function l(){}class h{constructor(t,e=r.b){this.zone=t,this.delegate=e}now(){return this.delegate.now()}schedule(t,e,n){const r=this.zone;return this.delegate.schedule(function(e){r.runGuarded(()=>{t.apply(this,[e])})},e,n)}}class f{constructor(t){this.zone=t,this.task=null}call(t,e){const n=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",l,{},l,l)),e.pipe(Object(s.a)({next:n,complete:n,error:n})).subscribe(t).add(n)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}class d{constructor(t){this.ngZone=t,this.outsideAngular=t.runOutsideAngular(()=>new h(Zone.current)),this.insideAngular=t.run(()=>new h(Zone.current,i.a))}}function p(t){return function(e){return(e=e.lift(new f(t.ngZone))).pipe(Object(o.a)(t.outsideAngular),Object(a.b)(t.insideAngular))}}const g=["ngOnDestroy"],m=(t,e,n,r={})=>new Proxy(t,{get:(i,s)=>n.runOutsideAngular(()=>{var i;if(t[s])return(null===(i=null==r?void 0:r.spy)||void 0===i?void 0:i.get)&&r.spy.get(s,t[s]),t[s];if(g.indexOf(s)>-1)return()=>{};const o=e.toPromise().then(t=>{const e=t&&t[s];return"function"==typeof e?e.bind(t):e&&e.then?e.then(t=>n.run(()=>t)):n.run(()=>e)});return new Proxy(()=>{},{get:(t,e)=>o[e],apply:(t,e,n)=>o.then(t=>{var e;const i=t&&t(...n);return(null===(e=null==r?void 0:r.spy)||void 0===e?void 0:e.apply)&&r.spy.apply(s,n,i),i})})})}),y=(t,e)=>{e.forEach(e=>{Object.getOwnPropertyNames(e.prototype||e).forEach(n=>{Object.defineProperty(t.prototype,n,Object.getOwnPropertyDescriptor(e.prototype||e,n))})})},v=new u.q("angularfire2.app.options"),b=new u.q("angularfire2.app.nameOrConfig"),_=new u.O("6.1.4");function w(e,n,r){const i="object"==typeof r&&r||{};i.name=i.name||"string"==typeof r&&r||"[DEFAULT]";const s=c.a.apps.filter(t=>t&&t.name===i.name)[0]||n.runOutsideAngular(()=>c.a.initializeApp(e,i));try{JSON.stringify(e)!==JSON.stringify(s.options)&&O("error",`${s.name} Firebase App already initialized with different options${t.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch(o){}return s}const E=()=>{O("warn","You may need to import 'firebase/auth' manually in your component rather than rely on AngularFireAuth's dynamic import, when using the emulator suite https://github.com/angular/angularfire/issues/2656")},O=(t,...e)=>{Object(u.U)()&&"undefined"!=typeof console&&console[t](...e)};function S(e,n,r,i,s){const[o,...a]=globalThis.\u0275AngularfireInstanceCache.get(e)||[];if(o){try{s.some((t,e)=>{const n=a[e];return t&&"object"==typeof t?JSON.stringify(t)!==JSON.stringify(n):t!==n})&&O("error",`${n} was already initialized on the ${r.name} Firebase App instance with different settings.${t.hot?" You may need to reload as Firebase is not HMR aware.":""}`)}catch(u){}return o}{const t=i();return globalThis.\u0275AngularfireInstanceCache.set(e,[t,...s]),t}}globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=new Map);const C={provide:class{},useFactory:w,deps:[v,u.z,[new u.A,b]]};let T=(()=>{class t{constructor(t){c.a.registerVersion("angularfire",_.full,t.toString()),c.a.registerVersion("angular",u.N.full)}static initializeApp(e,n){return{ngModule:t,providers:[{provide:v,useValue:e},{provide:b,useValue:n}]}}}return t.\u0275mod=u.Gb({type:t}),t.\u0275inj=u.Fb({factory:function(e){return new(e||t)(u.Ob(u.B))},providers:[C]}),t})()}).call(this,n("3UD+")(t))},"tf+s":function(t,e,n){"use strict";n.d(e,"a",function(){return m});var r=n("HDdC");let i=1;const s=(()=>Promise.resolve())(),o={};function a(t){return t in o&&(delete o[t],!0)}const u={setImmediate(t){const e=i++;return o[e]=!0,s.then(()=>a(e)&&t()),e},clearImmediate(t){a(t)}};var c=n("3N8a");class l extends c.a{constructor(t,e){super(t,e),this.scheduler=t,this.work=e}requestAsyncId(t,e,n=0){return null!==n&&n>0?super.requestAsyncId(t,e,n):(t.actions.push(this),t.scheduled||(t.scheduled=u.setImmediate(t.flush.bind(t,null))))}recycleAsyncId(t,e,n=0){if(null!==n&&n>0||null===n&&this.delay>0)return super.recycleAsyncId(t,e,n);0===t.actions.length&&(u.clearImmediate(e),t.scheduled=void 0)}}var h=n("IjjT");class f extends h.a{flush(t){this.active=!0,this.scheduled=void 0;const{actions:e}=this;let n,r=-1,i=e.length;t=t||e.shift();do{if(n=t.execute(t.state,t.delay))break}while(++r<i&&(t=e.shift()));if(this.active=!1,n){for(;++r<i&&(t=e.shift());)t.unsubscribe();throw n}}}const d=new f(l);var p=n("DH7j");class g extends r.a{constructor(t,e=0,n=d){var r;super(),this.source=t,this.delayTime=e,this.scheduler=n,r=e,(Object(p.a)(r)||!(r-parseFloat(r)+1>=0)||e<0)&&(this.delayTime=0),n&&"function"==typeof n.schedule||(this.scheduler=d)}static create(t,e=0,n=d){return new g(t,e,n)}static dispatch(t){const{source:e,subscriber:n}=t;return this.add(e.subscribe(n))}_subscribe(t){return this.scheduler.schedule(g.dispatch,this.delayTime,{source:this.source,subscriber:t})}}function m(t,e=0){return function(n){return n.lift(new y(t,e))}}class y{constructor(t,e){this.scheduler=t,this.delay=e}call(t,e){return new g(e,this.delay,this.scheduler).subscribe(t)}}},vkgz:function(t,e,n){"use strict";n.d(e,"a",function(){return o});var r=n("7o/Q");function i(){}var s=n("n6bG");function o(t,e,n){return function(r){return r.lift(new a(t,e,n))}}class a{constructor(t,e,n){this.nextOrObserver=t,this.error=e,this.complete=n}call(t,e){return e.subscribe(new u(t,this.nextOrObserver,this.error,this.complete))}}class u extends r.a{constructor(t,e,n,r){super(t),this._tapNext=i,this._tapError=i,this._tapComplete=i,this._tapError=n||i,this._tapComplete=r||i,Object(s.a)(e)?(this._context=this,this._tapNext=e):e&&(this._context=e,this._tapNext=e.next||i,this._tapError=e.error||i,this._tapComplete=e.complete||i)}_next(t){try{this._tapNext.call(this._context,t)}catch(e){return void this.destination.error(e)}this.destination.next(t)}_error(t){try{this._tapError.call(this._context,t)}catch(t){return void this.destination.error(t)}this.destination.error(t)}_complete(){try{this._tapComplete.call(this._context)}catch(t){return void this.destination.error(t)}return this.destination.complete()}}},yCtX:function(t,e,n){"use strict";n.d(e,"a",function(){return o});var r=n("HDdC"),i=n("ngJS"),s=n("jZKg");function o(t,e){return e?Object(s.a)(t,e):new r.a(Object(i.a)(t))}},"z+Ro":function(t,e,n){"use strict";function r(t){return t&&"function"==typeof t.schedule}n.d(e,"a",function(){return r})},zIRd:function(t,e,n){"use strict";var r,i,s=n("os0x"),o=n("qOnz"),a=n("/6Yf"),u=n("q/0M"),c=((r={})["no-app"]="No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()",r["bad-app-name"]="Illegal App name: '{$appName}",r["duplicate-app"]="Firebase App named '{$appName}' already exists",r["app-deleted"]="Firebase App named '{$appName}' already deleted",r["invalid-app-argument"]="firebase.{$appName}() takes either no argument or a Firebase App instance.",r["invalid-log-argument"]="First argument to `onLog` must be null or a function.",r),l=new o.b("app","Firebase",c),h="@firebase/app",f="[DEFAULT]",d=((i={})[h]="fire-core",i["@firebase/analytics"]="fire-analytics",i["@firebase/auth"]="fire-auth",i["@firebase/database"]="fire-rtdb",i["@firebase/functions"]="fire-fn",i["@firebase/installations"]="fire-iid",i["@firebase/messaging"]="fire-fcm",i["@firebase/performance"]="fire-perf",i["@firebase/remote-config"]="fire-rc",i["@firebase/storage"]="fire-gcs",i["@firebase/firestore"]="fire-fst",i["fire-js"]="fire-js",i["firebase-wrapper"]="fire-js-all",i),p=new u.b("@firebase/app"),g=function(){function t(t,e,n){var r,i,u=this;this.firebase_=n,this.isDeleted_=!1,this.name_=e.name,this.automaticDataCollectionEnabled_=e.automaticDataCollectionEnabled||!1,this.options_=Object(o.e)(t),this.container=new a.b(e.name),this._addComponent(new a.a("app",function(){return u},"PUBLIC"));try{for(var c=Object(s.h)(this.firebase_.INTERNAL.components.values()),l=c.next();!l.done;l=c.next())this._addComponent(l.value)}catch(h){r={error:h}}finally{try{l&&!l.done&&(i=c.return)&&i.call(c)}finally{if(r)throw r.error}}}return Object.defineProperty(t.prototype,"automaticDataCollectionEnabled",{get:function(){return this.checkDestroyed_(),this.automaticDataCollectionEnabled_},set:function(t){this.checkDestroyed_(),this.automaticDataCollectionEnabled_=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"name",{get:function(){return this.checkDestroyed_(),this.name_},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"options",{get:function(){return this.checkDestroyed_(),this.options_},enumerable:!1,configurable:!0}),t.prototype.delete=function(){var t=this;return new Promise(function(e){t.checkDestroyed_(),e()}).then(function(){return t.firebase_.INTERNAL.removeApp(t.name_),Promise.all(t.container.getProviders().map(function(t){return t.delete()}))}).then(function(){t.isDeleted_=!0})},t.prototype._getService=function(t,e){return void 0===e&&(e=f),this.checkDestroyed_(),this.container.getProvider(t).getImmediate({identifier:e})},t.prototype._removeServiceInstance=function(t,e){void 0===e&&(e=f),this.container.getProvider(t).clearInstance(e)},t.prototype._addComponent=function(t){try{this.container.addComponent(t)}catch(e){p.debug("Component "+t.name+" failed to register with FirebaseApp "+this.name,e)}},t.prototype._addOrOverwriteComponent=function(t){this.container.addOrOverwriteComponent(t)},t.prototype.checkDestroyed_=function(){if(this.isDeleted_)throw l.create("app-deleted",{appName:this.name_})},t}();g.prototype.name&&g.prototype.options||g.prototype.delete||console.log("dc");var m=function t(){var e=function(t){var e={},n=new Map,r={__esModule:!0,initializeApp:function(n,i){void 0===i&&(i={}),"object"==typeof i&&null!==i||(i={name:i});var s=i;void 0===s.name&&(s.name=f);var a=s.name;if("string"!=typeof a||!a)throw l.create("bad-app-name",{appName:String(a)});if(Object(o.c)(e,a))throw l.create("duplicate-app",{appName:a});var u=new t(n,s,r);return e[a]=u,u},app:i,registerVersion:function(t,e,n){var r,i=null!==(r=d[t])&&void 0!==r?r:t;n&&(i+="-"+n);var s=i.match(/\s|\//),o=e.match(/\s|\//);if(s||o){var u=['Unable to register library "'+i+'" with version "'+e+'":'];return s&&u.push('library name "'+i+'" contains illegal characters (whitespace or "/")'),s&&o&&u.push("and"),o&&u.push('version name "'+e+'" contains illegal characters (whitespace or "/")'),void p.warn(u.join(" "))}c(new a.a(i+"-version",function(){return{library:i,version:e}},"VERSION"))},setLogLevel:u.c,onLog:function(t,e){if(null!==t&&"function"!=typeof t)throw l.create("invalid-log-argument",{appName:name});Object(u.d)(t,e)},apps:null,SDK_VERSION:"8.0.1",INTERNAL:{registerComponent:c,removeApp:function(t){delete e[t]},components:n,useAsService:function(t,e){return"serverAuth"===e?null:e}}};function i(t){if(t=t||f,!Object(o.c)(e,t))throw l.create("no-app",{appName:t});return e[t]}function c(a){var u,c,h=a.name;if(n.has(h))return p.debug("There were multiple attempts to register component "+h+"."),"PUBLIC"===a.type?r[h]:null;if(n.set(h,a),"PUBLIC"===a.type){var f=function(t){if(void 0===t&&(t=i()),"function"!=typeof t[h])throw l.create("invalid-app-argument",{appName:h});return t[h]()};void 0!==a.serviceProps&&Object(o.f)(f,a.serviceProps),r[h]=f,t.prototype[h]=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return this._getService.bind(this,h).apply(this,a.multipleInstances?t:[])}}try{for(var d=Object(s.h)(Object.keys(e)),g=d.next();!g.done;g=d.next())e[g.value]._addComponent(a)}catch(m){u={error:m}}finally{try{g&&!g.done&&(c=d.return)&&c.call(d)}finally{if(u)throw u.error}}return"PUBLIC"===a.type?r[h]:null}return r.default=r,Object.defineProperty(r,"apps",{get:function(){return Object.keys(e).map(function(t){return e[t]})}}),i.App=t,r}(g);return e.INTERNAL=Object(s.a)(Object(s.a)({},e.INTERNAL),{createFirebaseNamespace:t,extendNamespace:function(t){Object(o.f)(e,t)},createSubscribe:o.d,ErrorFactory:o.b,deepExtend:o.f}),e}(),y=function(){function t(t){this.container=t}return t.prototype.getPlatformInfoString=function(){return this.container.getProviders().map(function(t){if(function(t){var e=t.getComponent();return"VERSION"===(null==e?void 0:e.type)}(t)){var e=t.getImmediate();return e.library+"/"+e.version}return null}).filter(function(t){return t}).join(" ")},t}();if(Object(o.h)()&&void 0!==self.firebase){p.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");var v=self.firebase.SDK_VERSION;v&&v.indexOf("LITE")>=0&&p.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}var b=m.initializeApp;m.initializeApp=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return Object(o.m)()&&p.warn('\n      Warning: This is a browser-targeted Firebase bundle but it appears it is being\n      run in a Node environment.  If running in a Node environment, make sure you\n      are using the bundle specified by the "main" field in package.json.\n      \n      If you are using Webpack, you can specify "main" as the first item in\n      "resolve.mainFields":\n      https://webpack.js.org/configuration/resolve/#resolvemainfields\n      \n      If using Rollup, use the @rollup/plugin-node-resolve plugin and specify "main"\n      as the first item in "mainFields", e.g. [\'main\', \'module\'].\n      https://github.com/rollup/@rollup/plugin-node-resolve\n      '),b.apply(void 0,t)};var _=m;!function(t,e){t.INTERNAL.registerComponent(new a.a("platform-logger",function(t){return new y(t)},"PRIVATE")),t.registerVersion(h,"0.6.13",void 0),t.registerVersion("fire-js","")}(_),e.a=_},zUnb:function(t,e,n){"use strict";n.r(e);var r=n("fXoL");let i=null;function s(){return i}const o=new r.q("DocumentToken");let a=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=Object(r.Eb)({factory:u,token:t,providedIn:"platform"}),t})();function u(){return Object(r.Ob)(l)}const c=new r.q("Location Initialized");let l=(()=>{class t extends a{constructor(t){super(),this._doc=t,this._init()}_init(){this.location=s().getLocation(),this._history=s().getHistory()}getBaseHrefFromDOM(){return s().getBaseHref(this._doc)}onPopState(t){s().getGlobalEventTarget(this._doc,"window").addEventListener("popstate",t,!1)}onHashChange(t){s().getGlobalEventTarget(this._doc,"window").addEventListener("hashchange",t,!1)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(t){this.location.pathname=t}pushState(t,e,n){h()?this._history.pushState(t,e,n):this.location.hash=n}replaceState(t,e,n){h()?this._history.replaceState(t,e,n):this.location.hash=n}forward(){this._history.forward()}back(){this._history.back()}getState(){return this._history.state}}return t.\u0275fac=function(e){return new(e||t)(r.Ob(o))},t.\u0275prov=Object(r.Eb)({factory:f,token:t,providedIn:"platform"}),t})();function h(){return!!window.history.pushState}function f(){return new l(Object(r.Ob)(o))}function d(t,e){if(0==t.length)return e;if(0==e.length)return t;let n=0;return t.endsWith("/")&&n++,e.startsWith("/")&&n++,2==n?t+e.substring(1):1==n?t+e:t+"/"+e}function p(t){const e=t.match(/#|\?|$/),n=e&&e.index||t.length;return t.slice(0,n-("/"===t[n-1]?1:0))+t.slice(n)}function g(t){return t&&"?"!==t[0]?"?"+t:t}let m=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=Object(r.Eb)({factory:y,token:t,providedIn:"root"}),t})();function y(t){const e=Object(r.Ob)(o).location;return new b(Object(r.Ob)(a),e&&e.origin||"")}const v=new r.q("appBaseHref");let b=(()=>{class t extends m{constructor(t,e){if(super(),this._platformLocation=t,null==e&&(e=this._platformLocation.getBaseHrefFromDOM()),null==e)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");this._baseHref=e}onPopState(t){this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t)}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return d(this._baseHref,t)}path(t=!1){const e=this._platformLocation.pathname+g(this._platformLocation.search),n=this._platformLocation.hash;return n&&t?`${e}${n}`:e}pushState(t,e,n,r){const i=this.prepareExternalUrl(n+g(r));this._platformLocation.pushState(t,e,i)}replaceState(t,e,n,r){const i=this.prepareExternalUrl(n+g(r));this._platformLocation.replaceState(t,e,i)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}}return t.\u0275fac=function(e){return new(e||t)(r.Ob(a),r.Ob(v,8))},t.\u0275prov=r.Eb({token:t,factory:t.\u0275fac}),t})(),_=(()=>{class t extends m{constructor(t,e){super(),this._platformLocation=t,this._baseHref="",null!=e&&(this._baseHref=e)}onPopState(t){this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t)}getBaseHref(){return this._baseHref}path(t=!1){let e=this._platformLocation.hash;return null==e&&(e="#"),e.length>0?e.substring(1):e}prepareExternalUrl(t){const e=d(this._baseHref,t);return e.length>0?"#"+e:e}pushState(t,e,n,r){let i=this.prepareExternalUrl(n+g(r));0==i.length&&(i=this._platformLocation.pathname),this._platformLocation.pushState(t,e,i)}replaceState(t,e,n,r){let i=this.prepareExternalUrl(n+g(r));0==i.length&&(i=this._platformLocation.pathname),this._platformLocation.replaceState(t,e,i)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}}return t.\u0275fac=function(e){return new(e||t)(r.Ob(a),r.Ob(v,8))},t.\u0275prov=r.Eb({token:t,factory:t.\u0275fac}),t})(),w=(()=>{class t{constructor(t,e){this._subject=new r.n,this._urlChangeListeners=[],this._platformStrategy=t;const n=this._platformStrategy.getBaseHref();this._platformLocation=e,this._baseHref=p(O(n)),this._platformStrategy.onPopState(t=>{this._subject.emit({url:this.path(!0),pop:!0,state:t.state,type:t.type})})}path(t=!1){return this.normalize(this._platformStrategy.path(t))}getState(){return this._platformLocation.getState()}isCurrentPathEqualTo(t,e=""){return this.path()==this.normalize(t+g(e))}normalize(e){return t.stripTrailingSlash(function(t,e){return t&&e.startsWith(t)?e.substring(t.length):e}(this._baseHref,O(e)))}prepareExternalUrl(t){return t&&"/"!==t[0]&&(t="/"+t),this._platformStrategy.prepareExternalUrl(t)}go(t,e="",n=null){this._platformStrategy.pushState(n,"",t,e),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+g(e)),n)}replaceState(t,e="",n=null){this._platformStrategy.replaceState(n,"",t,e),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+g(e)),n)}forward(){this._platformStrategy.forward()}back(){this._platformStrategy.back()}onUrlChange(t){this._urlChangeListeners.push(t),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(t=>{this._notifyUrlChangeListeners(t.url,t.state)}))}_notifyUrlChangeListeners(t="",e){this._urlChangeListeners.forEach(n=>n(t,e))}subscribe(t,e,n){return this._subject.subscribe({next:t,error:e,complete:n})}}return t.\u0275fac=function(e){return new(e||t)(r.Ob(m),r.Ob(a))},t.normalizeQueryParams=g,t.joinWithSlash=d,t.stripTrailingSlash=p,t.\u0275prov=Object(r.Eb)({factory:E,token:t,providedIn:"root"}),t})();function E(){return new w(Object(r.Ob)(m),Object(r.Ob)(a))}function O(t){return t.replace(/\/index.html$/,"")}var S=function(t){return t[t.Zero=0]="Zero",t[t.One=1]="One",t[t.Two=2]="Two",t[t.Few=3]="Few",t[t.Many=4]="Many",t[t.Other=5]="Other",t}({});const C=r.lb;class T{}let I=(()=>{class t extends T{constructor(t){super(),this.locale=t}getPluralCategory(t,e){switch(C(e||this.locale)(t)){case S.Zero:return"zero";case S.One:return"one";case S.Two:return"two";case S.Few:return"few";case S.Many:return"many";default:return"other"}}}return t.\u0275fac=function(e){return new(e||t)(r.Ob(r.u))},t.\u0275prov=r.Eb({token:t,factory:t.\u0275fac}),t})();function x(t,e){e=encodeURIComponent(e);for(const n of t.split(";")){const t=n.indexOf("="),[r,i]=-1==t?[n,""]:[n.slice(0,t),n.slice(t+1)];if(r.trim()===e)return decodeURIComponent(i)}return null}let A=(()=>{class t{constructor(t,e,n,r){this._iterableDiffers=t,this._keyValueDiffers=e,this._ngEl=n,this._renderer=r,this._iterableDiffer=null,this._keyValueDiffer=null,this._initialClasses=[],this._rawClass=null}set klass(t){this._removeClasses(this._initialClasses),this._initialClasses="string"==typeof t?t.split(/\s+/):[],this._applyClasses(this._initialClasses),this._applyClasses(this._rawClass)}set ngClass(t){this._removeClasses(this._rawClass),this._applyClasses(this._initialClasses),this._iterableDiffer=null,this._keyValueDiffer=null,this._rawClass="string"==typeof t?t.split(/\s+/):t,this._rawClass&&(Object(r.ob)(this._rawClass)?this._iterableDiffer=this._iterableDiffers.find(this._rawClass).create():this._keyValueDiffer=this._keyValueDiffers.find(this._rawClass).create())}ngDoCheck(){if(this._iterableDiffer){const t=this._iterableDiffer.diff(this._rawClass);t&&this._applyIterableChanges(t)}else if(this._keyValueDiffer){const t=this._keyValueDiffer.diff(this._rawClass);t&&this._applyKeyValueChanges(t)}}_applyKeyValueChanges(t){t.forEachAddedItem(t=>this._toggleClass(t.key,t.currentValue)),t.forEachChangedItem(t=>this._toggleClass(t.key,t.currentValue)),t.forEachRemovedItem(t=>{t.previousValue&&this._toggleClass(t.key,!1)})}_applyIterableChanges(t){t.forEachAddedItem(t=>{if("string"!=typeof t.item)throw new Error("NgClass can only toggle CSS classes expressed as strings, got "+Object(r.tb)(t.item));this._toggleClass(t.item,!0)}),t.forEachRemovedItem(t=>this._toggleClass(t.item,!1))}_applyClasses(t){t&&(Array.isArray(t)||t instanceof Set?t.forEach(t=>this._toggleClass(t,!0)):Object.keys(t).forEach(e=>this._toggleClass(e,!!t[e])))}_removeClasses(t){t&&(Array.isArray(t)||t instanceof Set?t.forEach(t=>this._toggleClass(t,!1)):Object.keys(t).forEach(t=>this._toggleClass(t,!1)))}_toggleClass(t,e){(t=t.trim())&&t.split(/\s+/g).forEach(t=>{e?this._renderer.addClass(this._ngEl.nativeElement,t):this._renderer.removeClass(this._ngEl.nativeElement,t)})}}return t.\u0275fac=function(e){return new(e||t)(r.Ib(r.s),r.Ib(r.t),r.Ib(r.l),r.Ib(r.D))},t.\u0275dir=r.Db({type:t,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"}}),t})();class j{constructor(t,e,n,r){this.$implicit=t,this.ngForOf=e,this.index=n,this.count=r}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let k=(()=>{class t{constructor(t,e,n){this._viewContainer=t,this._template=e,this._differs=n,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(t){this._ngForOf=t,this._ngForOfDirty=!0}set ngForTrackBy(t){this._trackByFn=t}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(t){t&&(this._template=t)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const n=this._ngForOf;if(!this._differ&&n)try{this._differ=this._differs.find(n).create(this.ngForTrackBy)}catch(e){throw new Error(`Cannot find a differ supporting object '${n}' of type '${t=n,t.name||typeof t}'. NgFor only supports binding to Iterables such as Arrays.`)}}var t;if(this._differ){const t=this._differ.diff(this._ngForOf);t&&this._applyChanges(t)}}_applyChanges(t){const e=[];t.forEachOperation((t,n,r)=>{if(null==t.previousIndex){const n=this._viewContainer.createEmbeddedView(this._template,new j(null,this._ngForOf,-1,-1),null===r?void 0:r),i=new N(t,n);e.push(i)}else if(null==r)this._viewContainer.remove(null===n?void 0:n);else if(null!==n){const i=this._viewContainer.get(n);this._viewContainer.move(i,r);const s=new N(t,i);e.push(s)}});for(let n=0;n<e.length;n++)this._perViewChange(e[n].view,e[n].record);for(let n=0,r=this._viewContainer.length;n<r;n++){const t=this._viewContainer.get(n);t.context.index=n,t.context.count=r,t.context.ngForOf=this._ngForOf}t.forEachIdentityChange(t=>{this._viewContainer.get(t.currentIndex).context.$implicit=t.item})}_perViewChange(t,e){t.context.$implicit=e.item}static ngTemplateContextGuard(t,e){return!0}}return t.\u0275fac=function(e){return new(e||t)(r.Ib(r.P),r.Ib(r.K),r.Ib(r.s))},t.\u0275dir=r.Db({type:t,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}}),t})();class N{constructor(t,e){this.record=t,this.view=e}}let P=(()=>{class t{constructor(t,e){this._viewContainer=t,this._context=new D,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=e}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){R("ngIfThen",t),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){R("ngIfElse",t),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(t,e){return!0}}return t.\u0275fac=function(e){return new(e||t)(r.Ib(r.P),r.Ib(r.K))},t.\u0275dir=r.Db({type:t,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}}),t})();class D{constructor(){this.$implicit=null,this.ngIf=null}}function R(t,e){if(e&&!e.createEmbeddedView)throw new Error(`${t} must be a TemplateRef, but received '${Object(r.tb)(e)}'.`)}let L=(()=>{class t{}return t.\u0275mod=r.Gb({type:t}),t.\u0275inj=r.Fb({factory:function(e){return new(e||t)},providers:[{provide:T,useClass:I}]}),t})();function M(t){return"server"===t}let F=(()=>{class t{}return t.\u0275prov=Object(r.Eb)({token:t,providedIn:"root",factory:()=>new V(Object(r.Ob)(o),window,Object(r.Ob)(r.m))}),t})();class V{constructor(t,e,n){this.document=t,this.window=e,this.errorHandler=n,this.offset=()=>[0,0]}setOffset(t){this.offset=Array.isArray(t)?()=>t:t}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(t){this.supportsScrolling()&&this.window.scrollTo(t[0],t[1])}scrollToAnchor(t){if(this.supportsScrolling()){const e=this.document.getElementById(t)||this.document.getElementsByName(t)[0];e&&this.scrollToElement(e)}}setHistoryScrollRestoration(t){if(this.supportScrollRestoration()){const e=this.window.history;e&&e.scrollRestoration&&(e.scrollRestoration=t)}}scrollToElement(t){const e=t.getBoundingClientRect(),n=e.left+this.window.pageXOffset,r=e.top+this.window.pageYOffset,i=this.offset();this.window.scrollTo(n-i[0],r-i[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const t=U(this.window.history)||U(Object.getPrototypeOf(this.window.history));return!(!t||!t.writable&&!t.set)}catch(t){return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch(t){return!1}}}function U(t){return Object.getOwnPropertyDescriptor(t,"scrollRestoration")}var q=n("HDdC"),H=n("DH7j"),z=n("lJxs"),K=n("XoHu"),B=n("Cfvw");function G(t,e){return new q.a(n=>{const r=t.length;if(0===r)return void n.complete();const i=new Array(r);let s=0,o=0;for(let a=0;a<r;a++){const u=Object(B.a)(t[a]);let c=!1;n.add(u.subscribe({next:t=>{c||(c=!0,o++),i[a]=t},error:t=>n.error(t),complete:()=>{s++,s!==r&&c||(o===r&&n.next(e?e.reduce((t,e,n)=>(t[e]=i[n],t),{}):i),n.complete())}}))}})}const $=new r.q("NgValueAccessor"),W={provide:$,useExisting:Object(r.T)(()=>J),multi:!0};let J=(()=>{class t{constructor(t,e){this._renderer=t,this._elementRef=e,this.onChange=t=>{},this.onTouched=()=>{}}writeValue(t){this._renderer.setProperty(this._elementRef.nativeElement,"checked",t)}registerOnChange(t){this.onChange=t}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}}return t.\u0275fac=function(e){return new(e||t)(r.Ib(r.D),r.Ib(r.l))},t.\u0275dir=r.Db({type:t,selectors:[["input","type","checkbox","formControlName",""],["input","type","checkbox","formControl",""],["input","type","checkbox","ngModel",""]],hostBindings:function(t,e){1&t&&r.Rb("change",function(t){return e.onChange(t.target.checked)})("blur",function(){return e.onTouched()})},features:[r.xb([W])]}),t})();const Q={provide:$,useExisting:Object(r.T)(()=>Y),multi:!0},Z=new r.q("CompositionEventMode");let Y=(()=>{class t{constructor(t,e,n){this._renderer=t,this._elementRef=e,this._compositionMode=n,this.onChange=t=>{},this.onTouched=()=>{},this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function(){const t=s()?s().getUserAgent():"";return/android (\d+)/.test(t.toLowerCase())}())}writeValue(t){this._renderer.setProperty(this._elementRef.nativeElement,"value",null==t?"":t)}registerOnChange(t){this.onChange=t}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}}return t.\u0275fac=function(e){return new(e||t)(r.Ib(r.D),r.Ib(r.l),r.Ib(Z,8))},t.\u0275dir=r.Db({type:t,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(t,e){1&t&&r.Rb("input",function(t){return e._handleInput(t.target.value)})("blur",function(){return e.onTouched()})("compositionstart",function(){return e._compositionStart()})("compositionend",function(t){return e._compositionEnd(t.target.value)})},features:[r.xb([Q])]}),t})();function X(t){return null==t||0===t.length}function tt(t){return null!=t&&"number"==typeof t.length}const et=new r.q("NgValidators"),nt=new r.q("NgAsyncValidators"),rt=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class it{static min(t){return e=>{if(X(e.value)||X(t))return null;const n=parseFloat(e.value);return!isNaN(n)&&n<t?{min:{min:t,actual:e.value}}:null}}static max(t){return e=>{if(X(e.value)||X(t))return null;const n=parseFloat(e.value);return!isNaN(n)&&n>t?{max:{max:t,actual:e.value}}:null}}static required(t){return X(t.value)?{required:!0}:null}static requiredTrue(t){return!0===t.value?null:{required:!0}}static email(t){return X(t.value)||rt.test(t.value)?null:{email:!0}}static minLength(t){return e=>X(e.value)||!tt(e.value)?null:e.value.length<t?{minlength:{requiredLength:t,actualLength:e.value.length}}:null}static maxLength(t){return e=>tt(e.value)&&e.value.length>t?{maxlength:{requiredLength:t,actualLength:e.value.length}}:null}static pattern(t){if(!t)return it.nullValidator;let e,n;return"string"==typeof t?(n="","^"!==t.charAt(0)&&(n+="^"),n+=t,"$"!==t.charAt(t.length-1)&&(n+="$"),e=new RegExp(n)):(n=t.toString(),e=t),t=>{if(X(t.value))return null;const r=t.value;return e.test(r)?null:{pattern:{requiredPattern:n,actualValue:r}}}}static nullValidator(t){return null}static compose(t){if(!t)return null;const e=t.filter(st);return 0==e.length?null:function(t){return at(ut(t,e))}}static composeAsync(t){if(!t)return null;const e=t.filter(st);return 0==e.length?null:function(t){return function(...t){if(1===t.length){const e=t[0];if(Object(H.a)(e))return G(e,null);if(Object(K.a)(e)&&Object.getPrototypeOf(e)===Object.prototype){const t=Object.keys(e);return G(t.map(t=>e[t]),t)}}if("function"==typeof t[t.length-1]){const e=t.pop();return G(t=1===t.length&&Object(H.a)(t[0])?t[0]:t,null).pipe(Object(z.a)(t=>e(...t)))}return G(t,null)}(ut(t,e).map(ot)).pipe(Object(z.a)(at))}}}function st(t){return null!=t}function ot(t){const e=Object(r.qb)(t)?Object(B.a)(t):t;return Object(r.pb)(e),e}function at(t){let e={};return t.forEach(t=>{e=null!=t?Object.assign(Object.assign({},e),t):e}),0===Object.keys(e).length?null:e}function ut(t,e){return e.map(e=>e(t))}function ct(t){return t.map(t=>function(t){return!t.validate}(t)?t:e=>t.validate(e))}function lt(t){return null!=t?it.compose(ct(t)):null}function ht(t){return null!=t?it.composeAsync(ct(t)):null}function ft(t,e){return null===t?[e]:Array.isArray(t)?[...t,e]:[t,e]}function dt(t){return t._rawValidators}function pt(t){return t._rawAsyncValidators}let gt=(()=>{class t{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(t){this._rawValidators=t||[],this._composedValidatorFn=lt(this._rawValidators)}_setAsyncValidators(t){this._rawAsyncValidators=t||[],this._composedAsyncValidatorFn=ht(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(t){this._onDestroyCallbacks.push(t)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(t=>t()),this._onDestroyCallbacks=[]}reset(t){this.control&&this.control.reset(t)}hasError(t,e){return!!this.control&&this.control.hasError(t,e)}getError(t,e){return this.control?this.control.getError(t,e):null}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=r.Db({type:t}),t})(),mt=(()=>{class t extends gt{get formDirective(){return null}get path(){return null}}return t.\u0275fac=function(e){return yt(e||t)},t.\u0275dir=r.Db({type:t,features:[r.vb]}),t})();const yt=r.Mb(mt);class vt extends gt{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class bt{constructor(t){this._cd=t}get ngClassUntouched(){return!!this._cd.control&&this._cd.control.untouched}get ngClassTouched(){return!!this._cd.control&&this._cd.control.touched}get ngClassPristine(){return!!this._cd.control&&this._cd.control.pristine}get ngClassDirty(){return!!this._cd.control&&this._cd.control.dirty}get ngClassValid(){return!!this._cd.control&&this._cd.control.valid}get ngClassInvalid(){return!!this._cd.control&&this._cd.control.invalid}get ngClassPending(){return!!this._cd.control&&this._cd.control.pending}}let _t=(()=>{class t extends bt{constructor(t){super(t)}}return t.\u0275fac=function(e){return new(e||t)(r.Ib(vt,2))},t.\u0275dir=r.Db({type:t,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(t,e){2&t&&r.Ab("ng-untouched",e.ngClassUntouched)("ng-touched",e.ngClassTouched)("ng-pristine",e.ngClassPristine)("ng-dirty",e.ngClassDirty)("ng-valid",e.ngClassValid)("ng-invalid",e.ngClassInvalid)("ng-pending",e.ngClassPending)},features:[r.vb]}),t})(),wt=(()=>{class t extends bt{constructor(t){super(t)}}return t.\u0275fac=function(e){return new(e||t)(r.Ib(mt,2))},t.\u0275dir=r.Db({type:t,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:14,hostBindings:function(t,e){2&t&&r.Ab("ng-untouched",e.ngClassUntouched)("ng-touched",e.ngClassTouched)("ng-pristine",e.ngClassPristine)("ng-dirty",e.ngClassDirty)("ng-valid",e.ngClassValid)("ng-invalid",e.ngClassInvalid)("ng-pending",e.ngClassPending)},features:[r.vb]}),t})();const Et={provide:$,useExisting:Object(r.T)(()=>Ot),multi:!0};let Ot=(()=>{class t{constructor(t,e){this._renderer=t,this._elementRef=e,this.onChange=t=>{},this.onTouched=()=>{}}writeValue(t){this._renderer.setProperty(this._elementRef.nativeElement,"value",null==t?"":t)}registerOnChange(t){this.onChange=e=>{t(""==e?null:parseFloat(e))}}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}}return t.\u0275fac=function(e){return new(e||t)(r.Ib(r.D),r.Ib(r.l))},t.\u0275dir=r.Db({type:t,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(t,e){1&t&&r.Rb("input",function(t){return e.onChange(t.target.value)})("blur",function(){return e.onTouched()})},features:[r.xb([Et])]}),t})();const St={provide:$,useExisting:Object(r.T)(()=>Tt),multi:!0};let Ct=(()=>{class t{constructor(){this._accessors=[]}add(t,e){this._accessors.push([t,e])}remove(t){for(let e=this._accessors.length-1;e>=0;--e)if(this._accessors[e][1]===t)return void this._accessors.splice(e,1)}select(t){this._accessors.forEach(e=>{this._isSameGroup(e,t)&&e[1]!==t&&e[1].fireUncheck(t.value)})}_isSameGroup(t,e){return!!t[0].control&&t[0]._parent===e._control._parent&&t[1].name===e.name}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=r.Eb({token:t,factory:t.\u0275fac}),t})(),Tt=(()=>{class t{constructor(t,e,n,r){this._renderer=t,this._elementRef=e,this._registry=n,this._injector=r,this.onChange=()=>{},this.onTouched=()=>{}}ngOnInit(){this._control=this._injector.get(vt),this._checkName(),this._registry.add(this._control,this)}ngOnDestroy(){this._registry.remove(this)}writeValue(t){this._state=t===this.value,this._renderer.setProperty(this._elementRef.nativeElement,"checked",this._state)}registerOnChange(t){this._fn=t,this.onChange=()=>{t(this.value),this._registry.select(this)}}fireUncheck(t){this.writeValue(t)}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}_checkName(){!this.name&&this.formControlName&&(this.name=this.formControlName)}}return t.\u0275fac=function(e){return new(e||t)(r.Ib(r.D),r.Ib(r.l),r.Ib(Ct),r.Ib(r.r))},t.\u0275dir=r.Db({type:t,selectors:[["input","type","radio","formControlName",""],["input","type","radio","formControl",""],["input","type","radio","ngModel",""]],hostBindings:function(t,e){1&t&&r.Rb("change",function(){return e.onChange()})("blur",function(){return e.onTouched()})},inputs:{name:"name",formControlName:"formControlName",value:"value"},features:[r.xb([St])]}),t})();const It={provide:$,useExisting:Object(r.T)(()=>xt),multi:!0};let xt=(()=>{class t{constructor(t,e){this._renderer=t,this._elementRef=e,this.onChange=t=>{},this.onTouched=()=>{}}writeValue(t){this._renderer.setProperty(this._elementRef.nativeElement,"value",parseFloat(t))}registerOnChange(t){this.onChange=e=>{t(""==e?null:parseFloat(e))}}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}}return t.\u0275fac=function(e){return new(e||t)(r.Ib(r.D),r.Ib(r.l))},t.\u0275dir=r.Db({type:t,selectors:[["input","type","range","formControlName",""],["input","type","range","formControl",""],["input","type","range","ngModel",""]],hostBindings:function(t,e){1&t&&r.Rb("change",function(t){return e.onChange(t.target.value)})("input",function(t){return e.onChange(t.target.value)})("blur",function(){return e.onTouched()})},features:[r.xb([It])]}),t})();const At={provide:$,useExisting:Object(r.T)(()=>jt),multi:!0};let jt=(()=>{class t{constructor(t,e){this._renderer=t,this._elementRef=e,this._optionMap=new Map,this._idCounter=0,this.onChange=t=>{},this.onTouched=()=>{},this._compareWith=Object.is}set compareWith(t){this._compareWith=t}writeValue(t){this.value=t;const e=this._getOptionId(t);null==e&&this._renderer.setProperty(this._elementRef.nativeElement,"selectedIndex",-1);const n=function(t,e){return null==t?""+e:(e&&"object"==typeof e&&(e="Object"),`${t}: ${e}`.slice(0,50))}(e,t);this._renderer.setProperty(this._elementRef.nativeElement,"value",n)}registerOnChange(t){this.onChange=e=>{this.value=this._getOptionValue(e),t(this.value)}}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}_registerOption(){return(this._idCounter++).toString()}_getOptionId(t){for(const e of Array.from(this._optionMap.keys()))if(this._compareWith(this._optionMap.get(e),t))return e;return null}_getOptionValue(t){const e=function(t){return t.split(":")[0]}(t);return this._optionMap.has(e)?this._optionMap.get(e):t}}return t.\u0275fac=function(e){return new(e||t)(r.Ib(r.D),r.Ib(r.l))},t.\u0275dir=r.Db({type:t,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(t,e){1&t&&r.Rb("change",function(t){return e.onChange(t.target.value)})("blur",function(){return e.onTouched()})},inputs:{compareWith:"compareWith"},features:[r.xb([At])]}),t})();const kt={provide:$,useExisting:Object(r.T)(()=>Nt),multi:!0};let Nt=(()=>{class t{constructor(t,e){this._renderer=t,this._elementRef=e,this._optionMap=new Map,this._idCounter=0,this.onChange=t=>{},this.onTouched=()=>{},this._compareWith=Object.is}set compareWith(t){this._compareWith=t}writeValue(t){let e;if(this.value=t,Array.isArray(t)){const n=t.map(t=>this._getOptionId(t));e=(t,e)=>{t._setSelected(n.indexOf(e.toString())>-1)}}else e=(t,e)=>{t._setSelected(!1)};this._optionMap.forEach(e)}registerOnChange(t){this.onChange=e=>{const n=[];if(void 0!==e.selectedOptions){const t=e.selectedOptions;for(let e=0;e<t.length;e++){const r=t.item(e),i=this._getOptionValue(r.value);n.push(i)}}else{const t=e.options;for(let e=0;e<t.length;e++){const r=t.item(e);if(r.selected){const t=this._getOptionValue(r.value);n.push(t)}}}this.value=n,t(n)}}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}_registerOption(t){const e=(this._idCounter++).toString();return this._optionMap.set(e,t),e}_getOptionId(t){for(const e of Array.from(this._optionMap.keys()))if(this._compareWith(this._optionMap.get(e)._value,t))return e;return null}_getOptionValue(t){const e=function(t){return t.split(":")[0]}(t);return this._optionMap.has(e)?this._optionMap.get(e)._value:t}}return t.\u0275fac=function(e){return new(e||t)(r.Ib(r.D),r.Ib(r.l))},t.\u0275dir=r.Db({type:t,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(t,e){1&t&&r.Rb("change",function(t){return e.onChange(t.target)})("blur",function(){return e.onTouched()})},inputs:{compareWith:"compareWith"},features:[r.xb([kt])]}),t})();function Pt(t,e){Rt(t,e,!0),e.valueAccessor.writeValue(t.value),function(t,e){e.valueAccessor.registerOnChange(n=>{t._pendingValue=n,t._pendingChange=!0,t._pendingDirty=!0,"change"===t.updateOn&&Mt(t,e)})}(t,e),function(t,e){const n=(t,n)=>{e.valueAccessor.writeValue(t),n&&e.viewToModelUpdate(t)};t.registerOnChange(n),e._registerOnDestroy(()=>{t._unregisterOnChange(n)})}(t,e),function(t,e){e.valueAccessor.registerOnTouched(()=>{t._pendingTouched=!0,"blur"===t.updateOn&&t._pendingChange&&Mt(t,e),"submit"!==t.updateOn&&t.markAsTouched()})}(t,e),function(t,e){if(e.valueAccessor.setDisabledState){const n=t=>{e.valueAccessor.setDisabledState(t)};t.registerOnDisabledChange(n),e._registerOnDestroy(()=>{t._unregisterOnDisabledChange(n)})}}(t,e)}function Dt(t,e){t.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(e)})}function Rt(t,e,n){const r=dt(t);null!==e.validator?t.setValidators(ft(r,e.validator)):"function"==typeof r&&t.setValidators([r]);const i=pt(t);if(null!==e.asyncValidator?t.setAsyncValidators(ft(i,e.asyncValidator)):"function"==typeof i&&t.setAsyncValidators([i]),n){const n=()=>t.updateValueAndValidity();Dt(e._rawValidators,n),Dt(e._rawAsyncValidators,n)}}function Lt(t,e,n){if(null!==t){if(null!==e.validator){const n=dt(t);Array.isArray(n)&&n.length>0&&t.setValidators(n.filter(t=>t!==e.validator))}if(null!==e.asyncValidator){const n=pt(t);Array.isArray(n)&&n.length>0&&t.setAsyncValidators(n.filter(t=>t!==e.asyncValidator))}}if(n){const t=()=>{};Dt(e._rawValidators,t),Dt(e._rawAsyncValidators,t)}}function Mt(t,e){t._pendingDirty&&t.markAsDirty(),t.setValue(t._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(t._pendingValue),t._pendingChange=!1}function Ft(t,e){Rt(t,e,!1)}const Vt=[J,xt,Ot,jt,Nt,Tt];function Ut(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}const qt="VALID",Ht="INVALID",zt="PENDING",Kt="DISABLED";function Bt(t){return(Jt(t)?t.validators:t)||null}function Gt(t){return Array.isArray(t)?lt(t):t||null}function $t(t,e){return(Jt(e)?e.asyncValidators:t)||null}function Wt(t){return Array.isArray(t)?ht(t):t||null}function Jt(t){return null!=t&&!Array.isArray(t)&&"object"==typeof t}class Qt{constructor(t,e){this._hasOwnPendingAsyncValidator=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._rawValidators=t,this._rawAsyncValidators=e,this._composedValidatorFn=Gt(this._rawValidators),this._composedAsyncValidatorFn=Wt(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn}set validator(t){this._rawValidators=this._composedValidatorFn=t}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(t){this._rawAsyncValidators=this._composedAsyncValidatorFn=t}get parent(){return this._parent}get valid(){return this.status===qt}get invalid(){return this.status===Ht}get pending(){return this.status==zt}get disabled(){return this.status===Kt}get enabled(){return this.status!==Kt}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(t){this._rawValidators=t,this._composedValidatorFn=Gt(t)}setAsyncValidators(t){this._rawAsyncValidators=t,this._composedAsyncValidatorFn=Wt(t)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(t={}){this.touched=!0,this._parent&&!t.onlySelf&&this._parent.markAsTouched(t)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(t=>t.markAllAsTouched())}markAsUntouched(t={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(t=>{t.markAsUntouched({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}markAsDirty(t={}){this.pristine=!1,this._parent&&!t.onlySelf&&this._parent.markAsDirty(t)}markAsPristine(t={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(t=>{t.markAsPristine({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}markAsPending(t={}){this.status=zt,!1!==t.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!t.onlySelf&&this._parent.markAsPending(t)}disable(t={}){const e=this._parentMarkedDirty(t.onlySelf);this.status=Kt,this.errors=null,this._forEachChild(e=>{e.disable(Object.assign(Object.assign({},t),{onlySelf:!0}))}),this._updateValue(),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(Object.assign(Object.assign({},t),{skipPristineCheck:e})),this._onDisabledChange.forEach(t=>t(!0))}enable(t={}){const e=this._parentMarkedDirty(t.onlySelf);this.status=qt,this._forEachChild(e=>{e.enable(Object.assign(Object.assign({},t),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent}),this._updateAncestors(Object.assign(Object.assign({},t),{skipPristineCheck:e})),this._onDisabledChange.forEach(t=>t(!1))}_updateAncestors(t){this._parent&&!t.onlySelf&&(this._parent.updateValueAndValidity(t),t.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(t){this._parent=t}updateValueAndValidity(t={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),this.status!==qt&&this.status!==zt||this._runAsyncValidator(t.emitEvent)),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!t.onlySelf&&this._parent.updateValueAndValidity(t)}_updateTreeValidity(t={emitEvent:!0}){this._forEachChild(e=>e._updateTreeValidity(t)),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Kt:qt}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(t){if(this.asyncValidator){this.status=zt,this._hasOwnPendingAsyncValidator=!0;const e=ot(this.asyncValidator(this));this._asyncValidationSubscription=e.subscribe(e=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(e,{emitEvent:t})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(t,e={}){this.errors=t,this._updateControlsErrors(!1!==e.emitEvent)}get(t){return function(t,e,n){if(null==e)return null;if(Array.isArray(e)||(e=e.split(".")),Array.isArray(e)&&0===e.length)return null;let r=t;return e.forEach(t=>{r=r instanceof Yt?r.controls.hasOwnProperty(t)?r.controls[t]:null:r instanceof Xt&&r.at(t)||null}),r}(this,t)}getError(t,e){const n=e?this.get(e):this;return n&&n.errors?n.errors[t]:null}hasError(t,e){return!!this.getError(t,e)}get root(){let t=this;for(;t._parent;)t=t._parent;return t}_updateControlsErrors(t){this.status=this._calculateStatus(),t&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(t)}_initObservables(){this.valueChanges=new r.n,this.statusChanges=new r.n}_calculateStatus(){return this._allControlsDisabled()?Kt:this.errors?Ht:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(zt)?zt:this._anyControlsHaveStatus(Ht)?Ht:qt}_anyControlsHaveStatus(t){return this._anyControls(e=>e.status===t)}_anyControlsDirty(){return this._anyControls(t=>t.dirty)}_anyControlsTouched(){return this._anyControls(t=>t.touched)}_updatePristine(t={}){this.pristine=!this._anyControlsDirty(),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}_updateTouched(t={}){this.touched=this._anyControlsTouched(),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}_isBoxedValue(t){return"object"==typeof t&&null!==t&&2===Object.keys(t).length&&"value"in t&&"disabled"in t}_registerOnCollectionChange(t){this._onCollectionChange=t}_setUpdateStrategy(t){Jt(t)&&null!=t.updateOn&&(this._updateOn=t.updateOn)}_parentMarkedDirty(t){return!t&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}}class Zt extends Qt{constructor(t=null,e,n){super(Bt(e),$t(n,e)),this._onChange=[],this._applyFormState(t),this._setUpdateStrategy(e),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!n})}setValue(t,e={}){this.value=this._pendingValue=t,this._onChange.length&&!1!==e.emitModelToViewChange&&this._onChange.forEach(t=>t(this.value,!1!==e.emitViewToModelChange)),this.updateValueAndValidity(e)}patchValue(t,e={}){this.setValue(t,e)}reset(t=null,e={}){this._applyFormState(t),this.markAsPristine(e),this.markAsUntouched(e),this.setValue(this.value,e),this._pendingChange=!1}_updateValue(){}_anyControls(t){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(t){this._onChange.push(t)}_unregisterOnChange(t){Ut(this._onChange,t)}registerOnDisabledChange(t){this._onDisabledChange.push(t)}_unregisterOnDisabledChange(t){Ut(this._onDisabledChange,t)}_forEachChild(t){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(t){this._isBoxedValue(t)?(this.value=this._pendingValue=t.value,t.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=t}}class Yt extends Qt{constructor(t,e,n){super(Bt(e),$t(n,e)),this.controls=t,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!n})}registerControl(t,e){return this.controls[t]?this.controls[t]:(this.controls[t]=e,e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange),e)}addControl(t,e){this.registerControl(t,e),this.updateValueAndValidity(),this._onCollectionChange()}removeControl(t){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],this.updateValueAndValidity(),this._onCollectionChange()}setControl(t,e){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],e&&this.registerControl(t,e),this.updateValueAndValidity(),this._onCollectionChange()}contains(t){return this.controls.hasOwnProperty(t)&&this.controls[t].enabled}setValue(t,e={}){this._checkAllValuesPresent(t),Object.keys(t).forEach(n=>{this._throwIfControlMissing(n),this.controls[n].setValue(t[n],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(t,e={}){Object.keys(t).forEach(n=>{this.controls[n]&&this.controls[n].patchValue(t[n],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}reset(t={},e={}){this._forEachChild((n,r)=>{n.reset(t[r],{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)}getRawValue(){return this._reduceChildren({},(t,e,n)=>(t[n]=e instanceof Zt?e.value:e.getRawValue(),t))}_syncPendingControls(){let t=this._reduceChildren(!1,(t,e)=>!!e._syncPendingControls()||t);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_throwIfControlMissing(t){if(!Object.keys(this.controls).length)throw new Error("\n        There are no form controls registered with this group yet. If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.controls[t])throw new Error(`Cannot find form control with name: ${t}.`)}_forEachChild(t){Object.keys(this.controls).forEach(e=>t(this.controls[e],e))}_setUpControls(){this._forEachChild(t=>{t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(t){for(const e of Object.keys(this.controls)){const n=this.controls[e];if(this.contains(e)&&t(n))return!0}return!1}_reduceValue(){return this._reduceChildren({},(t,e,n)=>((e.enabled||this.disabled)&&(t[n]=e.value),t))}_reduceChildren(t,e){let n=t;return this._forEachChild((t,r)=>{n=e(n,t,r)}),n}_allControlsDisabled(){for(const t of Object.keys(this.controls))if(this.controls[t].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_checkAllValuesPresent(t){this._forEachChild((e,n)=>{if(void 0===t[n])throw new Error(`Must supply a value for form control with name: '${n}'.`)})}}class Xt extends Qt{constructor(t,e,n){super(Bt(e),$t(n,e)),this.controls=t,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!n})}at(t){return this.controls[t]}push(t){this.controls.push(t),this._registerControl(t),this.updateValueAndValidity(),this._onCollectionChange()}insert(t,e){this.controls.splice(t,0,e),this._registerControl(e),this.updateValueAndValidity()}removeAt(t){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),this.controls.splice(t,1),this.updateValueAndValidity()}setControl(t,e){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),this.controls.splice(t,1),e&&(this.controls.splice(t,0,e),this._registerControl(e)),this.updateValueAndValidity(),this._onCollectionChange()}get length(){return this.controls.length}setValue(t,e={}){this._checkAllValuesPresent(t),t.forEach((t,n)=>{this._throwIfControlMissing(n),this.at(n).setValue(t,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(t,e={}){t.forEach((t,n)=>{this.at(n)&&this.at(n).patchValue(t,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}reset(t=[],e={}){this._forEachChild((n,r)=>{n.reset(t[r],{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)}getRawValue(){return this.controls.map(t=>t instanceof Zt?t.value:t.getRawValue())}clear(){this.controls.length<1||(this._forEachChild(t=>t._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity())}_syncPendingControls(){let t=this.controls.reduce((t,e)=>!!e._syncPendingControls()||t,!1);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_throwIfControlMissing(t){if(!this.controls.length)throw new Error("\n        There are no form controls registered with this array yet. If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.at(t))throw new Error("Cannot find form control at index "+t)}_forEachChild(t){this.controls.forEach((e,n)=>{t(e,n)})}_updateValue(){this.value=this.controls.filter(t=>t.enabled||this.disabled).map(t=>t.value)}_anyControls(t){return this.controls.some(e=>e.enabled&&t(e))}_setUpControls(){this._forEachChild(t=>this._registerControl(t))}_checkAllValuesPresent(t){this._forEachChild((e,n)=>{if(void 0===t[n])throw new Error(`Must supply a value for form control at index: ${n}.`)})}_allControlsDisabled(){for(const t of this.controls)if(t.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(t){t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)}}let te=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=r.Db({type:t,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),t})();const ee=new r.q("NgModelWithFormControlWarning"),ne={provide:mt,useExisting:Object(r.T)(()=>re)};let re=(()=>{class t extends mt{constructor(t,e){super(),this.validators=t,this.asyncValidators=e,this.submitted=!1,this.directives=[],this.form=null,this.ngSubmit=new r.n,this._setValidators(t),this._setAsyncValidators(e)}ngOnChanges(t){this._checkFormPresent(),t.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(t){const e=this.form.get(t.path);return Pt(e,t),e.updateValueAndValidity({emitEvent:!1}),this.directives.push(t),e}getControl(t){return this.form.get(t.path)}removeControl(t){Ut(this.directives,t)}addFormGroup(t){const e=this.form.get(t.path);Ft(e,t),e.updateValueAndValidity({emitEvent:!1})}removeFormGroup(t){}getFormGroup(t){return this.form.get(t.path)}addFormArray(t){const e=this.form.get(t.path);Ft(e,t),e.updateValueAndValidity({emitEvent:!1})}removeFormArray(t){}getFormArray(t){return this.form.get(t.path)}updateModel(t,e){this.form.get(t.path).setValue(e)}onSubmit(t){return this.submitted=!0,e=this.directives,this.form._syncPendingControls(),e.forEach(t=>{const e=t.control;"submit"===e.updateOn&&e._pendingChange&&(t.viewToModelUpdate(e._pendingValue),e._pendingChange=!1)}),this.ngSubmit.emit(t),!1;var e}onReset(){this.resetForm()}resetForm(t){this.form.reset(t),this.submitted=!1}_updateDomValue(){this.directives.forEach(t=>{const e=this.form.get(t.path);t.control!==e&&(function(t,e){const n=()=>{};e.valueAccessor.registerOnChange(n),e.valueAccessor.registerOnTouched(n),Lt(t,e,!0),t&&(e._invokeOnDestroyCallbacks(),t._registerOnCollectionChange(()=>{}))}(t.control||null,t),e&&Pt(e,t),t.control=e)}),this.form._updateTreeValidity({emitEvent:!1})}_updateRegistrations(){this.form._registerOnCollectionChange(()=>this._updateDomValue()),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){Rt(this.form,this,!1),this._oldForm&&Lt(this._oldForm,this,!1)}_checkFormPresent(){}}return t.\u0275fac=function(e){return new(e||t)(r.Ib(et,10),r.Ib(nt,10))},t.\u0275dir=r.Db({type:t,selectors:[["","formGroup",""]],hostBindings:function(t,e){1&t&&r.Rb("submit",function(t){return e.onSubmit(t)})("reset",function(){return e.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[r.xb([ne]),r.vb,r.wb]}),t})();const ie={provide:vt,useExisting:Object(r.T)(()=>se)};let se=(()=>{class t extends vt{constructor(t,e,n,i,s){super(),this._ngModelWarningConfig=s,this._added=!1,this.update=new r.n,this._ngModelWarningSent=!1,this._parent=t,this._setValidators(e),this._setAsyncValidators(n),this.valueAccessor=function(t,e){if(!e)return null;Array.isArray(e);let n=void 0,r=void 0,i=void 0;return e.forEach(t=>{var e;t.constructor===Y?n=t:(e=t,Vt.some(t=>e.constructor===t)?r=t:i=t)}),i||r||n||null}(0,i)}set isDisabled(t){}ngOnChanges(t){this._added||this._setUpControl(),function(t,e){if(!t.hasOwnProperty("model"))return!1;const n=t.model;return!!n.isFirstChange()||!Object.is(e,n.currentValue)}(t,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}get path(){return function(t,e){return[...e.path,t]}(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this.control.disabled&&this.valueAccessor.setDisabledState&&this.valueAccessor.setDisabledState(!0),this._added=!0}}return t.\u0275fac=function(e){return new(e||t)(r.Ib(mt,13),r.Ib(et,10),r.Ib(nt,10),r.Ib($,10),r.Ib(ee,8))},t.\u0275dir=r.Db({type:t,selectors:[["","formControlName",""]],inputs:{isDisabled:["disabled","isDisabled"],name:["formControlName","name"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[r.xb([ie]),r.vb,r.wb]}),t._ngModelWarningSentOnce=!1,t})(),oe=(()=>{class t{}return t.\u0275mod=r.Gb({type:t}),t.\u0275inj=r.Fb({factory:function(e){return new(e||t)}}),t})(),ae=(()=>{class t{group(t,e=null){const n=this._reduceControls(t);let r=null,i=null,s=void 0;return null!=e&&(function(t){return void 0!==t.asyncValidators||void 0!==t.validators||void 0!==t.updateOn}(e)?(r=null!=e.validators?e.validators:null,i=null!=e.asyncValidators?e.asyncValidators:null,s=null!=e.updateOn?e.updateOn:void 0):(r=null!=e.validator?e.validator:null,i=null!=e.asyncValidator?e.asyncValidator:null)),new Yt(n,{asyncValidators:i,updateOn:s,validators:r})}control(t,e,n){return new Zt(t,e,n)}array(t,e,n){const r=t.map(t=>this._createControl(t));return new Xt(r,e,n)}_reduceControls(t){const e={};return Object.keys(t).forEach(n=>{e[n]=this._createControl(t[n])}),e}_createControl(t){return t instanceof Zt||t instanceof Yt||t instanceof Xt?t:Array.isArray(t)?this.control(t[0],t.length>1?t[1]:null,t.length>2?t[2]:null):this.control(t)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=r.Eb({token:t,factory:t.\u0275fac}),t})(),ue=(()=>{class t{}return t.\u0275mod=r.Gb({type:t}),t.\u0275inj=r.Fb({factory:function(e){return new(e||t)},providers:[Ct],imports:[oe]}),t})(),ce=(()=>{class t{static withConfig(e){return{ngModule:t,providers:[{provide:ee,useValue:e.warnOnNgModelWithFormControl}]}}}return t.\u0275mod=r.Gb({type:t}),t.\u0275inj=r.Fb({factory:function(e){return new(e||t)},providers:[ae,Ct],imports:[oe]}),t})();class le extends class extends class{}{constructor(){super()}supportsDOMEvents(){return!0}}{static makeCurrent(){var t;t=new le,i||(i=t)}getProperty(t,e){return t[e]}log(t){window.console&&window.console.log&&window.console.log(t)}logGroup(t){window.console&&window.console.group&&window.console.group(t)}logGroupEnd(){window.console&&window.console.groupEnd&&window.console.groupEnd()}onAndCancel(t,e,n){return t.addEventListener(e,n,!1),()=>{t.removeEventListener(e,n,!1)}}dispatchEvent(t,e){t.dispatchEvent(e)}remove(t){return t.parentNode&&t.parentNode.removeChild(t),t}getValue(t){return t.value}createElement(t,e){return(e=e||this.getDefaultDocument()).createElement(t)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(t){return t.nodeType===Node.ELEMENT_NODE}isShadowRoot(t){return t instanceof DocumentFragment}getGlobalEventTarget(t,e){return"window"===e?window:"document"===e?t:"body"===e?t.body:null}getHistory(){return window.history}getLocation(){return window.location}getBaseHref(t){const e=fe||(fe=document.querySelector("base"),fe)?fe.getAttribute("href"):null;return null==e?null:(n=e,he||(he=document.createElement("a")),he.setAttribute("href",n),"/"===he.pathname.charAt(0)?he.pathname:"/"+he.pathname);var n}resetBaseElement(){fe=null}getUserAgent(){return window.navigator.userAgent}performanceNow(){return window.performance&&window.performance.now?window.performance.now():(new Date).getTime()}supportsCookies(){return!0}getCookie(t){return x(document.cookie,t)}}let he,fe=null;const de=new r.q("TRANSITION_ID"),pe=[{provide:r.d,useFactory:function(t,e,n){return()=>{n.get(r.e).donePromise.then(()=>{const n=s();Array.prototype.slice.apply(e.querySelectorAll("style[ng-transition]")).filter(e=>e.getAttribute("ng-transition")===t).forEach(t=>n.remove(t))})}},deps:[de,o,r.r],multi:!0}];class ge{static init(){Object(r.W)(new ge)}addToWindow(t){r.nb.getAngularTestability=(e,n=!0)=>{const r=t.findTestabilityInTree(e,n);if(null==r)throw new Error("Could not find testability for element.");return r},r.nb.getAllAngularTestabilities=()=>t.getAllTestabilities(),r.nb.getAllAngularRootElements=()=>t.getAllRootElements(),r.nb.frameworkStabilizers||(r.nb.frameworkStabilizers=[]),r.nb.frameworkStabilizers.push(t=>{const e=r.nb.getAllAngularTestabilities();let n=e.length,i=!1;const s=function(e){i=i||e,n--,0==n&&t(i)};e.forEach(function(t){t.whenStable(s)})})}findTestabilityInTree(t,e,n){if(null==e)return null;const r=t.getTestability(e);return null!=r?r:n?s().isShadowRoot(e)?this.findTestabilityInTree(t,e.host,!0):this.findTestabilityInTree(t,e.parentElement,!0):null}}const me=new r.q("EventManagerPlugins");let ye=(()=>{class t{constructor(t,e){this._zone=e,this._eventNameToPlugin=new Map,t.forEach(t=>t.manager=this),this._plugins=t.slice().reverse()}addEventListener(t,e,n){return this._findPluginFor(e).addEventListener(t,e,n)}addGlobalEventListener(t,e,n){return this._findPluginFor(e).addGlobalEventListener(t,e,n)}getZone(){return this._zone}_findPluginFor(t){const e=this._eventNameToPlugin.get(t);if(e)return e;const n=this._plugins;for(let r=0;r<n.length;r++){const e=n[r];if(e.supports(t))return this._eventNameToPlugin.set(t,e),e}throw new Error("No event manager plugin found for event "+t)}}return t.\u0275fac=function(e){return new(e||t)(r.Ob(me),r.Ob(r.z))},t.\u0275prov=r.Eb({token:t,factory:t.\u0275fac}),t})();class ve{constructor(t){this._doc=t}addGlobalEventListener(t,e,n){const r=s().getGlobalEventTarget(this._doc,t);if(!r)throw new Error(`Unsupported event target ${r} for event ${e}`);return this.addEventListener(r,e,n)}}let be=(()=>{class t{constructor(){this._stylesSet=new Set}addStyles(t){const e=new Set;t.forEach(t=>{this._stylesSet.has(t)||(this._stylesSet.add(t),e.add(t))}),this.onStylesAdded(e)}onStylesAdded(t){}getAllStyles(){return Array.from(this._stylesSet)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=r.Eb({token:t,factory:t.\u0275fac}),t})(),_e=(()=>{class t extends be{constructor(t){super(),this._doc=t,this._hostNodes=new Set,this._styleNodes=new Set,this._hostNodes.add(t.head)}_addStylesToHost(t,e){t.forEach(t=>{const n=this._doc.createElement("style");n.textContent=t,this._styleNodes.add(e.appendChild(n))})}addHost(t){this._addStylesToHost(this._stylesSet,t),this._hostNodes.add(t)}removeHost(t){this._hostNodes.delete(t)}onStylesAdded(t){this._hostNodes.forEach(e=>this._addStylesToHost(t,e))}ngOnDestroy(){this._styleNodes.forEach(t=>s().remove(t))}}return t.\u0275fac=function(e){return new(e||t)(r.Ob(o))},t.\u0275prov=r.Eb({token:t,factory:t.\u0275fac}),t})();const we={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},Ee=/%COMP%/g;function Oe(t,e,n){for(let r=0;r<e.length;r++){let i=e[r];Array.isArray(i)?Oe(t,i,n):(i=i.replace(Ee,t),n.push(i))}return n}function Se(t){return e=>{if("__ngUnwrap__"===e)return t;!1===t(e)&&(e.preventDefault(),e.returnValue=!1)}}let Ce=(()=>{class t{constructor(t,e,n){this.eventManager=t,this.sharedStylesHost=e,this.appId=n,this.rendererByCompId=new Map,this.defaultRenderer=new Te(t)}createRenderer(t,e){if(!t||!e)return this.defaultRenderer;switch(e.encapsulation){case r.Q.Emulated:{let n=this.rendererByCompId.get(e.id);return n||(n=new Ie(this.eventManager,this.sharedStylesHost,e,this.appId),this.rendererByCompId.set(e.id,n)),n.applyToHost(t),n}case 1:case r.Q.ShadowDom:return new xe(this.eventManager,this.sharedStylesHost,t,e);default:if(!this.rendererByCompId.has(e.id)){const t=Oe(e.id,e.styles,[]);this.sharedStylesHost.addStyles(t),this.rendererByCompId.set(e.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return t.\u0275fac=function(e){return new(e||t)(r.Ob(ye),r.Ob(_e),r.Ob(r.c))},t.\u0275prov=r.Eb({token:t,factory:t.\u0275fac}),t})();class Te{constructor(t){this.eventManager=t,this.data=Object.create(null)}destroy(){}createElement(t,e){return e?document.createElementNS(we[e]||e,t):document.createElement(t)}createComment(t){return document.createComment(t)}createText(t){return document.createTextNode(t)}appendChild(t,e){t.appendChild(e)}insertBefore(t,e,n){t&&t.insertBefore(e,n)}removeChild(t,e){t&&t.removeChild(e)}selectRootElement(t,e){let n="string"==typeof t?document.querySelector(t):t;if(!n)throw new Error(`The selector "${t}" did not match any elements`);return e||(n.textContent=""),n}parentNode(t){return t.parentNode}nextSibling(t){return t.nextSibling}setAttribute(t,e,n,r){if(r){e=r+":"+e;const i=we[r];i?t.setAttributeNS(i,e,n):t.setAttribute(e,n)}else t.setAttribute(e,n)}removeAttribute(t,e,n){if(n){const r=we[n];r?t.removeAttributeNS(r,e):t.removeAttribute(`${n}:${e}`)}else t.removeAttribute(e)}addClass(t,e){t.classList.add(e)}removeClass(t,e){t.classList.remove(e)}setStyle(t,e,n,i){i&(r.F.DashCase|r.F.Important)?t.style.setProperty(e,n,i&r.F.Important?"important":""):t.style[e]=n}removeStyle(t,e,n){n&r.F.DashCase?t.style.removeProperty(e):t.style[e]=""}setProperty(t,e,n){t[e]=n}setValue(t,e){t.nodeValue=e}listen(t,e,n){return"string"==typeof t?this.eventManager.addGlobalEventListener(t,e,Se(n)):this.eventManager.addEventListener(t,e,Se(n))}}class Ie extends Te{constructor(t,e,n,r){super(t),this.component=n;const i=Oe(r+"-"+n.id,n.styles,[]);e.addStyles(i),this.contentAttr="_ngcontent-%COMP%".replace(Ee,r+"-"+n.id),this.hostAttr="_nghost-%COMP%".replace(Ee,r+"-"+n.id)}applyToHost(t){super.setAttribute(t,this.hostAttr,"")}createElement(t,e){const n=super.createElement(t,e);return super.setAttribute(n,this.contentAttr,""),n}}class xe extends Te{constructor(t,e,n,r){super(t),this.sharedStylesHost=e,this.hostEl=n,this.shadowRoot=n.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const i=Oe(r.id,r.styles,[]);for(let s=0;s<i.length;s++){const t=document.createElement("style");t.textContent=i[s],this.shadowRoot.appendChild(t)}}nodeOrShadowRoot(t){return t===this.hostEl?this.shadowRoot:t}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(t,e){return super.appendChild(this.nodeOrShadowRoot(t),e)}insertBefore(t,e,n){return super.insertBefore(this.nodeOrShadowRoot(t),e,n)}removeChild(t,e){return super.removeChild(this.nodeOrShadowRoot(t),e)}parentNode(t){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(t)))}}let Ae=(()=>{class t extends ve{constructor(t){super(t)}supports(t){return!0}addEventListener(t,e,n){return t.addEventListener(e,n,!1),()=>this.removeEventListener(t,e,n)}removeEventListener(t,e,n){return t.removeEventListener(e,n)}}return t.\u0275fac=function(e){return new(e||t)(r.Ob(o))},t.\u0275prov=r.Eb({token:t,factory:t.\u0275fac}),t})();const je=["alt","control","meta","shift"],ke={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},Ne={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},Pe={alt:t=>t.altKey,control:t=>t.ctrlKey,meta:t=>t.metaKey,shift:t=>t.shiftKey};let De=(()=>{class t extends ve{constructor(t){super(t)}supports(e){return null!=t.parseEventName(e)}addEventListener(e,n,r){const i=t.parseEventName(n),o=t.eventCallback(i.fullKey,r,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>s().onAndCancel(e,i.domEventName,o))}static parseEventName(e){const n=e.toLowerCase().split("."),r=n.shift();if(0===n.length||"keydown"!==r&&"keyup"!==r)return null;const i=t._normalizeKey(n.pop());let s="";if(je.forEach(t=>{const e=n.indexOf(t);e>-1&&(n.splice(e,1),s+=t+".")}),s+=i,0!=n.length||0===i.length)return null;const o={};return o.domEventName=r,o.fullKey=s,o}static getEventFullKey(t){let e="",n=function(t){let e=t.key;if(null==e){if(e=t.keyIdentifier,null==e)return"Unidentified";e.startsWith("U+")&&(e=String.fromCharCode(parseInt(e.substring(2),16)),3===t.location&&Ne.hasOwnProperty(e)&&(e=Ne[e]))}return ke[e]||e}(t);return n=n.toLowerCase()," "===n?n="space":"."===n&&(n="dot"),je.forEach(r=>{r!=n&&(0,Pe[r])(t)&&(e+=r+".")}),e+=n,e}static eventCallback(e,n,r){return i=>{t.getEventFullKey(i)===e&&r.runGuarded(()=>n(i))}}static _normalizeKey(t){switch(t){case"esc":return"escape";default:return t}}}return t.\u0275fac=function(e){return new(e||t)(r.Ob(o))},t.\u0275prov=r.Eb({token:t,factory:t.\u0275fac}),t})();const Re=[{provide:r.B,useValue:"browser"},{provide:r.C,useValue:function(){le.makeCurrent(),ge.init()},multi:!0},{provide:o,useFactory:function(){return Object(r.sb)(document),document},deps:[]}],Le=Object(r.R)(r.V,"browser",Re),Me=[[],{provide:r.Y,useValue:"root"},{provide:r.m,useFactory:function(){return new r.m},deps:[]},{provide:me,useClass:Ae,multi:!0,deps:[o,r.z,r.B]},{provide:me,useClass:De,multi:!0,deps:[o]},[],{provide:Ce,useClass:Ce,deps:[ye,_e,r.c]},{provide:r.E,useExisting:Ce},{provide:be,useExisting:_e},{provide:_e,useClass:_e,deps:[o]},{provide:r.L,useClass:r.L,deps:[r.z]},{provide:ye,useClass:ye,deps:[me,r.z]},[]];let Fe=(()=>{class t{constructor(t){if(t)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}static withServerTransition(e){return{ngModule:t,providers:[{provide:r.c,useValue:e.appId},{provide:de,useExisting:r.c},pe]}}}return t.\u0275mod=r.Gb({type:t}),t.\u0275inj=r.Fb({factory:function(e){return new(e||t)(r.Ob(t,12))},providers:Me,imports:[L,r.f]}),t})();"undefined"!=typeof window&&window;var Ve=n("D0XW"),Ue=n("LRne"),qe=n("bHdf");function He(){return Object(qe.a)(1)}function ze(...t){return He()(Object(Ue.a)(...t))}var Ke=n("z+Ro");function Be(...t){const e=t[t.length-1];return Object(Ke.a)(e)?(t.pop(),n=>ze(t,n,e)):e=>ze(t,e)}var Ge=n("7o/Q");function $e(){return t=>t.lift(new We)}class We{call(t,e){return e.subscribe(new Je(t))}}class Je extends Ge.a{constructor(t){super(t),this.hasPrev=!1}_next(t){let e;this.hasPrev?e=[this.prev,t]:this.hasPrev=!0,this.prev=t,e&&this.destination.next(e)}}function Qe(t,e){let n=!1;return arguments.length>=2&&(n=!0),function(r){return r.lift(new Ze(t,e,n))}}class Ze{constructor(t,e,n=!1){this.accumulator=t,this.seed=e,this.hasSeed=n}call(t,e){return e.subscribe(new Ye(t,this.accumulator,this.seed,this.hasSeed))}}class Ye extends Ge.a{constructor(t,e,n,r){super(t),this.accumulator=e,this._seed=n,this.hasSeed=r,this.index=0}get seed(){return this._seed}set seed(t){this.hasSeed=!0,this._seed=t}_next(t){if(this.hasSeed)return this._tryNext(t);this.seed=t,this.destination.next(t)}_tryNext(t){const e=this.index++;let n;try{n=this.accumulator(this.seed,t,e)}catch(r){this.destination.error(r)}this.seed=n,this.destination.next(n)}}class Xe{constructor(t,e){this.compare=t,this.keySelector=e}call(t,e){return e.subscribe(new tn(t,this.compare,this.keySelector))}}class tn extends Ge.a{constructor(t,e,n){super(t),this.keySelector=n,this.hasKey=!1,"function"==typeof e&&(this.compare=e)}compare(t,e){return t===e}_next(t){let e;try{const{keySelector:n}=this;e=n?n(t):t}catch(r){return this.destination.error(r)}let n=!1;if(this.hasKey)try{const{compare:t}=this;n=t(this.key,e)}catch(r){return this.destination.error(r)}else this.hasKey=!0;n||(this.key=e,this.destination.next(t))}}function en(t,e){return function(n){return n.lift(new nn(t,e))}}class nn{constructor(t,e){this.predicate=t,this.thisArg=e}call(t,e){return e.subscribe(new rn(t,this.predicate,this.thisArg))}}class rn extends Ge.a{constructor(t,e,n){super(t),this.predicate=e,this.thisArg=n,this.count=0}_next(t){let e;try{e=this.predicate.call(this.thisArg,t,this.count++)}catch(n){return void this.destination.error(n)}e&&this.destination.next(t)}}var sn=n("pxpQ"),on=n("spgP"),an=n("Jgta"),un=n("zIRd"),cn=n("q/0M"),ln=n("qOnz"),hn=function(t,e){return(hn=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)};function fn(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}var dn,pn="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},gn=gn||{},mn=pn||self;function yn(){}function vn(t){var e=typeof t;return"array"==(e="object"!=e?e:t?Array.isArray(t)?"array":e:"null")||"object"==e&&"number"==typeof t.length}function bn(t){var e=typeof t;return"object"==e&&null!=t||"function"==e}var _n="closure_uid_"+(1e9*Math.random()>>>0),wn=0;function En(t,e,n){return t.call.apply(t.bind,arguments)}function On(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),t.apply(e,n)}}return function(){return t.apply(e,arguments)}}function Sn(t,e,n){return(Sn=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?En:On).apply(null,arguments)}function Cn(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var e=n.slice();return e.push.apply(e,arguments),t.apply(this,e)}}function Tn(){return Date.now()}function In(t,e){function n(){}n.prototype=e.prototype,t.X=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.Kb=function(t,n,r){for(var i=Array(arguments.length-2),s=2;s<arguments.length;s++)i[s-2]=arguments[s];return e.prototype[n].apply(t,i)}}function xn(){this.j=this.j,this.i=this.i}xn.prototype.j=!1,xn.prototype.ja=function(){!this.j&&(this.j=!0,this.G(),0)&&function(t){Object.prototype.hasOwnProperty.call(t,_n)&&t[_n]||(t[_n]=++wn)}(this)},xn.prototype.G=function(){if(this.i)for(;this.i.length;)this.i.shift()()};var An=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if("string"==typeof t)return"string"!=typeof e||1!=e.length?-1:t.indexOf(e,0);for(var n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1},jn=Array.prototype.forEach?function(t,e,n){Array.prototype.forEach.call(t,e,n)}:function(t,e,n){for(var r=t.length,i="string"==typeof t?t.split(""):t,s=0;s<r;s++)s in i&&e.call(n,i[s],s,t)};function kn(t){return Array.prototype.concat.apply([],arguments)}function Nn(t){var e=t.length;if(0<e){for(var n=Array(e),r=0;r<e;r++)n[r]=t[r];return n}return[]}function Pn(t){return/^[\s\xa0]*$/.test(t)}var Dn,Rn=String.prototype.trim?function(t){return t.trim()}:function(t){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(t)[1]};function Ln(t,e){return-1!=t.indexOf(e)}function Mn(t,e){return t<e?-1:t>e?1:0}t:{var Fn=mn.navigator;if(Fn){var Vn=Fn.userAgent;if(Vn){Dn=Vn;break t}}Dn=""}function Un(t,e,n){for(var r in t)e.call(n,t[r],r,t)}function qn(t){var e={};for(var n in t)e[n]=t[n];return e}var Hn="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function zn(t,e){for(var n,r,i=1;i<arguments.length;i++){for(n in r=arguments[i])t[n]=r[n];for(var s=0;s<Hn.length;s++)n=Hn[s],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function Kn(t){return Kn[" "](t),t}Kn[" "]=yn;var Bn,Gn,$n=Ln(Dn,"Opera"),Wn=Ln(Dn,"Trident")||Ln(Dn,"MSIE"),Jn=Ln(Dn,"Edge"),Qn=Jn||Wn,Zn=Ln(Dn,"Gecko")&&!(Ln(Dn.toLowerCase(),"webkit")&&!Ln(Dn,"Edge"))&&!(Ln(Dn,"Trident")||Ln(Dn,"MSIE"))&&!Ln(Dn,"Edge"),Yn=Ln(Dn.toLowerCase(),"webkit")&&!Ln(Dn,"Edge");function Xn(){var t=mn.document;return t?t.documentMode:void 0}t:{var tr="",er=(Gn=Dn,Zn?/rv:([^\);]+)(\)|;)/.exec(Gn):Jn?/Edge\/([\d\.]+)/.exec(Gn):Wn?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(Gn):Yn?/WebKit\/(\S+)/.exec(Gn):$n?/(?:Version)[ \/]?(\S+)/.exec(Gn):void 0);if(er&&(tr=er?er[1]:""),Wn){var nr=Xn();if(null!=nr&&nr>parseFloat(tr)){Bn=String(nr);break t}}Bn=tr}var rr={};function ir(t){return function(t,e){var n=rr;return Object.prototype.hasOwnProperty.call(n,t)?n[t]:n[t]=e()}(t,function(){for(var e=0,n=Rn(String(Bn)).split("."),r=Rn(String(t)).split("."),i=Math.max(n.length,r.length),s=0;0==e&&s<i;s++){var o=n[s]||"",a=r[s]||"";do{if(o=/(\d*)(\D*)(.*)/.exec(o)||["","","",""],a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],0==o[0].length&&0==a[0].length)break;e=Mn(0==o[1].length?0:parseInt(o[1],10),0==a[1].length?0:parseInt(a[1],10))||Mn(0==o[2].length,0==a[2].length)||Mn(o[2],a[2]),o=o[3],a=a[3]}while(0==e)}return 0<=e})}var sr=mn.document&&Wn&&(Xn()||parseInt(Bn,10))||void 0,or=!Wn||9<=Number(sr),ar=Wn&&!ir("9"),ur=function(){if(!mn.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{mn.addEventListener("test",yn,e),mn.removeEventListener("test",yn,e)}catch(n){}return t}();function cr(t,e){this.type=t,this.a=this.target=e,this.defaultPrevented=!1}function lr(t,e){if(cr.call(this,t?t.type:""),this.relatedTarget=this.a=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.pointerId=0,this.pointerType="",this.c=null,t){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.a=e,e=t.relatedTarget){if(Zn){t:{try{Kn(e.nodeName);var i=!0;break t}catch(s){}i=!1}i||(e=null)}}else"mouseover"==n?e=t.fromElement:"mouseout"==n&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==t.clientX?t.clientX:t.pageX,this.clientY=void 0!==t.clientY?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType="string"==typeof t.pointerType?t.pointerType:hr[t.pointerType]||"",this.c=t,t.defaultPrevented&&this.b()}}cr.prototype.b=function(){this.defaultPrevented=!0},In(lr,cr);var hr={2:"touch",3:"pen",4:"mouse"};lr.prototype.b=function(){lr.X.b.call(this);var t=this.c;if(t.preventDefault)t.preventDefault();else if(t.returnValue=!1,ar)try{(t.ctrlKey||112<=t.keyCode&&123>=t.keyCode)&&(t.keyCode=-1)}catch(e){}};var fr="closure_listenable_"+(1e6*Math.random()|0),dr=0;function pr(t,e,n,r,i){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.ca=i,this.key=++dr,this.Y=this.Z=!1}function gr(t){t.Y=!0,t.listener=null,t.proxy=null,t.src=null,t.ca=null}function mr(t){this.src=t,this.a={},this.b=0}function yr(t,e){var n=e.type;if(n in t.a){var r,i=t.a[n],s=An(i,e);(r=0<=s)&&Array.prototype.splice.call(i,s,1),r&&(gr(e),0==t.a[n].length&&(delete t.a[n],t.b--))}}function vr(t,e,n,r){for(var i=0;i<t.length;++i){var s=t[i];if(!s.Y&&s.listener==e&&s.capture==!!n&&s.ca==r)return i}return-1}mr.prototype.add=function(t,e,n,r,i){var s=t.toString();(t=this.a[s])||(t=this.a[s]=[],this.b++);var o=vr(t,e,r,i);return-1<o?(e=t[o],n||(e.Z=!1)):((e=new pr(e,this.src,s,!!r,i)).Z=n,t.push(e)),e};var br="closure_lm_"+(1e6*Math.random()|0),_r={};function wr(t,e,n,r,i){if(r&&r.once)return Or(t,e,n,r,i);if(Array.isArray(e)){for(var s=0;s<e.length;s++)wr(t,e[s],n,r,i);return null}return n=kr(n),t&&t[fr]?t.va(e,n,bn(r)?!!r.capture:!!r,i):Er(t,e,n,!1,r,i)}function Er(t,e,n,r,i,s){if(!e)throw Error("Invalid event type");var o=bn(i)?!!i.capture:!!i;if(o&&!or)return null;var a=Ar(t);if(a||(t[br]=a=new mr(t)),(n=a.add(e,n,r,o,s)).proxy)return n;if(r=function(){var t=xr,e=or?function(n){return t.call(e.src,e.listener,n)}:function(n){if(!(n=t.call(e.src,e.listener,n)))return n};return e}(),n.proxy=r,r.src=t,r.listener=n,t.addEventListener)ur||(i=o),void 0===i&&(i=!1),t.addEventListener(e.toString(),r,i);else if(t.attachEvent)t.attachEvent(Tr(e.toString()),r);else{if(!t.addListener||!t.removeListener)throw Error("addEventListener and attachEvent are unavailable.");t.addListener(r)}return n}function Or(t,e,n,r,i){if(Array.isArray(e)){for(var s=0;s<e.length;s++)Or(t,e[s],n,r,i);return null}return n=kr(n),t&&t[fr]?t.wa(e,n,bn(r)?!!r.capture:!!r,i):Er(t,e,n,!0,r,i)}function Sr(t,e,n,r,i){if(Array.isArray(e))for(var s=0;s<e.length;s++)Sr(t,e[s],n,r,i);else r=bn(r)?!!r.capture:!!r,n=kr(n),t&&t[fr]?(t=t.c,(e=String(e).toString())in t.a&&-1<(n=vr(s=t.a[e],n,r,i))&&(gr(s[n]),Array.prototype.splice.call(s,n,1),0==s.length&&(delete t.a[e],t.b--))):t&&(t=Ar(t))&&(e=t.a[e.toString()],t=-1,e&&(t=vr(e,n,r,i)),(n=-1<t?e[t]:null)&&Cr(n))}function Cr(t){if("number"!=typeof t&&t&&!t.Y){var e=t.src;if(e&&e[fr])yr(e.c,t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(Tr(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=Ar(e))?(yr(n,t),0==n.b&&(n.src=null,e[br]=null)):gr(t)}}}function Tr(t){return t in _r?_r[t]:_r[t]="on"+t}function Ir(t,e){var n=t.listener,r=t.ca||t.src;return t.Z&&Cr(t),n.call(r,e)}function xr(t,e){if(t.Y)return!0;if(!or){if(!e)t:{e=["window","event"];for(var n=mn,r=0;r<e.length;r++)if(null==(n=n[e[r]])){e=null;break t}e=n}return Ir(t,e=new lr(e,this))}return Ir(t,new lr(e,this))}function Ar(t){return(t=t[br])instanceof mr?t:null}var jr="__closure_events_fn_"+(1e9*Math.random()>>>0);function kr(t){return"function"==typeof t?t:(t[jr]||(t[jr]=function(e){return t.handleEvent(e)}),t[jr])}function Nr(){xn.call(this),this.c=new mr(this),this.J=this,this.C=null}function Pr(t,e){var n,r=t.C;if(r)for(n=[];r;r=r.C)n.push(r);if(t=t.J,r=e.type||e,"string"==typeof e)e=new cr(e,t);else if(e instanceof cr)e.target=e.target||t;else{var i=e;zn(e=new cr(r,t),i)}if(i=!0,n)for(var s=n.length-1;0<=s;s--){var o=e.a=n[s];i=Dr(o,r,!0,e)&&i}if(i=Dr(o=e.a=t,r,!0,e)&&i,i=Dr(o,r,!1,e)&&i,n)for(s=0;s<n.length;s++)i=Dr(o=e.a=n[s],r,!1,e)&&i}function Dr(t,e,n,r){if(!(e=t.c.a[String(e)]))return!0;e=e.concat();for(var i=!0,s=0;s<e.length;++s){var o=e[s];if(o&&!o.Y&&o.capture==n){var a=o.listener,u=o.ca||o.src;o.Z&&yr(t.c,o),i=!1!==a.call(u,r)&&i}}return i&&!r.defaultPrevented}In(Nr,xn),Nr.prototype[fr]=!0,(dn=Nr.prototype).addEventListener=function(t,e,n,r){wr(this,t,e,n,r)},dn.removeEventListener=function(t,e,n,r){Sr(this,t,e,n,r)},dn.G=function(){if(Nr.X.G.call(this),this.c){var t,e=this.c;for(t in e.a){for(var n=e.a[t],r=0;r<n.length;r++)gr(n[r]);delete e.a[t],e.b--}}this.C=null},dn.va=function(t,e,n,r){return this.c.add(String(t),e,!1,n,r)},dn.wa=function(t,e,n,r){return this.c.add(String(t),e,!0,n,r)};var Rr=mn.JSON.stringify;function Lr(){this.b=this.a=null}var Mr,Fr=new(function(){function t(t,e){this.c=t,this.f=e,this.b=0,this.a=null}return t.prototype.get=function(){var t;return 0<this.b?(this.b--,this.a=(t=this.a).next,t.next=null):t=this.c(),t},t}())(function(){return new Ur},function(t){t.reset()});function Vr(){var t=Kr,e=null;return t.a&&(e=t.a,t.a=t.a.next,t.a||(t.b=null),e.next=null),e}function Ur(){this.next=this.b=this.a=null}function qr(t){mn.setTimeout(function(){throw t},0)}function Hr(t,e){Mr||function(){var t=mn.Promise.resolve(void 0);Mr=function(){t.then(Br)}}(),zr||(Mr(),zr=!0),Kr.add(t,e)}Lr.prototype.add=function(t,e){var n=Fr.get();n.set(t,e),this.b?this.b.next=n:this.a=n,this.b=n},Ur.prototype.set=function(t,e){this.a=t,this.b=e,this.next=null},Ur.prototype.reset=function(){this.next=this.b=this.a=null};var zr=!1,Kr=new Lr;function Br(){for(var t;t=Vr();){try{t.a.call(t.b)}catch(n){qr(n)}var e=Fr;e.f(t),100>e.b&&(e.b++,t.next=e.a,e.a=t)}zr=!1}function Gr(t,e){Nr.call(this),this.b=t||1,this.a=e||mn,this.f=Sn(this.Za,this),this.g=Tn()}function $r(t){t.aa=!1,t.M&&(t.a.clearTimeout(t.M),t.M=null)}function Wr(t,e,n){if("function"==typeof t)n&&(t=Sn(t,n));else{if(!t||"function"!=typeof t.handleEvent)throw Error("Invalid listener argument");t=Sn(t.handleEvent,t)}return 2147483647<Number(e)?-1:mn.setTimeout(t,e||0)}function Jr(t){t.a=Wr(function(){t.a=null,t.c&&(t.c=!1,Jr(t))},t.h);var e=t.b;t.b=null,t.g.apply(null,e)}In(Gr,Nr),(dn=Gr.prototype).aa=!1,dn.M=null,dn.Za=function(){if(this.aa){var t=Tn()-this.g;0<t&&t<.8*this.b?this.M=this.a.setTimeout(this.f,this.b-t):(this.M&&(this.a.clearTimeout(this.M),this.M=null),Pr(this,"tick"),this.aa&&($r(this),this.start()))}},dn.start=function(){this.aa=!0,this.M||(this.M=this.a.setTimeout(this.f,this.b),this.g=Tn())},dn.G=function(){Gr.X.G.call(this),$r(this),delete this.a};var Qr=function(t){function e(e,n){var r=t.call(this)||this;return r.g=e,r.h=n,r.b=null,r.c=!1,r.a=null,r}return function(t,e){function n(){this.constructor=t}hn(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}(e,t),e.prototype.f=function(t){this.b=arguments,this.a?this.c=!0:Jr(this)},e.prototype.G=function(){t.prototype.G.call(this),this.a&&(mn.clearTimeout(this.a),this.a=null,this.c=!1,this.b=null)},e}(xn);function Zr(t){xn.call(this),this.b=t,this.a={}}In(Zr,xn);var Yr=[];function Xr(t,e,n,r){Array.isArray(n)||(n&&(Yr[0]=n.toString()),n=Yr);for(var i=0;i<n.length;i++){var s=wr(e,n[i],r||t.handleEvent,!1,t.b||t);if(!s)break;t.a[s.key]=s}}function ti(t){Un(t.a,function(t,e){this.a.hasOwnProperty(e)&&Cr(t)},t),t.a={}}function ei(){this.a=!0}function ni(t,e,n,r){t.info(function(){return"XMLHTTP TEXT ("+e+"): "+function(t,e){if(!t.a)return e;if(!e)return null;try{var n=JSON.parse(e);if(n)for(t=0;t<n.length;t++)if(Array.isArray(n[t])){var r=n[t];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var s=i[0];if("noop"!=s&&"stop"!=s&&"close"!=s)for(var o=1;o<i.length;o++)i[o]=""}}}return Rr(n)}catch(a){return e}}(t,n)+(r?" "+r:"")})}Zr.prototype.G=function(){Zr.X.G.call(this),ti(this)},Zr.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},ei.prototype.info=function(){};var ri={},ii=null;function si(){return ii=ii||new Nr}function oi(t){cr.call(this,ri.Fa,t)}function ai(t){var e=si();Pr(e,new oi(e,t))}function ui(t,e){cr.call(this,ri.STAT_EVENT,t),this.stat=e}function ci(t){var e=si();Pr(e,new ui(e,t))}function li(t){cr.call(this,ri.Ga,t)}function hi(t,e){if("function"!=typeof t)throw Error("Fn must not be null and must be a function");return mn.setTimeout(function(){t()},e)}ri.Fa="serverreachability",In(oi,cr),ri.STAT_EVENT="statevent",In(ui,cr),ri.Ga="timingevent",In(li,cr);var fi={NO_ERROR:0,$a:1,nb:2,mb:3,hb:4,lb:5,ob:6,Da:7,TIMEOUT:8,rb:9},di={fb:"complete",Bb:"success",Ea:"error",Da:"abort",tb:"ready",ub:"readystatechange",TIMEOUT:"timeout",pb:"incrementaldata",sb:"progress",ib:"downloadprogress",Jb:"uploadprogress"};function pi(){}function gi(){}pi.prototype.a=null;var mi,yi={OPEN:"a",eb:"b",Ea:"c",qb:"d"};function vi(){cr.call(this,"d")}function bi(){cr.call(this,"c")}function _i(){}function wi(t,e,n,r){this.g=t,this.c=e,this.f=n,this.S=r||1,this.J=new Zr(this),this.P=Ei,this.R=new Gr(t=Qn?125:void 0),this.B=null,this.b=!1,this.j=this.l=this.i=this.H=this.u=this.T=this.o=null,this.s=[],this.a=null,this.D=0,this.h=this.m=null,this.N=-1,this.A=!1,this.O=0,this.F=null,this.V=this.C=this.U=this.I=!1}In(vi,cr),In(bi,cr),In(_i,pi),mi=new _i;var Ei=45e3,Oi={},Si={};function Ci(t,e,n){t.H=1,t.i=$i(qi(e)),t.j=n,t.I=!0,Ti(t,null)}function Ti(t,e){t.u=Tn(),Ai(t),t.l=qi(t.i);var n=t.l,r=t.S;Array.isArray(r)||(r=[String(r)]),os(n.b,"t",r),t.D=0,t.a=to(t.g,t.g.C?e:null),0<t.O&&(t.F=new Qr(Sn(t.Ca,t,t.a),t.O)),Xr(t.J,t.a,"readystatechange",t.Xa),e=t.B?qn(t.B):{},t.j?(t.m||(t.m="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.a.ba(t.l,t.m,t.j,e)):(t.m="GET",t.a.ba(t.l,t.m,null,e)),ai(1),function(t,e,n,r,i,s){t.info(function(){if(t.a)if(s)for(var o="",a=s.split("&"),u=0;u<a.length;u++){var c=a[u].split("=");if(1<c.length){var l=c[0];c=c[1];var h=l.split("_");o=2<=h.length&&"type"==h[1]?o+(l+"=")+c+"&":o+(l+"=redacted&")}}else o=null;else o=s;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+"\n"+n+"\n"+o})}(t.c,t.m,t.l,t.f,t.S,t.j)}function Ii(t,e,n){for(var r=!0;!t.A&&t.D<n.length;){var i=xi(t,n);if(i==Si){4==e&&(t.h=4,ci(14),r=!1),ni(t.c,t.f,null,"[Incomplete Response]");break}if(i==Oi){t.h=4,ci(15),ni(t.c,t.f,n,"[Invalid Chunk]"),r=!1;break}ni(t.c,t.f,i,null),Di(t,i)}4==e&&0==n.length&&(t.h=1,ci(16),r=!1),t.b=t.b&&r,r?0<n.length&&!t.V&&(t.V=!0,(e=t.g).a==t&&e.U&&!e.F&&(e.c.info("Great, no buffering proxy detected. Bytes received: "+n.length),Gs(e),e.F=!0,ci(11))):(ni(t.c,t.f,n,"[Invalid Chunked Response]"),Pi(t),Ni(t))}function xi(t,e){var n=t.D,r=e.indexOf("\n",n);return-1==r?Si:(n=Number(e.substring(n,r)),isNaN(n)?Oi:(r+=1)+n>e.length?Si:(e=e.substr(r,n),t.D=r+n,e))}function Ai(t){t.T=Tn()+t.P,ji(t,t.P)}function ji(t,e){if(null!=t.o)throw Error("WatchDog timer not null");t.o=hi(Sn(t.Va,t),e)}function ki(t){t.o&&(mn.clearTimeout(t.o),t.o=null)}function Ni(t){0==t.g.v||t.A||Js(t.g,t)}function Pi(t){ki(t);var e=t.F;e&&"function"==typeof e.ja&&e.ja(),t.F=null,$r(t.R),ti(t.J),t.a&&(e=t.a,t.a=null,e.abort(),e.ja())}function Di(t,e){try{var n=t.g;if(0!=n.v&&(n.a==t||ds(n.b,t)))if(n.I=t.N,!t.C&&ds(n.b,t)&&3==n.v){try{var r=n.ka.a.parse(e)}catch(Ug){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){t:if(!n.j){if(n.a){if(!(n.a.u+3e3<t.u))break t;Ws(n),Ms(n)}Bs(n),ci(18)}}else n.oa=i[1],0<n.oa-n.P&&37500>i[2]&&n.H&&0==n.o&&!n.m&&(n.m=hi(Sn(n.Sa,n),6e3));if(1>=fs(n.b)&&n.ea){try{n.ea()}catch(Ug){}n.ea=void 0}}else Zs(n,11)}else if((t.C||n.a==t)&&Ws(n),!Pn(e))for(e=r=n.ka.a.parse(e),r=0;r<e.length;r++)if(n.P=(i=e[r])[0],i=i[1],2==n.v)if("c"==i[0]){n.J=i[1],n.ga=i[2];var s=i[3];null!=s&&(n.ha=s,n.c.info("VER="+n.ha));var o=i[4];null!=o&&(n.pa=o,n.c.info("SVER="+n.pa));var a=i[5];if(null!=a&&"number"==typeof a&&0<a){var u=1.5*a;n.D=u,n.c.info("backChannelRequestTimeoutMs_="+u)}u=n;var c=t.a;if(c){var l=c.a?c.a.getResponseHeader("X-Client-Wire-Protocol"):null;if(l){var h=u.b;!h.a&&(Ln(l,"spdy")||Ln(l,"quic")||Ln(l,"h2"))&&(h.f=h.g,h.a=new Set,h.b&&(ps(h,h.b),h.b=null))}if(u.A){var f=c.a?c.a.getResponseHeader("X-HTTP-Session-Id"):null;f&&(u.na=f,Gi(u.B,u.A,f))}}n.v=3,n.f&&n.f.ta(),n.U&&(n.N=Tn()-t.u,n.c.info("Handshake RTT: "+n.N+"ms"));var d=t;if((u=n).la=Xs(u,u.C?u.ga:null,u.fa),d.C){gs(u.b,d);var p=d,g=u.D;g&&p.setTimeout(g),p.o&&(ki(p),Ai(p)),u.a=d}else Ks(u);0<n.g.length&&Us(n)}else"stop"!=i[0]&&"close"!=i[0]||Zs(n,7);else 3==n.v&&("stop"==i[0]||"close"==i[0]?"stop"==i[0]?Zs(n,7):Ls(n):"noop"!=i[0]&&n.f&&n.f.sa(i),n.o=0);ai(4)}catch(Ug){}}function Ri(t,e){if(t.forEach&&"function"==typeof t.forEach)t.forEach(e,void 0);else if(vn(t)||"string"==typeof t)jn(t,e,void 0);else{if(t.L&&"function"==typeof t.L)var n=t.L();else if(t.K&&"function"==typeof t.K)n=void 0;else if(vn(t)||"string"==typeof t){n=[];for(var r=t.length,i=0;i<r;i++)n.push(i)}else for(i in n=[],r=0,t)n[r++]=i;i=(r=function(t){if(t.K&&"function"==typeof t.K)return t.K();if("string"==typeof t)return t.split("");if(vn(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}for(r in e=[],n=0,t)e[n++]=t[r];return e}(t)).length;for(var s=0;s<i;s++)e.call(void 0,r[s],n&&n[s],t)}}function Li(t,e){this.b={},this.a=[],this.c=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var r=0;r<n;r+=2)this.set(arguments[r],arguments[r+1])}else if(t)if(t instanceof Li)for(n=t.L(),r=0;r<n.length;r++)this.set(n[r],t.get(n[r]));else for(r in t)this.set(r,t[r])}function Mi(t){if(t.c!=t.a.length){for(var e=0,n=0;e<t.a.length;){var r=t.a[e];Fi(t.b,r)&&(t.a[n++]=r),e++}t.a.length=n}if(t.c!=t.a.length){var i={};for(n=e=0;e<t.a.length;)Fi(i,r=t.a[e])||(t.a[n++]=r,i[r]=1),e++;t.a.length=n}}function Fi(t,e){return Object.prototype.hasOwnProperty.call(t,e)}(dn=wi.prototype).setTimeout=function(t){this.P=t},dn.Xa=function(t){t=t.target;var e=this.F;e&&3==Ns(t)?e.f():this.Ca(t)},dn.Ca=function(t){try{if(t==this.a)t:{var e=Ns(this.a),n=this.a.ua(),r=this.a.W();if(!(3>e||3==e&&!Qn&&!this.a.$())){this.A||4!=e||7==n||ai(8==n||0>=r?3:2),ki(this);var i=this.a.W();this.N=i;var s=this.a.$();if(this.b=200==i,function(t,e,n,r,i,s,o){t.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+"\n"+n+"\n"+s+" "+o})}(this.c,this.m,this.l,this.f,this.S,e,i),this.b){if(this.U&&!this.C){e:{if(this.a){var o,a=this.a;if((o=a.a?a.a.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Pn(o)){var u=o;break e}}u=null}if(!u){this.b=!1,this.h=3,ci(12),Pi(this),Ni(this);break t}ni(this.c,this.f,u,"Initial handshake response via X-HTTP-Initial-Response"),this.C=!0,Di(this,u)}this.I?(Ii(this,e,s),Qn&&this.b&&3==e&&(Xr(this.J,this.R,"tick",this.Wa),this.R.start())):(ni(this.c,this.f,s,null),Di(this,s)),4==e&&Pi(this),this.b&&!this.A&&(4==e?Js(this.g,this):(this.b=!1,Ai(this)))}else 400==i&&0<s.indexOf("Unknown SID")?(this.h=3,ci(12)):(this.h=0,ci(13)),Pi(this),Ni(this)}}}catch(c){}},dn.Wa=function(){if(this.a){var t=Ns(this.a),e=this.a.$();this.D<e.length&&(ki(this),Ii(this,t,e),this.b&&4!=t&&Ai(this))}},dn.cancel=function(){this.A=!0,Pi(this)},dn.Va=function(){this.o=null;var t=Tn();0<=t-this.T?(function(t,e){t.info(function(){return"TIMEOUT: "+e})}(this.c,this.l),2!=this.H&&(ai(3),ci(17)),Pi(this),this.h=2,Ni(this)):ji(this,this.T-t)},(dn=Li.prototype).K=function(){Mi(this);for(var t=[],e=0;e<this.a.length;e++)t.push(this.b[this.a[e]]);return t},dn.L=function(){return Mi(this),this.a.concat()},dn.get=function(t,e){return Fi(this.b,t)?this.b[t]:e},dn.set=function(t,e){Fi(this.b,t)||(this.c++,this.a.push(t)),this.b[t]=e},dn.forEach=function(t,e){for(var n=this.L(),r=0;r<n.length;r++){var i=n[r],s=this.get(i);t.call(e,s,i,this)}};var Vi=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function Ui(t,e){if(this.c=this.j=this.f="",this.h=null,this.i=this.g="",this.a=!1,t instanceof Ui){this.a=void 0!==e?e:t.a,Hi(this,t.f),this.j=t.j,zi(this,t.c),Ki(this,t.h),this.g=t.g,e=t.b;var n=new ns;n.c=e.c,e.a&&(n.a=new Li(e.a),n.b=e.b),Bi(this,n),this.i=t.i}else t&&(n=String(t).match(Vi))?(this.a=!!e,Hi(this,n[1]||"",!0),this.j=Wi(n[2]||""),zi(this,n[3]||"",!0),Ki(this,n[4]),this.g=Wi(n[5]||"",!0),Bi(this,n[6]||"",!0),this.i=Wi(n[7]||"")):(this.a=!!e,this.b=new ns(null,this.a))}function qi(t){return new Ui(t)}function Hi(t,e,n){t.f=n?Wi(e,!0):e,t.f&&(t.f=t.f.replace(/:$/,""))}function zi(t,e,n){t.c=n?Wi(e,!0):e}function Ki(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.h=e}else t.h=null}function Bi(t,e,n){e instanceof ns?(t.b=e,function(t,e){e&&!t.f&&(rs(t),t.c=null,t.a.forEach(function(t,e){var n=e.toLowerCase();e!=n&&(is(this,e),os(this,n,t))},t)),t.f=e}(t.b,t.a)):(n||(e=Ji(e,ts)),t.b=new ns(e,t.a))}function Gi(t,e,n){t.b.set(e,n)}function $i(t){return Gi(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Tn()).toString(36)),t}function Wi(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function Ji(t,e,n){return"string"==typeof t?(t=encodeURI(t).replace(e,Qi),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function Qi(t){return"%"+((t=t.charCodeAt(0))>>4&15).toString(16)+(15&t).toString(16)}Ui.prototype.toString=function(){var t=[],e=this.f;e&&t.push(Ji(e,Zi,!0),":");var n=this.c;return(n||"file"==e)&&(t.push("//"),(e=this.j)&&t.push(Ji(e,Zi,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.h)&&t.push(":",String(n))),(n=this.g)&&(this.c&&"/"!=n.charAt(0)&&t.push("/"),t.push(Ji(n,"/"==n.charAt(0)?Xi:Yi,!0))),(n=this.b.toString())&&t.push("?",n),(n=this.i)&&t.push("#",Ji(n,es)),t.join("")};var Zi=/[#\/\?@]/g,Yi=/[#\?:]/g,Xi=/[#\?]/g,ts=/[#\?@]/g,es=/#/g;function ns(t,e){this.b=this.a=null,this.c=t||null,this.f=!!e}function rs(t){t.a||(t.a=new Li,t.b=0,t.c&&function(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),i=null;if(0<=r){var s=t[n].substring(0,r);i=t[n].substring(r+1)}else s=t[n];e(s,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(t.c,function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)}))}function is(t,e){rs(t),e=as(t,e),Fi(t.a.b,e)&&(t.c=null,t.b-=t.a.get(e).length,Fi((t=t.a).b,e)&&(delete t.b[e],t.c--,t.a.length>2*t.c&&Mi(t)))}function ss(t,e){return rs(t),e=as(t,e),Fi(t.a.b,e)}function os(t,e,n){is(t,e),0<n.length&&(t.c=null,t.a.set(as(t,e),Nn(n)),t.b+=n.length)}function as(t,e){return e=String(e),t.f&&(e=e.toLowerCase()),e}(dn=ns.prototype).add=function(t,e){rs(this),this.c=null,t=as(this,t);var n=this.a.get(t);return n||this.a.set(t,n=[]),n.push(e),this.b+=1,this},dn.forEach=function(t,e){rs(this),this.a.forEach(function(n,r){jn(n,function(n){t.call(e,n,r,this)},this)},this)},dn.L=function(){rs(this);for(var t=this.a.K(),e=this.a.L(),n=[],r=0;r<e.length;r++)for(var i=t[r],s=0;s<i.length;s++)n.push(e[r]);return n},dn.K=function(t){rs(this);var e=[];if("string"==typeof t)ss(this,t)&&(e=kn(e,this.a.get(as(this,t))));else{t=this.a.K();for(var n=0;n<t.length;n++)e=kn(e,t[n])}return e},dn.set=function(t,e){return rs(this),this.c=null,ss(this,t=as(this,t))&&(this.b-=this.a.get(t).length),this.a.set(t,[e]),this.b+=1,this},dn.get=function(t,e){return t&&0<(t=this.K(t)).length?String(t[0]):e},dn.toString=function(){if(this.c)return this.c;if(!this.a)return"";for(var t=[],e=this.a.L(),n=0;n<e.length;n++){var r=e[n],i=encodeURIComponent(String(r));r=this.K(r);for(var s=0;s<r.length;s++){var o=i;""!==r[s]&&(o+="="+encodeURIComponent(String(r[s]))),t.push(o)}}return this.c=t.join("&")};var us=function(){return function(t,e){this.b=t,this.a=e}}();function cs(t){this.g=t||ls,t=mn.PerformanceNavigationTiming?0<(t=mn.performance.getEntriesByType("navigation")).length&&("hq"==t[0].nextHopProtocol||"h2"==t[0].nextHopProtocol):!!(mn.ia&&mn.ia.ya&&mn.ia.ya()&&mn.ia.ya().Lb),this.f=t?this.g:1,this.a=null,1<this.f&&(this.a=new Set),this.b=null,this.c=[]}var ls=10;function hs(t){return!!t.b||!!t.a&&t.a.size>=t.f}function fs(t){return t.b?1:t.a?t.a.size:0}function ds(t,e){return t.b?t.b==e:!!t.a&&t.a.has(e)}function ps(t,e){t.a?t.a.add(e):t.b=e}function gs(t,e){t.b&&t.b==e?t.b=null:t.a&&t.a.has(e)&&t.a.delete(e)}function ms(t){var e,n;if(null!=t.b)return t.c.concat(t.b.s);if(null!=t.a&&0!==t.a.size){var r=t.c;try{for(var i=fn(t.a.values()),s=i.next();!s.done;s=i.next())r=r.concat(s.value.s)}catch(o){e={error:o}}finally{try{s&&!s.done&&(n=i.return)&&n.call(i)}finally{if(e)throw e.error}}return r}return Nn(t.c)}function ys(){}function vs(){this.a=new ys}function bs(t,e,n){var r=n||"";try{Ri(t,function(t,n){var i=t;bn(t)&&(i=Rr(t)),e.push(r+n+"="+encodeURIComponent(i))})}catch(Im){throw e.push(r+"type="+encodeURIComponent("_badmap")),Im}}function _s(t,e,n,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch(s){}}cs.prototype.cancel=function(){var t,e;if(this.c=ms(this),this.b)this.b.cancel(),this.b=null;else if(this.a&&0!==this.a.size){try{for(var n=fn(this.a.values()),r=n.next();!r.done;r=n.next())r.value.cancel()}catch(i){t={error:i}}finally{try{r&&!r.done&&(e=n.return)&&e.call(n)}finally{if(t)throw t.error}}this.a.clear()}},ys.prototype.stringify=function(t){return mn.JSON.stringify(t,void 0)},ys.prototype.parse=function(t){return mn.JSON.parse(t,void 0)};var ws=mn.JSON.parse;function Es(t){Nr.call(this),this.headers=new Li,this.H=t||null,this.b=!1,this.s=this.a=null,this.B="",this.h=0,this.f="",this.g=this.A=this.l=this.u=!1,this.o=0,this.m=null,this.I=Os,this.D=this.F=!1}In(Es,Nr);var Os="",Ss=/^https?$/i,Cs=["POST","PUT"];function Ts(t){return"content-type"==t.toLowerCase()}function Is(t,e){t.b=!1,t.a&&(t.g=!0,t.a.abort(),t.g=!1),t.f=e,t.h=5,xs(t),js(t)}function xs(t){t.u||(t.u=!0,Pr(t,"complete"),Pr(t,"error"))}function As(t){if(t.b&&void 0!==gn&&(!t.s[1]||4!=Ns(t)||2!=t.W()))if(t.l&&4==Ns(t))Wr(t.za,0,t);else if(Pr(t,"readystatechange"),4==Ns(t)){t.b=!1;try{var e,n=t.W();t:switch(n){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var r=!0;break t;default:r=!1}if(!(e=r)){var i;if(i=0===n){var s=String(t.B).match(Vi)[1]||null;if(!s&&mn.self&&mn.self.location){var o=mn.self.location.protocol;s=o.substr(0,o.length-1)}i=!Ss.test(s?s.toLowerCase():"")}e=i}if(e)Pr(t,"complete"),Pr(t,"success");else{t.h=6;try{var a=2<Ns(t)?t.a.statusText:""}catch(n){a=""}t.f=a+" ["+t.W()+"]",xs(t)}}finally{js(t)}}}function js(t,e){if(t.a){ks(t);var n=t.a,r=t.s[0]?yn:null;t.a=null,t.s=null,e||Pr(t,"ready");try{n.onreadystatechange=r}catch(Im){}}}function ks(t){t.a&&t.D&&(t.a.ontimeout=null),t.m&&(mn.clearTimeout(t.m),t.m=null)}function Ns(t){return t.a?t.a.readyState:0}function Ps(t,e,n){t:{for(r in n){var r=!1;break t}r=!0}r||(n=function(t){var e="";return Un(t,function(t,n){e+=n,e+=":",e+=t,e+="\r\n"}),e}(n),"string"==typeof t?null!=n&&encodeURIComponent(String(n)):Gi(t,e,n))}function Ds(t,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[t]||e}function Rs(t){this.pa=0,this.g=[],this.c=new ei,this.ga=this.la=this.B=this.fa=this.a=this.na=this.A=this.V=this.i=this.O=this.l=null,this.Oa=this.R=0,this.La=Ds("failFast",!1,t),this.H=this.m=this.j=this.h=this.f=null,this.S=!0,this.I=this.oa=this.P=-1,this.T=this.o=this.u=0,this.Ha=Ds("baseRetryDelayMs",5e3,t),this.Ra=Ds("retryDelaySeedMs",1e4,t),this.Ma=Ds("forwardChannelMaxRetries",2,t),this.ma=Ds("forwardChannelRequestTimeoutMs",2e4,t),this.Na=t&&t.g||void 0,this.D=void 0,this.C=t&&t.supportsCrossDomainXhr||!1,this.J="",this.b=new cs(t&&t.concurrentRequestLimit),this.ka=new vs,this.da=t&&t.fastHandshake||!1,this.Ia=t&&t.b||!1,t&&t.f&&(this.c.a=!1),t&&t.forceLongPolling&&(this.S=!1),this.U=!this.da&&this.S&&t&&t.detectBufferingProxy||!1,this.ea=void 0,this.N=0,this.F=!1,this.s=null,(this.Ka=t&&t.c||!1)&&this.c.info("Opt-in to enable Chrome Origin Trials.")}function Ls(t){if(Fs(t),3==t.v){var e=t.R++,n=qi(t.B);Gi(n,"SID",t.J),Gi(n,"RID",e),Gi(n,"TYPE","terminate"),Hs(t,n),(e=new wi(t,t.c,e,void 0)).H=2,e.i=$i(qi(n)),n=!1,mn.navigator&&mn.navigator.sendBeacon&&(n=mn.navigator.sendBeacon(e.i.toString(),"")),!n&&mn.Image&&((new Image).src=e.i,n=!0),n||(e.a=to(e.g,null),e.a.ba(e.i)),e.u=Tn(),Ai(e)}Ys(t)}function Ms(t){t.a&&(Gs(t),t.a.cancel(),t.a=null)}function Fs(t){Ms(t),t.j&&(mn.clearTimeout(t.j),t.j=null),Ws(t),t.b.cancel(),t.h&&("number"==typeof t.h&&mn.clearTimeout(t.h),t.h=null)}function Vs(t,e){t.g.push(new us(t.Oa++,e)),3==t.v&&Us(t)}function Us(t){hs(t.b)||t.h||(t.h=!0,Hr(t.Ba,t),t.u=0)}function qs(t,e){var n;n=e?e.f:t.R++;var r=qi(t.B);Gi(r,"SID",t.J),Gi(r,"RID",n),Gi(r,"AID",t.P),Hs(t,r),t.i&&t.l&&Ps(r,t.i,t.l),n=new wi(t,t.c,n,t.u+1),null===t.i&&(n.B=t.l),e&&(t.g=e.s.concat(t.g)),e=zs(t,n,1e3),n.setTimeout(Math.round(.5*t.ma)+Math.round(.5*t.ma*Math.random())),ps(t.b,n),Ci(n,r,e)}function Hs(t,e){t.f&&Ri({},function(t,n){Gi(e,n,t)})}function zs(t,e,n){n=Math.min(t.g.length,n);var r=t.f?Sn(t.f.Ja,t.f,t):null;t:for(var i=t.g,s=-1;;){var o=["count="+n];-1==s?0<n?o.push("ofs="+(s=i[0].b)):s=0:o.push("ofs="+s);for(var a=!0,u=0;u<n;u++){var c=i[u].b,l=i[u].a;if(0>(c-=s))s=Math.max(0,i[u].b-100),a=!1;else try{bs(l,o,"req"+c+"_")}catch(Mo){r&&r(l)}}if(a){r=o.join("&");break t}}return t=t.g.splice(0,n),e.s=t,r}function Ks(t){t.a||t.j||(t.T=1,Hr(t.Aa,t),t.o=0)}function Bs(t){return!(t.a||t.j||3<=t.o||(t.T++,t.j=hi(Sn(t.Aa,t),Qs(t,t.o)),t.o++,0))}function Gs(t){null!=t.s&&(mn.clearTimeout(t.s),t.s=null)}function $s(t){t.a=new wi(t,t.c,"rpc",t.T),null===t.i&&(t.a.B=t.l),t.a.O=0;var e=qi(t.la);Gi(e,"RID","rpc"),Gi(e,"SID",t.J),Gi(e,"CI",t.H?"0":"1"),Gi(e,"AID",t.P),Hs(t,e),Gi(e,"TYPE","xmlhttp"),t.i&&t.l&&Ps(e,t.i,t.l),t.D&&t.a.setTimeout(t.D);var n=t.a;t=t.ga,n.H=1,n.i=$i(qi(e)),n.j=null,n.I=!0,Ti(n,t)}function Ws(t){null!=t.m&&(mn.clearTimeout(t.m),t.m=null)}function Js(t,e){var n=null;if(t.a==e){Ws(t),Gs(t),t.a=null;var r=2}else{if(!ds(t.b,e))return;n=e.s,gs(t.b,e),r=1}if(t.I=e.N,0!=t.v)if(e.b)if(1==r){n=e.j?e.j.length:0,e=Tn()-e.u;var i=t.u;Pr(r=si(),new li(r,n,e,i)),Us(t)}else Ks(t);else if(3==(i=e.h)||0==i&&0<t.I||!(1==r&&function(t,e){return!(fs(t.b)>=t.b.f-(t.h?1:0)||(t.h?(t.g=e.s.concat(t.g),0):1==t.v||2==t.v||t.u>=(t.La?0:t.Ma)||(t.h=hi(Sn(t.Ba,t,e),Qs(t,t.u)),t.u++,0)))}(t,e)||2==r&&Bs(t)))switch(n&&0<n.length&&(e=t.b,e.c=e.c.concat(n)),i){case 1:Zs(t,5);break;case 4:Zs(t,10);break;case 3:Zs(t,6);break;default:Zs(t,2)}}function Qs(t,e){var n=t.Ha+Math.floor(Math.random()*t.Ra);return t.f||(n*=2),n*e}function Zs(t,e){if(t.c.info("Error code "+e),2==e){var n=null;t.f&&(n=null);var r=Sn(t.Ya,t);n||(n=new Ui("//www.google.com/images/cleardot.gif"),mn.location&&"http"==mn.location.protocol||Hi(n,"https"),$i(n)),function(t,e){var n=new ei;if(mn.Image){var r=new Image;r.onload=Cn(_s,n,r,"TestLoadImage: loaded",!0,e),r.onerror=Cn(_s,n,r,"TestLoadImage: error",!1,e),r.onabort=Cn(_s,n,r,"TestLoadImage: abort",!1,e),r.ontimeout=Cn(_s,n,r,"TestLoadImage: timeout",!1,e),mn.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=t}else e(!1)}(n.toString(),r)}else ci(2);t.v=0,t.f&&t.f.ra(e),Ys(t),Fs(t)}function Ys(t){t.v=0,t.I=-1,t.f&&(0==ms(t.b).length&&0==t.g.length||(t.b.c.length=0,Nn(t.g),t.g.length=0),t.f.qa())}function Xs(t,e,n){var r=function(t){return t instanceof Ui?qi(t):new Ui(t,void 0)}(n);if(""!=r.c)e&&zi(r,e+"."+r.c),Ki(r,r.h);else{var i=mn.location;r=function(t,e,n,r){var i=new Ui(null,void 0);return t&&Hi(i,t),e&&zi(i,e),n&&Ki(i,n),r&&(i.g=r),i}(i.protocol,e?e+"."+i.hostname:i.hostname,+i.port,n)}return t.V&&Un(t.V,function(t,e){Gi(r,e,t)}),n=t.na,(e=t.A)&&n&&Gi(r,e,n),Gi(r,"VER",t.ha),Hs(t,r),r}function to(t,e){if(e&&!t.C)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new Es(t.Na)).F=t.C,e}function eo(){}function no(){if(Wn&&!(10<=Number(sr)))throw Error("Environmental error: no available transport.")}function ro(t,e){Nr.call(this),this.a=new Rs(e),this.o=t,this.b=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.a.l=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.a&&(t?t["X-WebChannel-Client-Profile"]=e.a:t={"X-WebChannel-Client-Profile":e.a}),this.a.O=t,(t=e&&e.httpHeadersOverwriteParam)&&!Pn(t)&&(this.a.i=t),this.m=e&&e.supportsCrossDomainXhr||!1,this.l=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!Pn(e)&&(this.a.A=e,null!==(t=this.b)&&e in t&&e in(t=this.b)&&delete t[e]),this.f=new oo(this)}function io(t){vi.call(this);var e=t.__sm__;if(e){t:{for(var n in e){t=n;break t}t=void 0}(this.c=t)?(t=this.c,this.data=null!==e&&t in e?e[t]:void 0):this.data=e}else this.data=t}function so(){bi.call(this),this.status=1}function oo(t){this.a=t}(dn=Es.prototype).ba=function(t,e,n,r){if(this.a)throw Error("[goog.net.XhrIo] Object is active with another request="+this.B+"; newUri="+t);e=e?e.toUpperCase():"GET",this.B=t,this.f="",this.h=0,this.u=!1,this.b=!0,this.a=new XMLHttpRequest,this.s=function(t){var e;return(e=t.a)||(e=t.a={}),e}(this.H?this.H:mi),this.a.onreadystatechange=Sn(this.za,this);try{this.A=!0,this.a.open(e,String(t),!0),this.A=!1}catch(s){return void Is(this,s)}t=n||"";var i=new Li(this.headers);r&&Ri(r,function(t,e){i.set(e,t)}),r=function(t){t:{for(var e=Ts,n=t.length,r="string"==typeof t?t.split(""):t,i=0;i<n;i++)if(i in r&&e.call(void 0,r[i],i,t)){e=i;break t}e=-1}return 0>e?null:"string"==typeof t?t.charAt(e):t[e]}(i.L()),n=mn.FormData&&t instanceof mn.FormData,!(0<=An(Cs,e))||r||n||i.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),i.forEach(function(t,e){this.a.setRequestHeader(e,t)},this),this.I&&(this.a.responseType=this.I),"withCredentials"in this.a&&this.a.withCredentials!==this.F&&(this.a.withCredentials=this.F);try{ks(this),0<this.o&&((this.D=function(t){return Wn&&ir(9)&&"number"==typeof t.timeout&&void 0!==t.ontimeout}(this.a))?(this.a.timeout=this.o,this.a.ontimeout=Sn(this.xa,this)):this.m=Wr(this.xa,this.o,this)),this.l=!0,this.a.send(t),this.l=!1}catch(s){Is(this,s)}},dn.xa=function(){void 0!==gn&&this.a&&(this.f="Timed out after "+this.o+"ms, aborting",this.h=8,Pr(this,"timeout"),this.abort(8))},dn.abort=function(t){this.a&&this.b&&(this.b=!1,this.g=!0,this.a.abort(),this.g=!1,this.h=t||7,Pr(this,"complete"),Pr(this,"abort"),js(this))},dn.G=function(){this.a&&(this.b&&(this.b=!1,this.g=!0,this.a.abort(),this.g=!1),js(this,!0)),Es.X.G.call(this)},dn.za=function(){this.j||(this.A||this.l||this.g?As(this):this.Ua())},dn.Ua=function(){As(this)},dn.W=function(){try{return 2<Ns(this)?this.a.status:-1}catch(Gn){return-1}},dn.$=function(){try{return this.a?this.a.responseText:""}catch(Gn){return""}},dn.Pa=function(t){if(this.a){var e=this.a.responseText;return t&&0==e.indexOf(t)&&(e=e.substring(t.length)),ws(e)}},dn.ua=function(){return this.h},dn.Qa=function(){return"string"==typeof this.f?this.f:String(this.f)},(dn=Rs.prototype).ha=8,dn.v=1,dn.Ba=function(t){if(this.h)if(this.h=null,1==this.v){if(!t){this.R=Math.floor(1e5*Math.random()),t=this.R++;var e,n=new wi(this,this.c,t,void 0),r=this.l;if(this.O&&(r?zn(r=qn(r),this.O):r=this.O),null===this.i&&(n.B=r),this.da)t:{for(var i=e=0;i<this.g.length;i++){var s=this.g[i];if(void 0===(s="__data__"in s.a&&"string"==typeof(s=s.a.__data__)?s.length:void 0))break;if(4096<(e+=s)){e=i;break t}if(4096===e||i===this.g.length-1){e=i+1;break t}}e=1e3}else e=1e3;e=zs(this,n,e),Gi(i=qi(this.B),"RID",t),Gi(i,"CVER",22),this.A&&Gi(i,"X-HTTP-Session-Id",this.A),Hs(this,i),this.i&&r&&Ps(i,this.i,r),ps(this.b,n),this.Ia&&Gi(i,"TYPE","init"),this.da?(Gi(i,"$req",e),Gi(i,"SID","null"),n.U=!0,Ci(n,i,null)):Ci(n,i,e),this.v=2}}else 3==this.v&&(t?qs(this,t):0==this.g.length||hs(this.b)||qs(this))},dn.Aa=function(){if(this.j=null,$s(this),this.U&&!(this.F||null==this.a||0>=this.N)){var t=2*this.N;this.c.info("BP detection timer enabled: "+t),this.s=hi(Sn(this.Ta,this),t)}},dn.Ta=function(){this.s&&(this.s=null,this.c.info("BP detection timeout reached."),this.c.info("Buffering proxy detected and switch to long-polling!"),this.H=!1,this.F=!0,ci(10),Ms(this),$s(this))},dn.Sa=function(){null!=this.m&&(this.m=null,Ms(this),Bs(this),ci(19))},dn.Ya=function(t){t?(this.c.info("Successfully pinged google.com"),ci(2)):(this.c.info("Failed to ping google.com"),ci(1))},(dn=eo.prototype).ta=function(){},dn.sa=function(){},dn.ra=function(){},dn.qa=function(){},dn.Ja=function(){},no.prototype.a=function(t,e){return new ro(t,e)},In(ro,Nr),ro.prototype.g=function(){this.a.f=this.f,this.m&&(this.a.C=!0);var t=this.a,e=this.o,n=this.b||void 0;ci(0),t.fa=e,t.V=n||{},t.H=t.S,t.B=Xs(t,null,t.fa),Us(t)},ro.prototype.close=function(){Ls(this.a)},ro.prototype.h=function(t){if("string"==typeof t){var e={};e.__data__=t,Vs(this.a,e)}else this.l?((e={}).__data__=Rr(t),Vs(this.a,e)):Vs(this.a,t)},ro.prototype.G=function(){this.a.f=null,delete this.f,Ls(this.a),delete this.a,ro.X.G.call(this)},In(io,vi),In(so,bi),In(oo,eo),oo.prototype.ta=function(){Pr(this.a,"a")},oo.prototype.sa=function(t){Pr(this.a,new io(t))},oo.prototype.ra=function(t){Pr(this.a,new so(t))},oo.prototype.qa=function(){Pr(this.a,"b")},no.prototype.createWebChannel=no.prototype.a,ro.prototype.send=ro.prototype.h,ro.prototype.open=ro.prototype.g,ro.prototype.close=ro.prototype.close,fi.NO_ERROR=0,fi.TIMEOUT=8,fi.HTTP_ERROR=6,di.COMPLETE="complete",gi.EventType=yi,yi.OPEN="a",yi.CLOSE="b",yi.ERROR="c",yi.MESSAGE="d",Nr.prototype.listen=Nr.prototype.va,Es.prototype.listenOnce=Es.prototype.wa,Es.prototype.getLastError=Es.prototype.Qa,Es.prototype.getLastErrorCode=Es.prototype.ua,Es.prototype.getStatus=Es.prototype.W,Es.prototype.getResponseJson=Es.prototype.Pa,Es.prototype.getResponseText=Es.prototype.$,Es.prototype.send=Es.prototype.ba;var ao=fi,uo=di,co=ri,lo=gi,ho=Es,fo=n("os0x"),po=new cn.b("@firebase/firestore");function go(){return po.logLevel}function mo(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(po.logLevel<=cn.a.DEBUG){var r=e.map(bo);po.debug.apply(po,Object(fo.g)(["Firestore (8.2.1): "+t],r))}}function yo(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(po.logLevel<=cn.a.ERROR){var r=e.map(bo);po.error.apply(po,Object(fo.g)(["Firestore (8.2.1): "+t],r))}}function vo(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(po.logLevel<=cn.a.WARN){var r=e.map(bo);po.warn.apply(po,Object(fo.g)(["Firestore (8.2.1): "+t],r))}}function bo(t){if("string"==typeof t)return t;try{return JSON.stringify(t)}catch(Im){return t}}function _o(t){void 0===t&&(t="Unexpected state");var e="FIRESTORE (8.2.1) INTERNAL ASSERTION FAILED: "+t;throw yo(e),new Error(e)}function wo(t,e){t||_o()}function Eo(t,e){return t}function Oo(t){var e="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(n);else for(var r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}var So=function(){function t(){}return t.t=function(){for(var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",e=Math.floor(256/t.length)*t.length,n="";n.length<20;)for(var r=Oo(40),i=0;i<r.length;++i)n.length<20&&r[i]<e&&(n+=t.charAt(r[i]%t.length));return n},t}();function Co(t,e){return t<e?-1:t>e?1:0}function To(t,e,n){return t.length===e.length&&t.every(function(t,r){return n(t,e[r])})}function Io(t){return t+"\0"}var xo=function(){function t(t){this.i=t}return t.fromBase64String=function(e){return new t(atob(e))},t.fromUint8Array=function(e){return new t(function(t){for(var e="",n=0;n<t.length;++n)e+=String.fromCharCode(t[n]);return e}(e))},t.prototype.toBase64=function(){return btoa(this.i)},t.prototype.toUint8Array=function(){return function(t){for(var e=new Uint8Array(t.length),n=0;n<t.length;n++)e[n]=t.charCodeAt(n);return e}(this.i)},t.prototype.o=function(){return 2*this.i.length},t.prototype.u=function(t){return Co(this.i,t.i)},t.prototype.isEqual=function(t){return this.i===t.i},t}();xo.h=new xo("");var Ao={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},jo=function(t){function e(e,n){var r=this;return(r=t.call(this,n)||this).code=e,r.message=n,r.name="FirebaseError",r.toString=function(){return r.name+": [code="+r.code+"]: "+r.message},r}return Object(fo.c)(e,t),e}(Error),ko=function(){function t(t){this.l=t}return t.fromBase64String=function(e){try{return new t(xo.fromBase64String(e))}catch(e){throw new jo(Ao.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+e)}},t.fromUint8Array=function(e){return new t(xo.fromUint8Array(e))},t.prototype.toBase64=function(){return this.l.toBase64()},t.prototype.toUint8Array=function(){return this.l.toUint8Array()},t.prototype.toString=function(){return"Bytes(base64: "+this.toBase64()+")"},t.prototype.isEqual=function(t){return this.l.isEqual(t.l)},t}(),No=function(t){this._=t};function Po(){if("undefined"==typeof Uint8Array)throw new jo(Ao.UNIMPLEMENTED,"Uint8Arrays are not available in this environment.")}function Do(){if("undefined"==typeof atob)throw new jo(Ao.UNIMPLEMENTED,"Blobs are unavailable in Firestore in this environment.")}var Ro=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(fo.c)(e,t),e.fromBase64String=function(t){return Do(),new e(ko.fromBase64String(t))},e.fromUint8Array=function(t){return Po(),new e(ko.fromUint8Array(t))},e.prototype.toBase64=function(){return Do(),this._.toBase64()},e.prototype.toUint8Array=function(){return Po(),this._.toUint8Array()},e.prototype.isEqual=function(t){return this._.isEqual(t._)},e.prototype.toString=function(){return"Blob(base64: "+this.toBase64()+")"},e}(No),Lo=function(t,e,n,r,i,s){this.T=t,this.persistenceKey=e,this.host=n,this.ssl=r,this.forceLongPolling=i,this.I=s},Mo=function(){function t(t,e){this.projectId=t,this.database=e||"(default)"}return Object.defineProperty(t.prototype,"m",{get:function(){return"(default)"===this.database},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(e){return e instanceof t&&e.projectId===this.projectId&&e.database===this.database},t}(),Fo=function(){function t(t){this.uid=t}return t.prototype.A=function(){return null!=this.uid},t.prototype.R=function(){return this.A()?"uid:"+this.uid:"anonymous-user"},t.prototype.isEqual=function(t){return t.uid===this.uid},t}();Fo.UNAUTHENTICATED=new Fo(null),Fo.P=new Fo("google-credentials-uid"),Fo.g=new Fo("first-party-uid");var Vo=function(t,e){this.user=e,this.type="OAuth",this.V={},this.V.Authorization="Bearer "+t},Uo=function(){function t(){this.p=null}return t.prototype.getToken=function(){return Promise.resolve(null)},t.prototype.v=function(){},t.prototype.S=function(t){this.p=t,t(Fo.UNAUTHENTICATED)},t.prototype.D=function(){this.p=null},t}(),qo=function(){function t(t){var e=this;this.C=null,this.currentUser=Fo.UNAUTHENTICATED,this.N=!1,this.F=0,this.p=null,this.forceRefresh=!1,this.C=function(){e.F++,e.currentUser=e.O(),e.N=!0,e.p&&e.p(e.currentUser)},this.F=0,this.auth=t.getImmediate({optional:!0}),this.auth?this.auth.addAuthTokenListener(this.C):(this.C(null),t.get().then(function(t){e.auth=t,e.C&&e.auth.addAuthTokenListener(e.C)},function(){}))}return t.prototype.getToken=function(){var t=this,e=this.F,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(function(n){return t.F!==e?(mo("FirebaseCredentialsProvider","getToken aborted due to token change."),t.getToken()):n?(wo("string"==typeof n.accessToken),new Vo(n.accessToken,t.currentUser)):null}):Promise.resolve(null)},t.prototype.v=function(){this.forceRefresh=!0},t.prototype.S=function(t){this.p=t,this.N&&t(this.currentUser)},t.prototype.D=function(){this.auth&&this.auth.removeAuthTokenListener(this.C),this.C=null,this.p=null},t.prototype.O=function(){var t=this.auth&&this.auth.getUid();return wo(null===t||"string"==typeof t),new Fo(t)},t}(),Ho=function(){function t(t,e){this.k=t,this.M=e,this.type="FirstParty",this.user=Fo.g}return Object.defineProperty(t.prototype,"V",{get:function(){var t={"X-Goog-AuthUser":this.M},e=this.k.auth.getAuthHeaderValueForFirstParty([]);return e&&(t.Authorization=e),t},enumerable:!1,configurable:!0}),t}(),zo=function(){function t(t,e){this.k=t,this.M=e}return t.prototype.getToken=function(){return Promise.resolve(new Ho(this.k,this.M))},t.prototype.S=function(t){t(Fo.g)},t.prototype.D=function(){},t.prototype.v=function(){},t}(),Ko=function(){function t(t,e){var n=this;this.previousValue=t,e&&(e.L=function(t){return n.$(t)},this.B=function(t){return e.q(t)})}return t.prototype.$=function(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue},t.prototype.next=function(){var t=++this.previousValue;return this.B&&this.B(t),t},t}();Ko.U=-1;var Bo=function(){function t(t,e){if(this.seconds=t,this.nanoseconds=e,e<0)throw new jo(Ao.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(e>=1e9)throw new jo(Ao.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(t<-62135596800)throw new jo(Ao.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new jo(Ao.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}return t.now=function(){return t.fromMillis(Date.now())},t.fromDate=function(e){return t.fromMillis(e.getTime())},t.fromMillis=function(e){var n=Math.floor(e/1e3);return new t(n,1e6*(e-1e3*n))},t.prototype.toDate=function(){return new Date(this.toMillis())},t.prototype.toMillis=function(){return 1e3*this.seconds+this.nanoseconds/1e6},t.prototype.K=function(t){return this.seconds===t.seconds?Co(this.nanoseconds,t.nanoseconds):Co(this.seconds,t.seconds)},t.prototype.isEqual=function(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds},t.prototype.toString=function(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"},t.prototype.toJSON=function(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}},t.prototype.valueOf=function(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")},t}(),Go=function(){function t(t){this.timestamp=t}return t.W=function(e){return new t(e)},t.min=function(){return new t(new Bo(0,0))},t.prototype.u=function(t){return this.timestamp.K(t.timestamp)},t.prototype.isEqual=function(t){return this.timestamp.isEqual(t.timestamp)},t.prototype.j=function(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3},t.prototype.toString=function(){return"SnapshotVersion("+this.timestamp.toString()+")"},t.prototype.G=function(){return this.timestamp},t}(),$o=function(){function t(t,e,n){void 0===e?e=0:e>t.length&&_o(),void 0===n?n=t.length-e:n>t.length-e&&_o(),this.segments=t,this.offset=e,this.H=n}return Object.defineProperty(t.prototype,"length",{get:function(){return this.H},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(e){return 0===t.J(this,e)},t.prototype.child=function(e){var n=this.segments.slice(this.offset,this.limit());return e instanceof t?e.forEach(function(t){n.push(t)}):n.push(e),this.Y(n)},t.prototype.limit=function(){return this.offset+this.length},t.prototype.X=function(t){return this.Y(this.segments,this.offset+(t=void 0===t?1:t),this.length-t)},t.prototype.Z=function(){return this.Y(this.segments,this.offset,this.length-1)},t.prototype.tt=function(){return this.segments[this.offset]},t.prototype.et=function(){return this.get(this.length-1)},t.prototype.get=function(t){return this.segments[this.offset+t]},t.prototype.nt=function(){return 0===this.length},t.prototype.st=function(t){if(t.length<this.length)return!1;for(var e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0},t.prototype.it=function(t){if(this.length+1!==t.length)return!1;for(var e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0},t.prototype.forEach=function(t){for(var e=this.offset,n=this.limit();e<n;e++)t(this.segments[e])},t.prototype.rt=function(){return this.segments.slice(this.offset,this.limit())},t.J=function(t,e){for(var n=Math.min(t.length,e.length),r=0;r<n;r++){var i=t.get(r),s=e.get(r);if(i<s)return-1;if(i>s)return 1}return t.length<e.length?-1:t.length>e.length?1:0},t}(),Wo=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(fo.c)(e,t),e.prototype.Y=function(t,n,r){return new e(t,n,r)},e.prototype.ot=function(){return this.rt().join("/")},e.prototype.toString=function(){return this.ot()},e.ct=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];for(var r=[],i=0,s=t;i<s.length;i++){var o=s[i];if(o.indexOf("//")>=0)throw new jo(Ao.INVALID_ARGUMENT,"Invalid segment ("+o+"). Paths must not contain // in them.");r.push.apply(r,o.split("/").filter(function(t){return t.length>0}))}return new e(r)},e.at=function(){return new e([])},e}($o),Jo=/^[_a-zA-Z][_a-zA-Z0-9]*$/,Qo=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(fo.c)(e,t),e.prototype.Y=function(t,n,r){return new e(t,n,r)},e.ut=function(t){return Jo.test(t)},e.prototype.ot=function(){return this.rt().map(function(t){return t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),e.ut(t)||(t="`"+t+"`"),t}).join(".")},e.prototype.toString=function(){return this.ot()},e.prototype.ht=function(){return 1===this.length&&"__name__"===this.get(0)},e.lt=function(){return new e(["__name__"])},e._t=function(t){for(var n=[],r="",i=0,s=function(){if(0===r.length)throw new jo(Ao.INVALID_ARGUMENT,"Invalid field path ("+t+"). Paths must not be empty, begin with '.', end with '.', or contain '..'");n.push(r),r=""},o=!1;i<t.length;){var a=t[i];if("\\"===a){if(i+1===t.length)throw new jo(Ao.INVALID_ARGUMENT,"Path has trailing escape character: "+t);var u=t[i+1];if("\\"!==u&&"."!==u&&"`"!==u)throw new jo(Ao.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);r+=u,i+=2}else"`"===a?(o=!o,i++):"."!==a||o?(r+=a,i++):(s(),i++)}if(s(),o)throw new jo(Ao.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new e(n)},e.at=function(){return new e([])},e}($o),Zo=function(){function t(t){this.path=t}return t.ft=function(e){return new t(Wo.ct(e))},t.dt=function(e){return new t(Wo.ct(e).X(5))},t.prototype.wt=function(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t},t.prototype.isEqual=function(t){return null!==t&&0===Wo.J(this.path,t.path)},t.prototype.toString=function(){return this.path.toString()},t.J=function(t,e){return Wo.J(t.path,e.path)},t.Et=function(t){return t.length%2==0},t.Tt=function(e){return new t(new Wo(e.slice()))},t}();function Yo(t){var e=0;for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Xo(t,e){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function ta(t){for(var e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}var ea=function(){function t(t){this.fields=t,t.sort(Qo.J)}return t.prototype.It=function(t){for(var e=0,n=this.fields;e<n.length;e++)if(n[e].st(t))return!0;return!1},t.prototype.isEqual=function(t){return To(this.fields,t.fields,function(t,e){return t.isEqual(e)})},t}(),na=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ra(t){if(wo(!!t),"string"==typeof t){var e=0,n=na.exec(t);if(wo(!!n),n[1]){var r=n[1];r=(r+"000000000").substr(0,9),e=Number(r)}var i=new Date(t);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:ia(t.seconds),nanos:ia(t.nanos)}}function ia(t){return"number"==typeof t?t:"string"==typeof t?Number(t):0}function sa(t){return"string"==typeof t?xo.fromBase64String(t):xo.fromUint8Array(t)}function oa(t){var e,n;return"server_timestamp"===(null===(n=((null===(e=null==t?void 0:t.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function aa(t){var e=t.mapValue.fields.__previous_value__;return oa(e)?aa(e):e}function ua(t){var e=ra(t.mapValue.fields.__local_write_time__.timestampValue);return new Bo(e.seconds,e.nanos)}function ca(t){return null==t}function la(t){return 0===t&&1/t==-1/0}function ha(t){return"number"==typeof t&&Number.isInteger(t)&&!la(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}function fa(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?oa(t)?4:10:_o()}function da(t,e){var n=fa(t);if(n!==fa(e))return!1;switch(n){case 0:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return ua(t).isEqual(ua(e));case 3:return function(t,e){if("string"==typeof t.timestampValue&&"string"==typeof e.timestampValue&&t.timestampValue.length===e.timestampValue.length)return t.timestampValue===e.timestampValue;var n=ra(t.timestampValue),r=ra(e.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(t,e){return sa(t.bytesValue).isEqual(sa(e.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(t,e){return ia(t.geoPointValue.latitude)===ia(e.geoPointValue.latitude)&&ia(t.geoPointValue.longitude)===ia(e.geoPointValue.longitude)}(t,e);case 2:return function(t,e){if("integerValue"in t&&"integerValue"in e)return ia(t.integerValue)===ia(e.integerValue);if("doubleValue"in t&&"doubleValue"in e){var n=ia(t.doubleValue),r=ia(e.doubleValue);return n===r?la(n)===la(r):isNaN(n)&&isNaN(r)}return!1}(t,e);case 9:return To(t.arrayValue.values||[],e.arrayValue.values||[],da);case 10:return function(t,e){var n=t.mapValue.fields||{},r=e.mapValue.fields||{};if(Yo(n)!==Yo(r))return!1;for(var i in n)if(n.hasOwnProperty(i)&&(void 0===r[i]||!da(n[i],r[i])))return!1;return!0}(t,e);default:return _o()}}function pa(t,e){return void 0!==(t.values||[]).find(function(t){return da(t,e)})}function ga(t,e){var n=fa(t),r=fa(e);if(n!==r)return Co(n,r);switch(n){case 0:return 0;case 1:return Co(t.booleanValue,e.booleanValue);case 2:return function(t,e){var n=ia(t.integerValue||t.doubleValue),r=ia(e.integerValue||e.doubleValue);return n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1}(t,e);case 3:return ma(t.timestampValue,e.timestampValue);case 4:return ma(ua(t),ua(e));case 5:return Co(t.stringValue,e.stringValue);case 6:return function(t,e){var n=sa(t),r=sa(e);return n.u(r)}(t.bytesValue,e.bytesValue);case 7:return function(t,e){for(var n=t.split("/"),r=e.split("/"),i=0;i<n.length&&i<r.length;i++){var s=Co(n[i],r[i]);if(0!==s)return s}return Co(n.length,r.length)}(t.referenceValue,e.referenceValue);case 8:return function(t,e){var n=Co(ia(t.latitude),ia(e.latitude));return 0!==n?n:Co(ia(t.longitude),ia(e.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(t,e){for(var n=t.values||[],r=e.values||[],i=0;i<n.length&&i<r.length;++i){var s=ga(n[i],r[i]);if(s)return s}return Co(n.length,r.length)}(t.arrayValue,e.arrayValue);case 10:return function(t,e){var n=t.fields||{},r=Object.keys(n),i=e.fields||{},s=Object.keys(i);r.sort(),s.sort();for(var o=0;o<r.length&&o<s.length;++o){var a=Co(r[o],s[o]);if(0!==a)return a;var u=ga(n[r[o]],i[s[o]]);if(0!==u)return u}return Co(r.length,s.length)}(t.mapValue,e.mapValue);default:throw _o()}}function ma(t,e){if("string"==typeof t&&"string"==typeof e&&t.length===e.length)return Co(t,e);var n=ra(t),r=ra(e),i=Co(n.seconds,r.seconds);return 0!==i?i:Co(n.nanos,r.nanos)}function ya(t){return va(t)}function va(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(t){var e=ra(t);return"time("+e.seconds+","+e.nanos+")"}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?sa(t.bytesValue).toBase64():"referenceValue"in t?Zo.dt(t.referenceValue).toString():"geoPointValue"in t?"geo("+(e=t.geoPointValue).latitude+","+e.longitude+")":"arrayValue"in t?function(t){for(var e="[",n=!0,r=0,i=t.values||[];r<i.length;r++)n?n=!1:e+=",",e+=va(i[r]);return e+"]"}(t.arrayValue):"mapValue"in t?function(t){for(var e="{",n=!0,r=0,i=Object.keys(t.fields||{}).sort();r<i.length;r++){var s=i[r];n?n=!1:e+=",",e+=s+":"+va(t.fields[s])}return e+"}"}(t.mapValue):_o();var e}function ba(t,e){return{referenceValue:"projects/"+t.projectId+"/databases/"+t.database+"/documents/"+e.path.ot()}}function _a(t){return!!t&&"integerValue"in t}function wa(t){return!!t&&"arrayValue"in t}function Ea(t){return!!t&&"nullValue"in t}function Oa(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Sa(t){return!!t&&"mapValue"in t}var Ca=function(){function t(t){this.proto=t}return t.empty=function(){return new t({mapValue:{}})},t.prototype.field=function(t){if(t.nt())return this.proto;for(var e=this.proto,n=0;n<t.length-1;++n){if(!e.mapValue.fields)return null;if(!Sa(e=e.mapValue.fields[t.get(n)]))return null}return(e=(e.mapValue.fields||{})[t.et()])||null},t.prototype.isEqual=function(t){return da(this.proto,t.proto)},t}(),Ta=function(){function t(t){void 0===t&&(t=Ca.empty()),this.At=t,this.Rt=new Map}return t.prototype.set=function(t,e){return this.Pt(t,e),this},t.prototype.delete=function(t){return this.Pt(t,null),this},t.prototype.Pt=function(t,e){for(var n=this.Rt,r=0;r<t.length-1;++r){var i=t.get(r),s=n.get(i);s instanceof Map?n=s:s&&10===fa(s)?(s=new Map(Object.entries(s.mapValue.fields||{})),n.set(i,s),n=s):(s=new Map,n.set(i,s),n=s)}n.set(t.et(),e)},t.prototype.yt=function(){var t=this.gt(Qo.at(),this.Rt);return null!=t?new Ca(t):this.At},t.prototype.gt=function(t,e){var n=this,r=!1,i=this.At.field(t),s=Sa(i)?Object.assign({},i.mapValue.fields):{};return e.forEach(function(e,i){if(e instanceof Map){var o=n.gt(t.child(i),e);null!=o&&(s[i]=o,r=!0)}else null!==e?(s[i]=e,r=!0):s.hasOwnProperty(i)&&(delete s[i],r=!0)}),r?{mapValue:{fields:s}}:null},t}();function Ia(t){var e=[];return Xo(t.fields||{},function(t,n){var r=new Qo([t]);if(Sa(n)){var i=Ia(n.mapValue).fields;if(0===i.length)e.push(r);else for(var s=0,o=i;s<o.length;s++)e.push(r.child(o[s]))}else e.push(r)}),new ea(e)}var xa=function(t,e){this.key=t,this.version=e},Aa=function(t){function e(e,n,r,i){var s=this;return(s=t.call(this,e,n)||this).Vt=r,s.bt=!!i.bt,s.hasCommittedMutations=!!i.hasCommittedMutations,s}return Object(fo.c)(e,t),e.prototype.field=function(t){return this.Vt.field(t)},e.prototype.data=function(){return this.Vt},e.prototype.vt=function(){return this.Vt.proto},e.prototype.isEqual=function(t){return t instanceof e&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.bt===t.bt&&this.hasCommittedMutations===t.hasCommittedMutations&&this.Vt.isEqual(t.Vt)},e.prototype.toString=function(){return"Document("+this.key+", "+this.version+", "+this.Vt.toString()+", {hasLocalMutations: "+this.bt+"}), {hasCommittedMutations: "+this.hasCommittedMutations+"})"},Object.defineProperty(e.prototype,"hasPendingWrites",{get:function(){return this.bt||this.hasCommittedMutations},enumerable:!1,configurable:!0}),e}(xa),ja=function(t){function e(e,n,r){var i=this;return(i=t.call(this,e,n)||this).hasCommittedMutations=!(!r||!r.hasCommittedMutations),i}return Object(fo.c)(e,t),e.prototype.toString=function(){return"NoDocument("+this.key+", "+this.version+")"},Object.defineProperty(e.prototype,"hasPendingWrites",{get:function(){return this.hasCommittedMutations},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(t){return t instanceof e&&t.hasCommittedMutations===this.hasCommittedMutations&&t.version.isEqual(this.version)&&t.key.isEqual(this.key)},e}(xa),ka=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(fo.c)(e,t),e.prototype.toString=function(){return"UnknownDocument("+this.key+", "+this.version+")"},Object.defineProperty(e.prototype,"hasPendingWrites",{get:function(){return!0},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(t){return t instanceof e&&t.version.isEqual(this.version)&&t.key.isEqual(this.key)},e}(xa),Na=function(t,e,n,r,i,s,o){void 0===e&&(e=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===s&&(s=null),void 0===o&&(o=null),this.path=t,this.collectionGroup=e,this.orderBy=n,this.filters=r,this.limit=i,this.startAt=s,this.endAt=o,this.St=null};function Pa(t,e,n,r,i,s,o){return void 0===e&&(e=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===s&&(s=null),void 0===o&&(o=null),new Na(t,e,n,r,i,s,o)}function Da(t){var e=Eo(t);if(null===e.St){var n=e.path.ot();null!==e.collectionGroup&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(function(t){return function(t){return t.field.ot()+t.op.toString()+ya(t.value)}(t)}).join(","),n+="|ob:",n+=e.orderBy.map(function(t){return function(t){return t.field.ot()+t.dir}(t)}).join(","),ca(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=$a(e.startAt)),e.endAt&&(n+="|ub:",n+=$a(e.endAt)),e.St=n}return e.St}function Ra(t,e){if(t.limit!==e.limit)return!1;if(t.orderBy.length!==e.orderBy.length)return!1;for(var n=0;n<t.orderBy.length;n++)if(!Ja(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(var r=0;r<t.filters.length;r++)if((i=t.filters[r]).op!==(s=e.filters[r]).op||!i.field.isEqual(s.field)||!da(i.value,s.value))return!1;var i,s;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!Za(t.startAt,e.startAt)&&Za(t.endAt,e.endAt)}function La(t){return Zo.Et(t.path)&&null===t.collectionGroup&&0===t.filters.length}var Ma=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).field=e,i.op=n,i.value=r,i}return Object(fo.c)(e,t),e.create=function(t,n,r){return t.ht()?"in"===n||"not-in"===n?this.Dt(t,n,r):new Fa(t,n,r):"array-contains"===n?new Ha(t,r):"in"===n?new za(t,r):"not-in"===n?new Ka(t,r):"array-contains-any"===n?new Ba(t,r):new e(t,n,r)},e.Dt=function(t,e,n){return"in"===e?new Va(t,n):new Ua(t,n)},e.prototype.matches=function(t){var e=t.field(this.field);return"!="===this.op?null!==e&&this.Ct(ga(e,this.value)):null!==e&&fa(this.value)===fa(e)&&this.Ct(ga(e,this.value))},e.prototype.Ct=function(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return 0===t;case"!=":return 0!==t;case">":return t>0;case">=":return t>=0;default:return _o()}},e.prototype.xt=function(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0},e}(function(){}),Fa=function(t){function e(e,n,r){var i=this;return(i=t.call(this,e,n,r)||this).key=Zo.dt(r.referenceValue),i}return Object(fo.c)(e,t),e.prototype.matches=function(t){var e=Zo.J(t.key,this.key);return this.Ct(e)},e}(Ma),Va=function(t){function e(e,n){var r=this;return(r=t.call(this,e,"in",n)||this).keys=qa(0,n),r}return Object(fo.c)(e,t),e.prototype.matches=function(t){return this.keys.some(function(e){return e.isEqual(t.key)})},e}(Ma),Ua=function(t){function e(e,n){var r=this;return(r=t.call(this,e,"not-in",n)||this).keys=qa(0,n),r}return Object(fo.c)(e,t),e.prototype.matches=function(t){return!this.keys.some(function(e){return e.isEqual(t.key)})},e}(Ma);function qa(t,e){var n;return((null===(n=e.arrayValue)||void 0===n?void 0:n.values)||[]).map(function(t){return Zo.dt(t.referenceValue)})}var Ha=function(t){function e(e,n){return t.call(this,e,"array-contains",n)||this}return Object(fo.c)(e,t),e.prototype.matches=function(t){var e=t.field(this.field);return wa(e)&&pa(e.arrayValue,this.value)},e}(Ma),za=function(t){function e(e,n){return t.call(this,e,"in",n)||this}return Object(fo.c)(e,t),e.prototype.matches=function(t){var e=t.field(this.field);return null!==e&&pa(this.value.arrayValue,e)},e}(Ma),Ka=function(t){function e(e,n){return t.call(this,e,"not-in",n)||this}return Object(fo.c)(e,t),e.prototype.matches=function(t){if(pa(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;var e=t.field(this.field);return null!==e&&!pa(this.value.arrayValue,e)},e}(Ma),Ba=function(t){function e(e,n){return t.call(this,e,"array-contains-any",n)||this}return Object(fo.c)(e,t),e.prototype.matches=function(t){var e=this,n=t.field(this.field);return!(!wa(n)||!n.arrayValue.values)&&n.arrayValue.values.some(function(t){return pa(e.value.arrayValue,t)})},e}(Ma),Ga=function(t,e){this.position=t,this.before=e};function $a(t){return(t.before?"b":"a")+":"+t.position.map(function(t){return ya(t)}).join(",")}var Wa=function(t,e){void 0===e&&(e="asc"),this.field=t,this.dir=e};function Ja(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}function Qa(t,e,n){for(var r=0,i=0;i<t.position.length;i++){var s=e[i],o=t.position[i];if(r=s.field.ht()?Zo.J(Zo.dt(o.referenceValue),n.key):ga(o,n.field(s.field)),"desc"===s.dir&&(r*=-1),0!==r)break}return t.before?r<=0:r<0}function Za(t,e){if(null===t)return null===e;if(null===e)return!1;if(t.before!==e.before||t.position.length!==e.position.length)return!1;for(var n=0;n<t.position.length;n++)if(!da(t.position[n],e.position[n]))return!1;return!0}var Ya=function(t,e,n,r,i,s,o,a){void 0===e&&(e=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===s&&(s="F"),void 0===o&&(o=null),void 0===a&&(a=null),this.path=t,this.collectionGroup=e,this.Nt=n,this.filters=r,this.limit=i,this.limitType=s,this.startAt=o,this.endAt=a,this.Ft=null,this.Ot=null};function Xa(t,e,n,r,i,s,o,a){return new Ya(t,e,n,r,i,s,o,a)}function tu(t){return new Ya(t)}function eu(t){return!ca(t.limit)&&"F"===t.limitType}function nu(t){return!ca(t.limit)&&"L"===t.limitType}function ru(t){return t.Nt.length>0?t.Nt[0].field:null}function iu(t){for(var e=0,n=t.filters;e<n.length;e++){var r=n[e];if(r.xt())return r.field}return null}function su(t){return null!==t.collectionGroup}function ou(t){var e=Eo(t);if(null===e.Ft){e.Ft=[];var n=iu(e),r=ru(e);if(null!==n&&null===r)n.ht()||e.Ft.push(new Wa(n)),e.Ft.push(new Wa(Qo.lt(),"asc"));else{for(var i=!1,s=0,o=e.Nt;s<o.length;s++){var a=o[s];e.Ft.push(a),a.field.ht()&&(i=!0)}if(!i){var u=e.Nt.length>0?e.Nt[e.Nt.length-1].dir:"asc";e.Ft.push(new Wa(Qo.lt(),u))}}}return e.Ft}function au(t){var e=Eo(t);if(!e.Ot)if("F"===e.limitType)e.Ot=Pa(e.path,e.collectionGroup,ou(e),e.filters,e.limit,e.startAt,e.endAt);else{for(var n=[],r=0,i=ou(e);r<i.length;r++){var s=i[r];n.push(new Wa(s.field,"desc"===s.dir?"asc":"desc"))}var o=e.endAt?new Ga(e.endAt.position,!e.endAt.before):null,a=e.startAt?new Ga(e.startAt.position,!e.startAt.before):null;e.Ot=Pa(e.path,e.collectionGroup,n,e.filters,e.limit,o,a)}return e.Ot}function uu(t,e,n){return new Ya(t.path,t.collectionGroup,t.Nt.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function cu(t,e){return Ra(au(t),au(e))&&t.limitType===e.limitType}function lu(t){return Da(au(t))+"|lt:"+t.limitType}function hu(t){return"Query(target="+function(t){var e=t.path.ot();return null!==t.collectionGroup&&(e+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(e+=", filters: ["+t.filters.map(function(t){return(e=t).field.ot()+" "+e.op+" "+ya(e.value);var e}).join(", ")+"]"),ca(t.limit)||(e+=", limit: "+t.limit),t.orderBy.length>0&&(e+=", orderBy: ["+t.orderBy.map(function(t){return function(t){return t.field.ot()+" ("+t.dir+")"}(t)}).join(", ")+"]"),t.startAt&&(e+=", startAt: "+$a(t.startAt)),t.endAt&&(e+=", endAt: "+$a(t.endAt)),"Target("+e+")"}(au(t))+"; limitType="+t.limitType+")"}function fu(t,e){return function(t,e){var n=e.key.path;return null!==t.collectionGroup?e.key.wt(t.collectionGroup)&&t.path.st(n):Zo.Et(t.path)?t.path.isEqual(n):t.path.it(n)}(t,e)&&function(t,e){for(var n=0,r=t.Nt;n<r.length;n++){var i=r[n];if(!i.field.ht()&&null===e.field(i.field))return!1}return!0}(t,e)&&function(t,e){for(var n=0,r=t.filters;n<r.length;n++)if(!r[n].matches(e))return!1;return!0}(t,e)&&function(t,e){return!(t.startAt&&!Qa(t.startAt,ou(t),e)||t.endAt&&Qa(t.endAt,ou(t),e))}(t,e)}function du(t){return function(e,n){for(var r=!1,i=0,s=ou(t);i<s.length;i++){var o=s[i],a=pu(o,e,n);if(0!==a)return a;r=r||o.field.ht()}return 0}}function pu(t,e,n){var r=t.field.ht()?Zo.J(e.key,n.key):function(t,e,n){var r=e.field(t),i=n.field(t);return null!==r&&null!==i?ga(r,i):_o()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return _o()}}var gu=function(){function t(t,e,n,r,i,s,o){void 0===i&&(i=Go.min()),void 0===s&&(s=Go.min()),void 0===o&&(o=xo.h),this.target=t,this.targetId=e,this.kt=n,this.sequenceNumber=r,this.Mt=i,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=o}return t.prototype.Lt=function(e){return new t(this.target,this.targetId,this.kt,e,this.Mt,this.lastLimboFreeSnapshotVersion,this.resumeToken)},t.prototype.$t=function(e,n){return new t(this.target,this.targetId,this.kt,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e)},t.prototype.Bt=function(e){return new t(this.target,this.targetId,this.kt,this.sequenceNumber,this.Mt,e,this.resumeToken)},t}();function mu(t,e){if(t.qt){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:la(e)?"-0":e}}function yu(t){return{integerValue:""+t}}function vu(t,e){return ha(e)?yu(e):mu(t,e)}var bu=function(){this.Ut=void 0};function _u(t,e,n){return t instanceof Ou?function(t,e){var n={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:t.seconds,nanos:t.nanoseconds}}}};return e&&(n.fields.__previous_value__=e),{mapValue:n}}(n,e):t instanceof Su?Cu(t,e):t instanceof Tu?Iu(t,e):function(t,e){var n=Eu(t,e),r=Au(n)+Au(t.Qt);return _a(n)&&_a(t.Qt)?yu(r):mu(t.Kt,r)}(t,e)}function wu(t,e,n){return t instanceof Su?Cu(t,e):t instanceof Tu?Iu(t,e):n}function Eu(t,e){return t instanceof xu?_a(n=e)||function(t){return!!t&&"doubleValue"in t}(n)?e:{integerValue:0}:null;var n}var Ou=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(fo.c)(e,t),e}(bu),Su=function(t){function e(e){var n=this;return(n=t.call(this)||this).elements=e,n}return Object(fo.c)(e,t),e}(bu);function Cu(t,e){for(var n=ju(e),r=function(t){n.some(function(e){return da(e,t)})||n.push(t)},i=0,s=t.elements;i<s.length;i++)r(s[i]);return{arrayValue:{values:n}}}var Tu=function(t){function e(e){var n=this;return(n=t.call(this)||this).elements=e,n}return Object(fo.c)(e,t),e}(bu);function Iu(t,e){for(var n=ju(e),r=function(t){n=n.filter(function(e){return!da(e,t)})},i=0,s=t.elements;i<s.length;i++)r(s[i]);return{arrayValue:{values:n}}}var xu=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).Kt=e,r.Qt=n,r}return Object(fo.c)(e,t),e}(bu);function Au(t){return ia(t.integerValue||t.doubleValue)}function ju(t){return wa(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}var ku=function(t,e){this.field=t,this.transform=e},Nu=function(t,e){this.version=t,this.transformResults=e},Pu=function(){function t(t,e){this.updateTime=t,this.exists=e}return t.Wt=function(){return new t},t.exists=function(e){return new t(void 0,e)},t.updateTime=function(e){return new t(e)},Object.defineProperty(t.prototype,"jt",{get:function(){return void 0===this.updateTime&&void 0===this.exists},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)},t}();function Du(t,e){return void 0!==t.updateTime?e instanceof Aa&&e.version.isEqual(t.updateTime):void 0===t.exists||t.exists===e instanceof Aa}var Ru=function(){};function Lu(t,e,n){return t instanceof qu?function(t,e,n){var r=t.value;if(n.transformResults){var i=Ku(t.fieldTransforms,e,n.transformResults);r=Gu(t.fieldTransforms,r,i)}return new Aa(t.key,n.version,r,{hasCommittedMutations:!0})}(t,e,n):t instanceof Hu?function(t,e,n){if(!Du(t.Gt,e))return new ka(t.key,n.version);var r=zu(t,e,n.transformResults?Ku(t.fieldTransforms,e,n.transformResults):[]);return new Aa(t.key,n.version,r,{hasCommittedMutations:!0})}(t,e,n):function(t,e,n){return new ja(t.key,n.version,{hasCommittedMutations:!0})}(t,0,n)}function Mu(t,e,n,r){return t instanceof qu?function(t,e,n,r){if(!Du(t.Gt,e))return e;var i=t.value;if(t.fieldTransforms){var s=Bu(t.fieldTransforms,n,e,r);i=Gu(t.fieldTransforms,i,s)}var o=Uu(e);return new Aa(t.key,o,i,{bt:!0})}(t,e,r,n):t instanceof Hu?function(t,e,n,r){if(!Du(t.Gt,e))return e;var i=Uu(e),s=zu(t,e,Bu(t.fieldTransforms,n,e,r));return new Aa(t.key,i,s,{bt:!0})}(t,e,r,n):function(t,e){return Du(t.Gt,e)?new ja(t.key,Go.min()):e}(t,e)}function Fu(t,e){return void 0!==t.fieldTransforms?function(t,e){for(var n=null,r=0,i=t;r<i.length;r++){var s=i[r],o=e instanceof Aa?e.field(s.field):void 0,a=Eu(s.transform,o||null);null!=a&&(n=null==n?(new Ta).set(s.field,a):n.set(s.field,a))}return n?n.yt():null}(t.fieldTransforms,e):null}function Vu(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.Gt.isEqual(e.Gt)&&!!function(t,e){return void 0===t&&void 0===e||!(!t||!e)&&To(t,e,function(t,e){return function(t,e){return t.field.isEqual(e.field)&&function(t,e){return t instanceof Su&&e instanceof Su||t instanceof Tu&&e instanceof Tu?To(t.elements,e.elements,da):t instanceof xu&&e instanceof xu?da(t.Qt,e.Qt):t instanceof Ou&&e instanceof Ou}(t.transform,e.transform)}(t,e)})}(t.fieldTransforms,e.fieldTransforms)&&(0===t.type?t.value.isEqual(e.value):1!==t.type||t.data.isEqual(e.data)&&t.zt.isEqual(e.zt))}function Uu(t){return t instanceof Aa?t.version:Go.min()}var qu=function(t){function e(e,n,r,i){void 0===i&&(i=[]);var s=this;return(s=t.call(this)||this).key=e,s.value=n,s.Gt=r,s.fieldTransforms=i,s.type=0,s}return Object(fo.c)(e,t),e}(Ru),Hu=function(t){function e(e,n,r,i,s){void 0===s&&(s=[]);var o=this;return(o=t.call(this)||this).key=e,o.data=n,o.zt=r,o.Gt=i,o.fieldTransforms=s,o.type=1,o}return Object(fo.c)(e,t),e}(Ru);function zu(t,e,n){var r;return r=function(t,e){var n=new Ta(e);return t.zt.fields.forEach(function(e){if(!e.nt()){var r=t.data.field(e);null!==r?n.set(e,r):n.delete(e)}}),n.yt()}(t,r=e instanceof Aa?e.data():Ca.empty()),Gu(t.fieldTransforms,r,n)}function Ku(t,e,n){var r=[];wo(t.length===n.length);for(var i=0;i<n.length;i++){var s=t[i],o=s.transform,a=null;e instanceof Aa&&(a=e.field(s.field)),r.push(wu(o,a,n[i]))}return r}function Bu(t,e,n,r){for(var i=[],s=0,o=t;s<o.length;s++){var a=o[s],u=a.transform,c=null;n instanceof Aa&&(c=n.field(a.field)),null===c&&r instanceof Aa&&(c=r.field(a.field)),i.push(_u(u,c,e))}return i}function Gu(t,e,n){for(var r=new Ta(e),i=0;i<t.length;i++)r.set(t[i].field,n[i]);return r.yt()}var $u,Wu,Ju=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).key=e,r.Gt=n,r.type=2,r.fieldTransforms=[],r}return Object(fo.c)(e,t),e}(Ru),Qu=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).key=e,r.Gt=n,r.type=3,r.fieldTransforms=[],r}return Object(fo.c)(e,t),e}(Ru),Zu=function(t){this.count=t};function Yu(t){switch(t){case Ao.OK:return _o();case Ao.CANCELLED:case Ao.UNKNOWN:case Ao.DEADLINE_EXCEEDED:case Ao.RESOURCE_EXHAUSTED:case Ao.INTERNAL:case Ao.UNAVAILABLE:case Ao.UNAUTHENTICATED:return!1;case Ao.INVALID_ARGUMENT:case Ao.NOT_FOUND:case Ao.ALREADY_EXISTS:case Ao.PERMISSION_DENIED:case Ao.FAILED_PRECONDITION:case Ao.ABORTED:case Ao.OUT_OF_RANGE:case Ao.UNIMPLEMENTED:case Ao.DATA_LOSS:return!0;default:return _o()}}function Xu(t){if(void 0===t)return yo("GRPC error has no .code"),Ao.UNKNOWN;switch(t){case $u.OK:return Ao.OK;case $u.CANCELLED:return Ao.CANCELLED;case $u.UNKNOWN:return Ao.UNKNOWN;case $u.DEADLINE_EXCEEDED:return Ao.DEADLINE_EXCEEDED;case $u.RESOURCE_EXHAUSTED:return Ao.RESOURCE_EXHAUSTED;case $u.INTERNAL:return Ao.INTERNAL;case $u.UNAVAILABLE:return Ao.UNAVAILABLE;case $u.UNAUTHENTICATED:return Ao.UNAUTHENTICATED;case $u.INVALID_ARGUMENT:return Ao.INVALID_ARGUMENT;case $u.NOT_FOUND:return Ao.NOT_FOUND;case $u.ALREADY_EXISTS:return Ao.ALREADY_EXISTS;case $u.PERMISSION_DENIED:return Ao.PERMISSION_DENIED;case $u.FAILED_PRECONDITION:return Ao.FAILED_PRECONDITION;case $u.ABORTED:return Ao.ABORTED;case $u.OUT_OF_RANGE:return Ao.OUT_OF_RANGE;case $u.UNIMPLEMENTED:return Ao.UNIMPLEMENTED;case $u.DATA_LOSS:return Ao.DATA_LOSS;default:return _o()}}(Wu=$u||($u={}))[Wu.OK=0]="OK",Wu[Wu.CANCELLED=1]="CANCELLED",Wu[Wu.UNKNOWN=2]="UNKNOWN",Wu[Wu.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Wu[Wu.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Wu[Wu.NOT_FOUND=5]="NOT_FOUND",Wu[Wu.ALREADY_EXISTS=6]="ALREADY_EXISTS",Wu[Wu.PERMISSION_DENIED=7]="PERMISSION_DENIED",Wu[Wu.UNAUTHENTICATED=16]="UNAUTHENTICATED",Wu[Wu.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Wu[Wu.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Wu[Wu.ABORTED=10]="ABORTED",Wu[Wu.OUT_OF_RANGE=11]="OUT_OF_RANGE",Wu[Wu.UNIMPLEMENTED=12]="UNIMPLEMENTED",Wu[Wu.INTERNAL=13]="INTERNAL",Wu[Wu.UNAVAILABLE=14]="UNAVAILABLE",Wu[Wu.DATA_LOSS=15]="DATA_LOSS";var tc=function(){function t(t,e){this.J=t,this.root=e||nc.EMPTY}return t.prototype.Ht=function(e,n){return new t(this.J,this.root.Ht(e,n,this.J).copy(null,null,nc.Jt,null,null))},t.prototype.remove=function(e){return new t(this.J,this.root.remove(e,this.J).copy(null,null,nc.Jt,null,null))},t.prototype.get=function(t){for(var e=this.root;!e.nt();){var n=this.J(t,e.key);if(0===n)return e.value;n<0?e=e.left:n>0&&(e=e.right)}return null},t.prototype.indexOf=function(t){for(var e=0,n=this.root;!n.nt();){var r=this.J(t,n.key);if(0===r)return e+n.left.size;r<0?n=n.left:(e+=n.left.size+1,n=n.right)}return-1},t.prototype.nt=function(){return this.root.nt()},Object.defineProperty(t.prototype,"size",{get:function(){return this.root.size},enumerable:!1,configurable:!0}),t.prototype.Yt=function(){return this.root.Yt()},t.prototype.Xt=function(){return this.root.Xt()},t.prototype.Zt=function(t){return this.root.Zt(t)},t.prototype.forEach=function(t){this.Zt(function(e,n){return t(e,n),!1})},t.prototype.toString=function(){var t=[];return this.Zt(function(e,n){return t.push(e+":"+n),!1}),"{"+t.join(", ")+"}"},t.prototype.te=function(t){return this.root.te(t)},t.prototype.ee=function(){return new ec(this.root,null,this.J,!1)},t.prototype.ne=function(t){return new ec(this.root,t,this.J,!1)},t.prototype.se=function(){return new ec(this.root,null,this.J,!0)},t.prototype.ie=function(t){return new ec(this.root,t,this.J,!0)},t}(),ec=function(){function t(t,e,n,r){this.re=r,this.oe=[];for(var i=1;!t.nt();)if(i=e?n(t.key,e):1,r&&(i*=-1),i<0)t=this.re?t.left:t.right;else{if(0===i){this.oe.push(t);break}this.oe.push(t),t=this.re?t.right:t.left}}return t.prototype.ce=function(){var t=this.oe.pop(),e={key:t.key,value:t.value};if(this.re)for(t=t.left;!t.nt();)this.oe.push(t),t=t.right;else for(t=t.right;!t.nt();)this.oe.push(t),t=t.left;return e},t.prototype.ae=function(){return this.oe.length>0},t.prototype.ue=function(){if(0===this.oe.length)return null;var t=this.oe[this.oe.length-1];return{key:t.key,value:t.value}},t}(),nc=function(){function t(e,n,r,i,s){this.key=e,this.value=n,this.color=null!=r?r:t.RED,this.left=null!=i?i:t.EMPTY,this.right=null!=s?s:t.EMPTY,this.size=this.left.size+1+this.right.size}return t.prototype.copy=function(e,n,r,i,s){return new t(null!=e?e:this.key,null!=n?n:this.value,null!=r?r:this.color,null!=i?i:this.left,null!=s?s:this.right)},t.prototype.nt=function(){return!1},t.prototype.Zt=function(t){return this.left.Zt(t)||t(this.key,this.value)||this.right.Zt(t)},t.prototype.te=function(t){return this.right.te(t)||t(this.key,this.value)||this.left.te(t)},t.prototype.min=function(){return this.left.nt()?this:this.left.min()},t.prototype.Yt=function(){return this.min().key},t.prototype.Xt=function(){return this.right.nt()?this.key:this.right.Xt()},t.prototype.Ht=function(t,e,n){var r=this,i=n(t,r.key);return(r=i<0?r.copy(null,null,null,r.left.Ht(t,e,n),null):0===i?r.copy(null,e,null,null,null):r.copy(null,null,null,null,r.right.Ht(t,e,n))).he()},t.prototype.le=function(){if(this.left.nt())return t.EMPTY;var e=this;return e.left._e()||e.left.left._e()||(e=e.fe()),(e=e.copy(null,null,null,e.left.le(),null)).he()},t.prototype.remove=function(e,n){var r,i=this;if(n(e,i.key)<0)i.left.nt()||i.left._e()||i.left.left._e()||(i=i.fe()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left._e()&&(i=i.de()),i.right.nt()||i.right._e()||i.right.left._e()||(i=i.we()),0===n(e,i.key)){if(i.right.nt())return t.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.le())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.he()},t.prototype._e=function(){return this.color},t.prototype.he=function(){var t=this;return t.right._e()&&!t.left._e()&&(t=t.Ee()),t.left._e()&&t.left.left._e()&&(t=t.de()),t.left._e()&&t.right._e()&&(t=t.Te()),t},t.prototype.fe=function(){var t=this.Te();return t.right.left._e()&&(t=(t=(t=t.copy(null,null,null,null,t.right.de())).Ee()).Te()),t},t.prototype.we=function(){var t=this.Te();return t.left.left._e()&&(t=(t=t.de()).Te()),t},t.prototype.Ee=function(){var e=this.copy(null,null,t.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)},t.prototype.de=function(){var e=this.copy(null,null,t.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)},t.prototype.Te=function(){var t=this.left.copy(null,null,!this.left.color,null,null),e=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,e)},t.prototype.Ie=function(){var t=this.me();return Math.pow(2,t)<=this.size+1},t.prototype.me=function(){if(this._e()&&this.left._e())throw _o();if(this.right._e())throw _o();var t=this.left.me();if(t!==this.right.me())throw _o();return t+(this._e()?0:1)},t}();nc.EMPTY=null,nc.RED=!0,nc.Jt=!1,nc.EMPTY=new(function(){function t(){this.size=0}return Object.defineProperty(t.prototype,"key",{get:function(){throw _o()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"value",{get:function(){throw _o()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"color",{get:function(){throw _o()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"left",{get:function(){throw _o()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"right",{get:function(){throw _o()},enumerable:!1,configurable:!0}),t.prototype.copy=function(t,e,n,r,i){return this},t.prototype.Ht=function(t,e,n){return new nc(t,e)},t.prototype.remove=function(t,e){return this},t.prototype.nt=function(){return!0},t.prototype.Zt=function(t){return!1},t.prototype.te=function(t){return!1},t.prototype.Yt=function(){return null},t.prototype.Xt=function(){return null},t.prototype._e=function(){return!1},t.prototype.Ie=function(){return!0},t.prototype.me=function(){return 0},t}());var rc=function(){function t(t){this.J=t,this.data=new tc(this.J)}return t.prototype.has=function(t){return null!==this.data.get(t)},t.prototype.first=function(){return this.data.Yt()},t.prototype.last=function(){return this.data.Xt()},Object.defineProperty(t.prototype,"size",{get:function(){return this.data.size},enumerable:!1,configurable:!0}),t.prototype.indexOf=function(t){return this.data.indexOf(t)},t.prototype.forEach=function(t){this.data.Zt(function(e,n){return t(e),!1})},t.prototype.Ae=function(t,e){for(var n=this.data.ne(t[0]);n.ae();){var r=n.ce();if(this.J(r.key,t[1])>=0)return;e(r.key)}},t.prototype.Re=function(t,e){var n;for(n=void 0!==e?this.data.ne(e):this.data.ee();n.ae();)if(!t(n.ce().key))return},t.prototype.Pe=function(t){var e=this.data.ne(t);return e.ae()?e.ce().key:null},t.prototype.ee=function(){return new ic(this.data.ee())},t.prototype.ne=function(t){return new ic(this.data.ne(t))},t.prototype.add=function(t){return this.copy(this.data.remove(t).Ht(t,!0))},t.prototype.delete=function(t){return this.has(t)?this.copy(this.data.remove(t)):this},t.prototype.nt=function(){return this.data.nt()},t.prototype.ye=function(t){var e=this;return e.size<t.size&&(e=t,t=this),t.forEach(function(t){e=e.add(t)}),e},t.prototype.isEqual=function(e){if(!(e instanceof t))return!1;if(this.size!==e.size)return!1;for(var n=this.data.ee(),r=e.data.ee();n.ae();){var i=n.ce().key,s=r.ce().key;if(0!==this.J(i,s))return!1}return!0},t.prototype.rt=function(){var t=[];return this.forEach(function(e){t.push(e)}),t},t.prototype.toString=function(){var t=[];return this.forEach(function(e){return t.push(e)}),"SortedSet("+t.toString()+")"},t.prototype.copy=function(e){var n=new t(this.J);return n.data=e,n},t}(),ic=function(){function t(t){this.ge=t}return t.prototype.ce=function(){return this.ge.ce().key},t.prototype.ae=function(){return this.ge.ae()},t}(),sc=new tc(Zo.J);function oc(){return sc}function ac(){return oc()}var uc=new tc(Zo.J);function cc(){return uc}var lc=new tc(Zo.J);function hc(){return lc}var fc=new rc(Zo.J);function dc(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var n=fc,r=0,i=t;r<i.length;r++){var s=i[r];n=n.add(s)}return n}var pc=new rc(Co);function gc(){return pc}var mc=function(){function t(t){this.J=t?function(e,n){return t(e,n)||Zo.J(e.key,n.key)}:function(t,e){return Zo.J(t.key,e.key)},this.Ve=cc(),this.pe=new tc(this.J)}return t.be=function(e){return new t(e.J)},t.prototype.has=function(t){return null!=this.Ve.get(t)},t.prototype.get=function(t){return this.Ve.get(t)},t.prototype.first=function(){return this.pe.Yt()},t.prototype.last=function(){return this.pe.Xt()},t.prototype.nt=function(){return this.pe.nt()},t.prototype.indexOf=function(t){var e=this.Ve.get(t);return e?this.pe.indexOf(e):-1},Object.defineProperty(t.prototype,"size",{get:function(){return this.pe.size},enumerable:!1,configurable:!0}),t.prototype.forEach=function(t){this.pe.Zt(function(e,n){return t(e),!1})},t.prototype.add=function(t){var e=this.delete(t.key);return e.copy(e.Ve.Ht(t.key,t),e.pe.Ht(t,null))},t.prototype.delete=function(t){var e=this.get(t);return e?this.copy(this.Ve.remove(t),this.pe.remove(e)):this},t.prototype.isEqual=function(e){if(!(e instanceof t))return!1;if(this.size!==e.size)return!1;for(var n=this.pe.ee(),r=e.pe.ee();n.ae();){var i=n.ce().key,s=r.ce().key;if(!i.isEqual(s))return!1}return!0},t.prototype.toString=function(){var t=[];return this.forEach(function(e){t.push(e.toString())}),0===t.length?"DocumentSet ()":"DocumentSet (\n  "+t.join("  \n")+"\n)"},t.prototype.copy=function(e,n){var r=new t;return r.J=this.J,r.Ve=e,r.pe=n,r},t}(),yc=function(){function t(){this.ve=new tc(Zo.J)}return t.prototype.track=function(t){var e=t.doc.key,n=this.ve.get(e);n?0!==t.type&&3===n.type?this.ve=this.ve.Ht(e,t):3===t.type&&1!==n.type?this.ve=this.ve.Ht(e,{type:n.type,doc:t.doc}):2===t.type&&2===n.type?this.ve=this.ve.Ht(e,{type:2,doc:t.doc}):2===t.type&&0===n.type?this.ve=this.ve.Ht(e,{type:0,doc:t.doc}):1===t.type&&0===n.type?this.ve=this.ve.remove(e):1===t.type&&2===n.type?this.ve=this.ve.Ht(e,{type:1,doc:n.doc}):0===t.type&&1===n.type?this.ve=this.ve.Ht(e,{type:2,doc:t.doc}):_o():this.ve=this.ve.Ht(e,t)},t.prototype.Se=function(){var t=[];return this.ve.Zt(function(e,n){t.push(n)}),t},t}(),vc=function(){function t(t,e,n,r,i,s,o,a){this.query=t,this.docs=e,this.De=n,this.docChanges=r,this.Ce=i,this.fromCache=s,this.xe=o,this.Ne=a}return t.Fe=function(e,n,r,i){var s=[];return n.forEach(function(t){s.push({type:0,doc:t})}),new t(e,n,mc.be(n),s,r,i,!0,!1)},Object.defineProperty(t.prototype,"hasPendingWrites",{get:function(){return!this.Ce.nt()},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(t){if(!(this.fromCache===t.fromCache&&this.xe===t.xe&&this.Ce.isEqual(t.Ce)&&cu(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.De.isEqual(t.De)))return!1;var e=this.docChanges,n=t.docChanges;if(e.length!==n.length)return!1;for(var r=0;r<e.length;r++)if(e[r].type!==n[r].type||!e[r].doc.isEqual(n[r].doc))return!1;return!0},t}(),bc=function(){function t(t,e,n,r,i){this.Mt=t,this.Oe=e,this.ke=n,this.Me=r,this.Le=i}return t.$e=function(e,n){var r=new Map;return r.set(e,_c.Be(e,n)),new t(Go.min(),r,gc(),oc(),dc())},t}(),_c=function(){function t(t,e,n,r,i){this.resumeToken=t,this.qe=e,this.Ue=n,this.Qe=r,this.Ke=i}return t.Be=function(e,n){return new t(xo.h,n,dc(),dc(),dc())},t}(),wc=function(t,e,n,r){this.We=t,this.removedTargetIds=e,this.key=n,this.je=r},Ec=function(t,e){this.targetId=t,this.Ge=e},Oc=function(t,e,n,r){void 0===n&&(n=xo.h),void 0===r&&(r=null),this.state=t,this.targetIds=e,this.resumeToken=n,this.cause=r},Sc=function(){function t(){this.ze=0,this.He=Ic(),this.Je=xo.h,this.Ye=!1,this.Xe=!0}return Object.defineProperty(t.prototype,"qe",{get:function(){return this.Ye},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"resumeToken",{get:function(){return this.Je},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"Ze",{get:function(){return 0!==this.ze},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"tn",{get:function(){return this.Xe},enumerable:!1,configurable:!0}),t.prototype.en=function(t){t.o()>0&&(this.Xe=!0,this.Je=t)},t.prototype.nn=function(){var t=dc(),e=dc(),n=dc();return this.He.forEach(function(r,i){switch(i){case 0:t=t.add(r);break;case 2:e=e.add(r);break;case 1:n=n.add(r);break;default:_o()}}),new _c(this.Je,this.Ye,t,e,n)},t.prototype.sn=function(){this.Xe=!1,this.He=Ic()},t.prototype.rn=function(t,e){this.Xe=!0,this.He=this.He.Ht(t,e)},t.prototype.on=function(t){this.Xe=!0,this.He=this.He.remove(t)},t.prototype.cn=function(){this.ze+=1},t.prototype.an=function(){this.ze-=1},t.prototype.un=function(){this.Xe=!0,this.Ye=!0},t}(),Cc=function(){function t(t){this.hn=t,this.ln=new Map,this._n=oc(),this.fn=Tc(),this.dn=new rc(Co)}return t.prototype.wn=function(t){for(var e=0,n=t.We;e<n.length;e++){var r=n[e];t.je instanceof Aa?this.En(r,t.je):t.je instanceof ja&&this.Tn(r,t.key,t.je)}for(var i=0,s=t.removedTargetIds;i<s.length;i++)this.Tn(r=s[i],t.key,t.je)},t.prototype.In=function(t){var e=this;this.mn(t,function(n){var r=e.An(n);switch(t.state){case 0:e.Rn(n)&&r.en(t.resumeToken);break;case 1:r.an(),r.Ze||r.sn(),r.en(t.resumeToken);break;case 2:r.an(),r.Ze||e.removeTarget(n);break;case 3:e.Rn(n)&&(r.un(),r.en(t.resumeToken));break;case 4:e.Rn(n)&&(e.Pn(n),r.en(t.resumeToken));break;default:_o()}})},t.prototype.mn=function(t,e){var n=this;t.targetIds.length>0?t.targetIds.forEach(e):this.ln.forEach(function(t,r){n.Rn(r)&&e(r)})},t.prototype.yn=function(t){var e=t.targetId,n=t.Ge.count,r=this.gn(e);if(r){var i=r.target;if(La(i))if(0===n){var s=new Zo(i.path);this.Tn(e,s,new ja(s,Go.min()))}else wo(1===n);else this.Vn(e)!==n&&(this.Pn(e),this.dn=this.dn.add(e))}},t.prototype.pn=function(t){var e=this,n=new Map;this.ln.forEach(function(r,i){var s=e.gn(i);if(s){if(r.qe&&La(s.target)){var o=new Zo(s.target.path);null!==e._n.get(o)||e.bn(i,o)||e.Tn(i,o,new ja(o,t))}r.tn&&(n.set(i,r.nn()),r.sn())}});var r=dc();this.fn.forEach(function(t,n){var i=!0;n.Re(function(t){var n=e.gn(t);return!n||2===n.kt||(i=!1,!1)}),i&&(r=r.add(t))});var i=new bc(t,n,this.dn,this._n,r);return this._n=oc(),this.fn=Tc(),this.dn=new rc(Co),i},t.prototype.En=function(t,e){if(this.Rn(t)){var n=this.bn(t,e.key)?2:0;this.An(t).rn(e.key,n),this._n=this._n.Ht(e.key,e),this.fn=this.fn.Ht(e.key,this.vn(e.key).add(t))}},t.prototype.Tn=function(t,e,n){if(this.Rn(t)){var r=this.An(t);this.bn(t,e)?r.rn(e,1):r.on(e),this.fn=this.fn.Ht(e,this.vn(e).delete(t)),n&&(this._n=this._n.Ht(e,n))}},t.prototype.removeTarget=function(t){this.ln.delete(t)},t.prototype.Vn=function(t){var e=this.An(t).nn();return this.hn.Sn(t).size+e.Ue.size-e.Ke.size},t.prototype.cn=function(t){this.An(t).cn()},t.prototype.An=function(t){var e=this.ln.get(t);return e||(e=new Sc,this.ln.set(t,e)),e},t.prototype.vn=function(t){var e=this.fn.get(t);return e||(e=new rc(Co),this.fn=this.fn.Ht(t,e)),e},t.prototype.Rn=function(t){var e=null!==this.gn(t);return e||mo("WatchChangeAggregator","Detected inactive target",t),e},t.prototype.gn=function(t){var e=this.ln.get(t);return e&&e.Ze?null:this.hn.Dn(t)},t.prototype.Pn=function(t){var e=this;this.ln.set(t,new Sc),this.hn.Sn(t).forEach(function(n){e.Tn(t,n,null)})},t.prototype.bn=function(t,e){return this.hn.Sn(t).has(e)},t}();function Tc(){return new tc(Zo.J)}function Ic(){return new tc(Zo.J)}var xc={asc:"ASCENDING",desc:"DESCENDING"},Ac={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},jc=function(t,e){this.T=t,this.qt=e};function kc(t,e){return t.qt?new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")+"."+("000000000"+e.nanoseconds).slice(-9)+"Z":{seconds:""+e.seconds,nanos:e.nanoseconds}}function Nc(t,e){return t.qt?e.toBase64():e.toUint8Array()}function Pc(t,e){return kc(t,e.G())}function Dc(t){return wo(!!t),Go.W(function(t){var e=ra(t);return new Bo(e.seconds,e.nanos)}(t))}function Rc(t,e){return function(t){return new Wo(["projects",t.projectId,"databases",t.database])}(t).child("documents").child(e).ot()}function Lc(t){var e=Wo.ct(t);return wo(ol(e)),e}function Mc(t,e){return Rc(t.T,e.path)}function Fc(t,e){var n=Lc(e);if(n.get(1)!==t.T.projectId)throw new jo(Ao.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.T.projectId);if(n.get(3)!==t.T.database)throw new jo(Ao.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.T.database);return new Zo(Hc(n))}function Vc(t,e){return Rc(t.T,e)}function Uc(t){var e=Lc(t);return 4===e.length?Wo.at():Hc(e)}function qc(t){return new Wo(["projects",t.T.projectId,"databases",t.T.database]).ot()}function Hc(t){return wo(t.length>4&&"documents"===t.get(4)),t.X(5)}function zc(t,e,n){return{name:Mc(t,e),fields:n.proto.mapValue.fields}}function Kc(t,e,n){var r=Fc(t,e.name),i=Dc(e.updateTime),s=new Ca({mapValue:{fields:e.fields}});return new Aa(r,i,s,{hasCommittedMutations:!!n})}function Bc(t,e){var n;if(e instanceof qu)n={update:zc(t,e.key,e.value)};else if(e instanceof Ju)n={delete:Mc(t,e.key)};else if(e instanceof Hu)n={update:zc(t,e.key,e.data),updateMask:sl(e.zt)};else{if(!(e instanceof Qu))return _o();n={verify:Mc(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(function(t){return function(t,e){var n=e.transform;if(n instanceof Ou)return{fieldPath:e.field.ot(),setToServerValue:"REQUEST_TIME"};if(n instanceof Su)return{fieldPath:e.field.ot(),appendMissingElements:{values:n.elements}};if(n instanceof Tu)return{fieldPath:e.field.ot(),removeAllFromArray:{values:n.elements}};if(n instanceof xu)return{fieldPath:e.field.ot(),increment:n.Qt};throw _o()}(0,t)})),e.Gt.jt||(n.currentDocument=function(t,e){return void 0!==e.updateTime?{updateTime:Pc(t,e.updateTime)}:void 0!==e.exists?{exists:e.exists}:_o()}(t,e.Gt)),n}function Gc(t,e){var n=e.currentDocument?function(t){return void 0!==t.updateTime?Pu.updateTime(Dc(t.updateTime)):void 0!==t.exists?Pu.exists(t.exists):Pu.Wt()}(e.currentDocument):Pu.Wt(),r=e.updateTransforms?e.updateTransforms.map(function(e){return function(t,e){var n=null;"setToServerValue"in e?(wo("REQUEST_TIME"===e.setToServerValue),n=new Ou):"appendMissingElements"in e?n=new Su(e.appendMissingElements.values||[]):"removeAllFromArray"in e?n=new Tu(e.removeAllFromArray.values||[]):"increment"in e?n=new xu(t,e.increment):_o();var r=Qo._t(e.fieldPath);return new ku(r,n)}(t,e)}):[];if(e.update){var i=Fc(t,e.update.name),s=new Ca({mapValue:{fields:e.update.fields}});if(e.updateMask){var o=function(t){return new ea((t.fieldPaths||[]).map(function(t){return Qo._t(t)}))}(e.updateMask);return new Hu(i,s,o,n,r)}return new qu(i,s,n,r)}if(e.delete){var a=Fc(t,e.delete);return new Ju(a,n)}if(e.verify){var u=Fc(t,e.verify);return new Qu(u,n)}return _o()}function $c(t,e){return{documents:[Vc(t,e.path)]}}function Wc(t,e){var n={structuredQuery:{}},r=e.path;null!==e.collectionGroup?(n.parent=Vc(t,r),n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(n.parent=Vc(t,r.Z()),n.structuredQuery.from=[{collectionId:r.et()}]);var i=function(t){if(0!==t.length){var e=t.map(function(t){return function(t){if("=="===t.op){if(Oa(t.value))return{unaryFilter:{field:el(t.field),op:"IS_NAN"}};if(Ea(t.value))return{unaryFilter:{field:el(t.field),op:"IS_NULL"}}}else if("!="===t.op){if(Oa(t.value))return{unaryFilter:{field:el(t.field),op:"IS_NOT_NAN"}};if(Ea(t.value))return{unaryFilter:{field:el(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:el(t.field),op:tl(t.op),value:t.value}}}(t)});return 1===e.length?e[0]:{compositeFilter:{op:"AND",filters:e}}}}(e.filters);i&&(n.structuredQuery.where=i);var s=function(t){if(0!==t.length)return t.map(function(t){return function(t){return{field:el(t.field),direction:Xc(t.dir)}}(t)})}(e.orderBy);s&&(n.structuredQuery.orderBy=s);var o=function(t,e){return t.qt||ca(e)?e:{value:e}}(t,e.limit);return null!==o&&(n.structuredQuery.limit=o),e.startAt&&(n.structuredQuery.startAt=Zc(e.startAt)),e.endAt&&(n.structuredQuery.endAt=Zc(e.endAt)),n}function Jc(t){var e=Uc(t.parent),n=t.structuredQuery,r=n.from?n.from.length:0,i=null;if(r>0){wo(1===r);var s=n.from[0];s.allDescendants?i=s.collectionId:e=e.child(s.collectionId)}var o=[];n.where&&(o=Qc(n.where));var a=[];n.orderBy&&(a=n.orderBy.map(function(t){return function(t){return new Wa(nl(t.field),function(t){switch(t){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(t.direction))}(t)}));var u=null;n.limit&&(u=function(t){var e;return ca(e="object"==typeof t?t.value:t)?null:e}(n.limit));var c=null;n.startAt&&(c=Yc(n.startAt));var l=null;return n.endAt&&(l=Yc(n.endAt)),Xa(e,i,a,o,u,"F",c,l)}function Qc(t){return t?void 0!==t.unaryFilter?[il(t)]:void 0!==t.fieldFilter?[rl(t)]:void 0!==t.compositeFilter?t.compositeFilter.filters.map(function(t){return Qc(t)}).reduce(function(t,e){return t.concat(e)}):_o():[]}function Zc(t){return{before:t.before,values:t.position}}function Yc(t){return new Ga(t.values||[],!!t.before)}function Xc(t){return xc[t]}function tl(t){return Ac[t]}function el(t){return{fieldPath:t.ot()}}function nl(t){return Qo._t(t.fieldPath)}function rl(t){return Ma.create(nl(t.fieldFilter.field),function(t){switch(t){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":default:return _o()}}(t.fieldFilter.op),t.fieldFilter.value)}function il(t){switch(t.unaryFilter.op){case"IS_NAN":var e=nl(t.unaryFilter.field);return Ma.create(e,"==",{doubleValue:NaN});case"IS_NULL":var n=nl(t.unaryFilter.field);return Ma.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":var r=nl(t.unaryFilter.field);return Ma.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":var i=nl(t.unaryFilter.field);return Ma.create(i,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":default:return _o()}}function sl(t){var e=[];return t.fields.forEach(function(t){return e.push(t.ot())}),{fieldPaths:e}}function ol(t){return t.length>=4&&"projects"===t.get(0)&&"databases"===t.get(2)}var al=function(){var t=this;this.promise=new Promise(function(e,n){t.resolve=e,t.reject=n})},ul=function(){function t(t){var e=this;this.Cn=null,this.xn=null,this.result=void 0,this.error=void 0,this.Nn=!1,this.Fn=!1,t(function(t){e.Nn=!0,e.result=t,e.Cn&&e.Cn(t)},function(t){e.Nn=!0,e.error=t,e.xn&&e.xn(t)})}return t.prototype.catch=function(t){return this.next(void 0,t)},t.prototype.next=function(e,n){var r=this;return this.Fn&&_o(),this.Fn=!0,this.Nn?this.error?this.On(n,this.error):this.kn(e,this.result):new t(function(t,i){r.Cn=function(n){r.kn(e,n).next(t,i)},r.xn=function(e){r.On(n,e).next(t,i)}})},t.prototype.Mn=function(){var t=this;return new Promise(function(e,n){t.next(e,n)})},t.prototype.Ln=function(e){try{var n=e();return n instanceof t?n:t.resolve(n)}catch(e){return t.reject(e)}},t.prototype.kn=function(e,n){return e?this.Ln(function(){return e(n)}):t.resolve(n)},t.prototype.On=function(e,n){return e?this.Ln(function(){return e(n)}):t.reject(n)},t.resolve=function(e){return new t(function(t,n){t(e)})},t.reject=function(e){return new t(function(t,n){n(e)})},t.$n=function(e){return new t(function(t,n){var r=0,i=0,s=!1;e.forEach(function(e){++r,e.next(function(){++i,s&&i===r&&t()},function(t){return n(t)})}),s=!0,i===r&&t()})},t.Bn=function(e){for(var n=t.resolve(!1),r=function(e){n=n.next(function(n){return n?t.resolve(n):e()})},i=0,s=e;i<s.length;i++)r(s[i]);return n},t.forEach=function(t,e){var n=this,r=[];return t.forEach(function(t,i){r.push(e.call(n,t,i))}),this.$n(r)},t}(),cl=function(){function t(t,e){var n=this;this.action=t,this.transaction=e,this.aborted=!1,this.qn=new al,this.transaction.oncomplete=function(){n.qn.resolve()},this.transaction.onabort=function(){e.error?n.qn.reject(new fl(t,e.error)):n.qn.resolve()},this.transaction.onerror=function(e){var r=yl(e.target.error);n.qn.reject(new fl(t,r))}}return t.open=function(e,n,r,i){try{return new t(n,e.transaction(i,r))}catch(e){throw new fl(n,e)}},Object.defineProperty(t.prototype,"Un",{get:function(){return this.qn.promise},enumerable:!1,configurable:!0}),t.prototype.abort=function(t){t&&this.qn.reject(t),this.aborted||(mo("SimpleDb","Aborting transaction:",t?t.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())},t.prototype.store=function(t){var e=this.transaction.objectStore(t);return new pl(e)},t}(),ll=function(){function t(e,n,r){this.name=e,this.version=n,this.Qn=r,12.2===t.Kn(Object(ln.g)())&&yo("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}return t.delete=function(t){return mo("SimpleDb","Removing database:",t),gl(window.indexedDB.deleteDatabase(t)).Mn()},t.Wn=function(){if("undefined"==typeof indexedDB)return!1;if(t.jn())return!0;var e=Object(ln.g)(),n=t.Kn(e),r=0<n&&n<10,i=t.Gn(e),s=0<i&&i<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||r||s)},t.jn=function(){var t;return"undefined"!=typeof process&&"YES"===(null===(t=process.env)||void 0===t?void 0:t.zn)},t.Hn=function(t,e){return t.store(e)},t.Kn=function(t){var e=t.match(/i(?:phone|pad|pod) os ([\d_]+)/i),n=e?e[1].split("_").slice(0,2).join("."):"-1";return Number(n)},t.Gn=function(t){var e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)},t.prototype.Jn=function(t){return Object(fo.b)(this,void 0,void 0,function(){var e,n=this;return Object(fo.d)(this,function(r){switch(r.label){case 0:return this.db?[3,2]:(mo("SimpleDb","Opening database:",this.name),e=this,[4,new Promise(function(e,r){var i=indexedDB.open(n.name,n.version);i.onsuccess=function(t){e(t.target.result)},i.onblocked=function(){r(new fl(t,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},i.onerror=function(e){var n=e.target.error;r("VersionError"===n.name?new jo(Ao.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):new fl(t,n))},i.onupgradeneeded=function(t){mo("SimpleDb",'Database "'+n.name+'" requires upgrade from version:',t.oldVersion),n.Qn.Yn(t.target.result,i.transaction,t.oldVersion,n.version).next(function(){mo("SimpleDb","Database upgrade to version "+n.version+" complete")})}})]);case 1:e.db=r.sent(),r.label=2;case 2:return[2,(this.Xn&&(this.db.onversionchange=function(t){return n.Xn(t)}),this.db)]}})})},t.prototype.Zn=function(t){this.Xn=t,this.db&&(this.db.onversionchange=function(e){return t(e)})},t.prototype.runTransaction=function(t,e,n,r){return Object(fo.b)(this,void 0,void 0,function(){var i,s,o,a,u;return Object(fo.d)(this,function(c){switch(c.label){case 0:i="readonly"===e,s=0,o=function(){var e,o,u,c,l;return Object(fo.d)(this,function(h){switch(h.label){case 0:++s,h.label=1;case 1:return h.trys.push([1,4,,5]),[4,a.Jn(t)];case 2:return a.db=h.sent(),e=cl.open(a.db,t,i?"readonly":"readwrite",n),o=r(e).catch(function(t){return e.abort(t),ul.reject(t)}).Mn(),u={},o.catch(function(){}),[4,e.Un];case 3:return[2,(u.value=(h.sent(),o),u)];case 4:return mo("SimpleDb","Transaction failed with error:",(c=h.sent()).message,"Retrying:",l="FirebaseError"!==c.name&&s<3),a.close(),l?[3,5]:[2,{value:Promise.reject(c)}];case 5:return[2]}})},a=this,c.label=1;case 1:return[5,o()];case 2:if("object"==typeof(u=c.sent()))return[2,u.value];c.label=3;case 3:return[3,1];case 4:return[2]}})})},t.prototype.close=function(){this.db&&this.db.close(),this.db=void 0},t}(),hl=function(){function t(t){this.ts=t,this.es=!1,this.ns=null}return Object.defineProperty(t.prototype,"Nn",{get:function(){return this.es},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"ss",{get:function(){return this.ns},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"cursor",{set:function(t){this.ts=t},enumerable:!1,configurable:!0}),t.prototype.done=function(){this.es=!0},t.prototype.rs=function(t){this.ns=t},t.prototype.delete=function(){return gl(this.ts.delete())},t}(),fl=function(t){function e(e,n){var r=this;return(r=t.call(this,Ao.UNAVAILABLE,"IndexedDB transaction '"+e+"' failed: "+n)||this).name="IndexedDbTransactionError",r}return Object(fo.c)(e,t),e}(jo);function dl(t){return"IndexedDbTransactionError"===t.name}var pl=function(){function t(t){this.store=t}return t.prototype.put=function(t,e){var n;return void 0!==e?(mo("SimpleDb","PUT",this.store.name,t,e),n=this.store.put(e,t)):(mo("SimpleDb","PUT",this.store.name,"<auto-key>",t),n=this.store.put(t)),gl(n)},t.prototype.add=function(t){return mo("SimpleDb","ADD",this.store.name,t,t),gl(this.store.add(t))},t.prototype.get=function(t){var e=this;return gl(this.store.get(t)).next(function(n){return void 0===n&&(n=null),mo("SimpleDb","GET",e.store.name,t,n),n})},t.prototype.delete=function(t){return mo("SimpleDb","DELETE",this.store.name,t),gl(this.store.delete(t))},t.prototype.count=function(){return mo("SimpleDb","COUNT",this.store.name),gl(this.store.count())},t.prototype.os=function(t,e){var n=this.cursor(this.options(t,e)),r=[];return this.cs(n,function(t,e){r.push(e)}).next(function(){return r})},t.prototype.us=function(t,e){mo("SimpleDb","DELETE ALL",this.store.name);var n=this.options(t,e);n.hs=!1;var r=this.cursor(n);return this.cs(r,function(t,e,n){return n.delete()})},t.prototype.ls=function(t,e){var n;e?n=t:(n={},e=t);var r=this.cursor(n);return this.cs(r,e)},t.prototype._s=function(t){var e=this.cursor({});return new ul(function(n,r){e.onerror=function(t){var e=yl(t.target.error);r(e)},e.onsuccess=function(e){var r=e.target.result;r?t(r.primaryKey,r.value).next(function(t){t?r.continue():n()}):n()}})},t.prototype.cs=function(t,e){var n=[];return new ul(function(r,i){t.onerror=function(t){i(t.target.error)},t.onsuccess=function(t){var i=t.target.result;if(i){var s=new hl(i),o=e(i.primaryKey,i.value,s);if(o instanceof ul){var a=o.catch(function(t){return s.done(),ul.reject(t)});n.push(a)}s.Nn?r():null===s.ss?i.continue():i.continue(s.ss)}else r()}}).next(function(){return ul.$n(n)})},t.prototype.options=function(t,e){var n=void 0;return void 0!==t&&("string"==typeof t?n=t:e=t),{index:n,range:e}},t.prototype.cursor=function(t){var e="next";if(t.reverse&&(e="prev"),t.index){var n=this.store.index(t.index);return t.hs?n.openKeyCursor(t.range,e):n.openCursor(t.range,e)}return this.store.openCursor(t.range,e)},t}();function gl(t){return new ul(function(e,n){t.onsuccess=function(t){e(t.target.result)},t.onerror=function(t){var e=yl(t.target.error);n(e)}})}var ml=!1;function yl(t){var e=ll.Kn(Object(ln.g)());if(e>=12.2&&e<13){var n="An internal error was encountered in the Indexed Database server";if(t.message.indexOf(n)>=0){var r=new jo("internal","IOS_INDEXEDDB_BUG1: IndexedDb has thrown '"+n+"'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.");return ml||(ml=!0,setTimeout(function(){throw r},0)),r}}return t}var vl=function(){function t(t,e,n,r,i){this.fs=t,this.ds=e,this.ws=n,this.op=r,this.Es=i,this.Ts=new al,this.then=this.Ts.promise.then.bind(this.Ts.promise),this.Ts.promise.catch(function(t){})}return t.Is=function(e,n,r,i,s){var o=new t(e,n,Date.now()+r,i,s);return o.start(r),o},t.prototype.start=function(t){var e=this;this.As=setTimeout(function(){return e.Rs()},t)},t.prototype.Ps=function(){return this.Rs()},t.prototype.cancel=function(t){null!==this.As&&(this.clearTimeout(),this.Ts.reject(new jo(Ao.CANCELLED,"Operation cancelled"+(t?": "+t:""))))},t.prototype.Rs=function(){var t=this;this.fs.ys(function(){return null!==t.As?(t.clearTimeout(),t.op().then(function(e){return t.Ts.resolve(e)})):Promise.resolve()})},t.prototype.clearTimeout=function(){null!==this.As&&(this.Es(this),clearTimeout(this.As),this.As=null)},t}();function bl(t,e){if(yo("AsyncQueue",e+": "+t),dl(t))return new jo(Ao.UNAVAILABLE,e+": "+t);throw t}var _l=function(t,e){this.progress=t,this.gs=e},wl="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",El=function(){function t(){this.Vs=[]}return t.prototype.ps=function(t){this.Vs.push(t)},t.prototype.bs=function(){this.Vs.forEach(function(t){return t()})},t}();function Ol(t){for(var e="",n=0;n<t.length;n++)e.length>0&&(e=Cl(e)),e=Sl(t.get(n),e);return Cl(e)}function Sl(t,e){for(var n=e,r=t.length,i=0;i<r;i++){var s=t.charAt(i);switch(s){case"\0":n+="\x01\x10";break;case"\x01":n+="\x01\x11";break;default:n+=s}}return n}function Cl(t){return t+"\x01\x01"}function Tl(t){var e=t.length;if(wo(e>=2),2===e)return wo("\x01"===t.charAt(0)&&"\x01"===t.charAt(1)),Wo.at();for(var n=e-2,r=[],i="",s=0;s<e;){var o=t.indexOf("\x01",s);switch((o<0||o>n)&&_o(),t.charAt(o+1)){case"\x01":var a=t.substring(s,o),u=void 0;0===i.length?u=a:(u=i+=a,i=""),r.push(u);break;case"\x10":i+=t.substring(s,o),i+="\0";break;case"\x11":i+=t.substring(s,o+1);break;default:_o()}s=o+2}return new Wo(r)}var Il=function(t,e){this.seconds=t,this.nanoseconds=e},xl=function(t,e,n){this.ownerId=t,this.allowTabSynchronization=e,this.leaseTimestampMs=n};xl.store="owner",xl.key="owner";var Al=function(t,e,n){this.userId=t,this.lastAcknowledgedBatchId=e,this.lastStreamToken=n};Al.store="mutationQueues",Al.keyPath="userId";var jl=function(t,e,n,r,i){this.userId=t,this.batchId=e,this.localWriteTimeMs=n,this.baseMutations=r,this.mutations=i};jl.store="mutations",jl.keyPath="batchId",jl.userMutationsIndex="userMutationsIndex",jl.userMutationsKeyPath=["userId","batchId"];var kl=function(){function t(){}return t.prefixForUser=function(t){return[t]},t.prefixForPath=function(t,e){return[t,Ol(e)]},t.key=function(t,e,n){return[t,Ol(e),n]},t}();kl.store="documentMutations",kl.PLACEHOLDER=new kl;var Nl=function(t,e){this.path=t,this.readTime=e},Pl=function(t,e){this.path=t,this.version=e},Dl=function(t,e,n,r,i,s){this.unknownDocument=t,this.noDocument=e,this.document=n,this.hasCommittedMutations=r,this.readTime=i,this.parentPath=s};Dl.store="remoteDocuments",Dl.readTimeIndex="readTimeIndex",Dl.readTimeIndexPath="readTime",Dl.collectionReadTimeIndex="collectionReadTimeIndex",Dl.collectionReadTimeIndexPath=["parentPath","readTime"];var Rl=function(t){this.byteSize=t};Rl.store="remoteDocumentGlobal",Rl.key="remoteDocumentGlobalKey";var Ll=function(t,e,n,r,i,s,o){this.targetId=t,this.canonicalId=e,this.readTime=n,this.resumeToken=r,this.lastListenSequenceNumber=i,this.lastLimboFreeSnapshotVersion=s,this.query=o};Ll.store="targets",Ll.keyPath="targetId",Ll.queryTargetsIndexName="queryTargetsIndex",Ll.queryTargetsKeyPath=["canonicalId","targetId"];var Ml=function(t,e,n){this.targetId=t,this.path=e,this.sequenceNumber=n};Ml.store="targetDocuments",Ml.keyPath=["targetId","path"],Ml.documentTargetsIndex="documentTargetsIndex",Ml.documentTargetsKeyPath=["path","targetId"];var Fl=function(t,e,n,r){this.highestTargetId=t,this.highestListenSequenceNumber=e,this.lastRemoteSnapshotVersion=n,this.targetCount=r};Fl.key="targetGlobalKey",Fl.store="targetGlobal";var Vl=function(t,e){this.collectionId=t,this.parent=e};Vl.store="collectionParents",Vl.keyPath=["collectionId","parent"];var Ul=function(t,e,n,r){this.clientId=t,this.updateTimeMs=e,this.networkEnabled=n,this.inForeground=r};Ul.store="clientMetadata",Ul.keyPath="clientId";var ql=function(t,e,n){this.bundleId=t,this.createTime=e,this.version=n};ql.store="bundles",ql.keyPath="bundleId";var Hl=function(t,e,n){this.name=t,this.readTime=e,this.bundledQuery=n};Hl.store="namedQueries",Hl.keyPath="name";var zl=Object(fo.g)(Object(fo.g)(Object(fo.g)(Object(fo.g)([Al.store,jl.store,kl.store,Dl.store,Ll.store,xl.store,Fl.store,Ml.store],[Ul.store]),[Rl.store]),[Vl.store]),[ql.store,Hl.store]),Kl=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).vs=e,r.Ss=n,r}return Object(fo.c)(e,t),e}(El);function Bl(t,e){var n=Eo(t);return ll.Hn(n.vs,e)}var Gl=function(){function t(t,e,n,r){this.batchId=t,this.Ds=e,this.baseMutations=n,this.mutations=r}return t.prototype.Cs=function(t,e,n){for(var r=n.xs,i=0;i<this.mutations.length;i++){var s=this.mutations[i];s.key.isEqual(t)&&(e=Lu(s,e,r[i]))}return e},t.prototype.Ns=function(t,e){for(var n=0,r=this.baseMutations;n<r.length;n++){var i=r[n];i.key.isEqual(t)&&(e=Mu(i,e,e,this.Ds))}for(var s=e,o=0,a=this.mutations;o<a.length;o++){var u=a[o];u.key.isEqual(t)&&(e=Mu(u,e,s,this.Ds))}return e},t.prototype.Fs=function(t){var e=this,n=t;return this.mutations.forEach(function(r){var i=e.Ns(r.key,t.get(r.key));i&&(n=n.Ht(r.key,i))}),n},t.prototype.keys=function(){return this.mutations.reduce(function(t,e){return t.add(e.key)},dc())},t.prototype.isEqual=function(t){return this.batchId===t.batchId&&To(this.mutations,t.mutations,function(t,e){return Vu(t,e)})&&To(this.baseMutations,t.baseMutations,function(t,e){return Vu(t,e)})},t}(),$l=function(){function t(t,e,n,r){this.batch=t,this.Os=e,this.xs=n,this.ks=r}return t.from=function(e,n,r){wo(e.mutations.length===r.length);for(var i=hc(),s=e.mutations,o=0;o<s.length;o++)i=i.Ht(s[o].key,r[o].version);return new t(e,n,r,i)},t}(),Wl=function(t){this.Ms=t};function Jl(t,e){if(e.document)return Kc(t.Ms,e.document,!!e.hasCommittedMutations);if(e.noDocument){var n=Zo.Tt(e.noDocument.path),r=th(e.noDocument.readTime);return new ja(n,r,{hasCommittedMutations:!!e.hasCommittedMutations})}if(e.unknownDocument){var i=Zo.Tt(e.unknownDocument.path);return r=th(e.unknownDocument.version),new ka(i,r)}return _o()}function Ql(t,e,n){var r=Zl(n),i=e.key.path.Z().rt();if(e instanceof Aa){var s=function(t,e){return{name:Mc(t,e.key),fields:e.vt().mapValue.fields,updateTime:kc(t,e.version.G())}}(t.Ms,e),o=e.hasCommittedMutations;return new Dl(null,null,s,o,r,i)}if(e instanceof ja){var a=e.key.path.rt(),u=Xl(e.version);return o=e.hasCommittedMutations,new Dl(null,new Nl(a,u),null,o,r,i)}if(e instanceof ka){var c=e.key.path.rt(),l=Xl(e.version);return new Dl(new Pl(c,l),null,null,!0,r,i)}return _o()}function Zl(t){var e=t.G();return[e.seconds,e.nanoseconds]}function Yl(t){var e=new Bo(t[0],t[1]);return Go.W(e)}function Xl(t){var e=t.G();return new Il(e.seconds,e.nanoseconds)}function th(t){var e=new Bo(t.seconds,t.nanoseconds);return Go.W(e)}function eh(t,e){for(var n=(e.baseMutations||[]).map(function(e){return Gc(t.Ms,e)}),r=e.mutations.length-1;r>=0;--r){var i=e.mutations[r];void 0!==(null==i?void 0:i.transform)&&(e.mutations[r-1].updateTransforms=i.transform.fieldTransforms,e.mutations.splice(r,1),--r)}var s=e.mutations.map(function(e){return Gc(t.Ms,e)}),o=Bo.fromMillis(e.localWriteTimeMs);return new Gl(e.batchId,o,n,s)}function nh(t){var e,n,r=th(t.readTime),i=void 0!==t.lastLimboFreeSnapshotVersion?th(t.lastLimboFreeSnapshotVersion):Go.min();return void 0!==t.query.documents?(wo(1===(n=t.query).documents.length),e=au(tu(Uc(n.documents[0])))):e=function(t){return au(Jc(t))}(t.query),new gu(e,t.targetId,0,t.lastListenSequenceNumber,r,i,xo.fromBase64String(t.resumeToken))}function rh(t,e){var n,r=Xl(e.Mt),i=Xl(e.lastLimboFreeSnapshotVersion);n=La(e.target)?$c(t.Ms,e.target):Wc(t.Ms,e.target);var s=e.resumeToken.toBase64();return new Ll(e.targetId,Da(e.target),r,s,e.sequenceNumber,i,n)}function ih(t){var e=Jc({parent:t.parent,structuredQuery:t.structuredQuery});return"LAST"===t.limitType?uu(e,e.limit,"L"):e}var sh=function(){function t(){}return t.prototype.Ls=function(t,e){return oh(t).get(e).next(function(t){if(t)return{id:(e=t).bundleId,createTime:th(e.createTime),version:e.version};var e})},t.prototype.$s=function(t,e){return oh(t).put({bundleId:(n=e).id,createTime:Xl(Dc(n.createTime)),version:n.version});var n},t.prototype.Bs=function(t,e){return ah(t).get(e).next(function(t){if(t)return{name:(e=t).name,query:ih(e.bundledQuery),readTime:th(e.readTime)};var e})},t.prototype.qs=function(t,e){return ah(t).put(function(t){return{name:t.name,readTime:Xl(Dc(t.readTime)),bundledQuery:t.bundledQuery}}(e))},t}();function oh(t){return Bl(t,ql.store)}function ah(t){return Bl(t,Hl.store)}var uh=function(){function t(){this.Us=new ch}return t.prototype.Qs=function(t,e){return this.Us.add(e),ul.resolve()},t.prototype.Ks=function(t,e){return ul.resolve(this.Us.getEntries(e))},t}(),ch=function(){function t(){this.index={}}return t.prototype.add=function(t){var e=t.et(),n=t.Z(),r=this.index[e]||new rc(Wo.J),i=!r.has(n);return this.index[e]=r.add(n),i},t.prototype.has=function(t){var e=t.et(),n=t.Z(),r=this.index[e];return r&&r.has(n)},t.prototype.getEntries=function(t){return(this.index[t]||new rc(Wo.J)).rt()},t}(),lh=function(){function t(){this.Ws=new ch}return t.prototype.Qs=function(t,e){var n=this;if(!this.Ws.has(e)){var r=e.et(),i=e.Z();t.ps(function(){n.Ws.add(e)});var s={collectionId:r,parent:Ol(i)};return hh(t).put(s)}return ul.resolve()},t.prototype.Ks=function(t,e){var n=[],r=IDBKeyRange.bound([e,""],[Io(e),""],!1,!0);return hh(t).os(r).next(function(t){for(var r=0,i=t;r<i.length;r++){var s=i[r];if(s.collectionId!==e)break;n.push(Tl(s.parent))}return n})},t}();function hh(t){return Bl(t,Vl.store)}var fh={js:!1,Gs:0,zs:0,Hs:0},dh=function(){function t(t,e,n){this.Js=t,this.Ys=e,this.Xs=n}return t.Zs=function(e){return new t(e,t.ti,t.ei)},t}();function ph(t){return Object(fo.b)(this,void 0,void 0,function(){return Object(fo.d)(this,function(e){if(t.code!==Ao.FAILED_PRECONDITION||t.message!==wl)throw t;return mo("LocalStore","Unexpectedly lost primary lease"),[2]})})}dh.ti=10,dh.ei=1e3,dh.ni=new dh(41943040,dh.ti,dh.ei),dh.si=new dh(-1,0,0);var gh=function(){function t(t,e){this.ii=t,this.ri=e,this.oi={}}return t.prototype.get=function(t){var e=this.ii(t),n=this.oi[e];if(void 0!==n)for(var r=0,i=n;r<i.length;r++){var s=i[r],o=s[1];if(this.ri(s[0],t))return o}},t.prototype.has=function(t){return void 0!==this.get(t)},t.prototype.set=function(t,e){var n=this.ii(t),r=this.oi[n];if(void 0!==r){for(var i=0;i<r.length;i++)if(this.ri(r[i][0],t))return void(r[i]=[t,e]);r.push([t,e])}else this.oi[n]=[[t,e]]},t.prototype.delete=function(t){var e=this.ii(t),n=this.oi[e];if(void 0===n)return!1;for(var r=0;r<n.length;r++)if(this.ri(n[r][0],t))return 1===n.length?delete this.oi[e]:n.splice(r,1),!0;return!1},t.prototype.forEach=function(t){Xo(this.oi,function(e,n){for(var r=0,i=n;r<i.length;r++){var s=i[r];t(s[0],s[1])}})},t.prototype.nt=function(){return ta(this.oi)},t}(),mh=function(){function t(){this.ci=new gh(function(t){return t.toString()},function(t,e){return t.isEqual(e)}),this.ai=!1}return t.prototype.ui=function(t){var e=this.ci.get(t);return e?e.readTime:Go.min()},t.prototype.hi=function(t,e){this.li(),this.ci.set(t.key,{_i:t,readTime:e})},t.prototype.fi=function(t,e){void 0===e&&(e=null),this.li(),this.ci.set(t,{_i:null,readTime:e})},t.prototype.di=function(t,e){this.li();var n=this.ci.get(e);return void 0!==n?ul.resolve(n._i):this.wi(t,e)},t.prototype.getEntries=function(t,e){return this.Ei(t,e)},t.prototype.apply=function(t){return this.li(),this.ai=!0,this.Ti(t)},t.prototype.li=function(){},t}();function yh(t,e,n){var r=t.store(jl.store),i=t.store(kl.store),s=[],o=IDBKeyRange.only(n.batchId),a=0,u=r.ls({range:o},function(t,e,n){return a++,n.delete()});s.push(u.next(function(){wo(1===a)}));for(var c=[],l=0,h=n.mutations;l<h.length;l++){var f=h[l],d=kl.key(e,f.key.path,n.batchId);s.push(i.delete(d)),c.push(f.key)}return ul.$n(s).next(function(){return c})}function vh(t){var e;if(t.document)e=t.document;else if(t.unknownDocument)e=t.unknownDocument;else{if(!t.noDocument)throw _o();e=t.noDocument}return JSON.stringify(e).length}var bh=function(){function t(t,e,n,r){this.userId=t,this.Kt=e,this.Ii=n,this.mi=r,this.Ai={}}return t.Ri=function(e,n,r,i){return wo(""!==e.uid),new t(e.A()?e.uid:"",n,r,i)},t.prototype.Pi=function(t){var e=!0,n=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return wh(t).ls({index:jl.userMutationsIndex,range:n},function(t,n,r){e=!1,r.done()}).next(function(){return e})},t.prototype.yi=function(t,e,n,r){var i=this,s=Eh(t),o=wh(t);return o.add({}).next(function(a){wo("number"==typeof a);for(var u=new Gl(a,e,n,r),c=function(t,e,n){var r=n.baseMutations.map(function(e){return Bc(t.Ms,e)}),i=n.mutations.map(function(e){return Bc(t.Ms,e)});return new jl(e,n.batchId,n.Ds.toMillis(),r,i)}(i.Kt,i.userId,u),l=[],h=new rc(function(t,e){return Co(t.ot(),e.ot())}),f=0,d=r;f<d.length;f++){var p=d[f],g=kl.key(i.userId,p.key.path,a);h=h.add(p.key.path.Z()),l.push(o.put(c)),l.push(s.put(g,kl.PLACEHOLDER))}return h.forEach(function(e){l.push(i.Ii.Qs(t,e))}),t.ps(function(){i.Ai[a]=u.keys()}),ul.$n(l).next(function(){return u})})},t.prototype.gi=function(t,e){var n=this;return wh(t).get(e).next(function(t){return t?(wo(t.userId===n.userId),eh(n.Kt,t)):null})},t.prototype.Vi=function(t,e){var n=this;return this.Ai[e]?ul.resolve(this.Ai[e]):this.gi(t,e).next(function(t){if(t){var r=t.keys();return n.Ai[e]=r,r}return null})},t.prototype.pi=function(t,e){var n=this,r=e+1,i=IDBKeyRange.lowerBound([this.userId,r]),s=null;return wh(t).ls({index:jl.userMutationsIndex,range:i},function(t,e,i){e.userId===n.userId&&(wo(e.batchId>=r),s=eh(n.Kt,e)),i.done()}).next(function(){return s})},t.prototype.bi=function(t){var e=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]),n=-1;return wh(t).ls({index:jl.userMutationsIndex,range:e,reverse:!0},function(t,e,r){n=e.batchId,r.done()}).next(function(){return n})},t.prototype.vi=function(t){var e=this,n=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return wh(t).os(jl.userMutationsIndex,n).next(function(t){return t.map(function(t){return eh(e.Kt,t)})})},t.prototype.Si=function(t,e){var n=this,r=kl.prefixForPath(this.userId,e.path),i=IDBKeyRange.lowerBound(r),s=[];return Eh(t).ls({range:i},function(r,i,o){var a=r[0],u=r[2],c=Tl(r[1]);if(a===n.userId&&e.path.isEqual(c))return wh(t).get(u).next(function(t){if(!t)throw _o();wo(t.userId===n.userId),s.push(eh(n.Kt,t))});o.done()}).next(function(){return s})},t.prototype.Di=function(t,e){var n=this,r=new rc(Co),i=[];return e.forEach(function(e){var s=kl.prefixForPath(n.userId,e.path),o=IDBKeyRange.lowerBound(s),a=Eh(t).ls({range:o},function(t,i,s){var o=t[0],a=t[2],u=Tl(t[1]);o===n.userId&&e.path.isEqual(u)?r=r.add(a):s.done()});i.push(a)}),ul.$n(i).next(function(){return n.Ci(t,r)})},t.prototype.xi=function(t,e){var n=this,r=e.path,i=r.length+1,s=kl.prefixForPath(this.userId,r),o=IDBKeyRange.lowerBound(s),a=new rc(Co);return Eh(t).ls({range:o},function(t,e,s){var o=t[0],u=t[2],c=Tl(t[1]);o===n.userId&&r.st(c)?c.length===i&&(a=a.add(u)):s.done()}).next(function(){return n.Ci(t,a)})},t.prototype.Ci=function(t,e){var n=this,r=[],i=[];return e.forEach(function(e){i.push(wh(t).get(e).next(function(t){if(null===t)throw _o();wo(t.userId===n.userId),r.push(eh(n.Kt,t))}))}),ul.$n(i).next(function(){return r})},t.prototype.Ni=function(t,e){var n=this;return yh(t.vs,this.userId,e).next(function(r){return t.ps(function(){n.Fi(e.batchId)}),ul.forEach(r,function(e){return n.mi.Oi(t,e)})})},t.prototype.Fi=function(t){delete this.Ai[t]},t.prototype.ki=function(t){var e=this;return this.Pi(t).next(function(n){if(!n)return ul.resolve();var r=IDBKeyRange.lowerBound(kl.prefixForUser(e.userId)),i=[];return Eh(t).ls({range:r},function(t,n,r){if(t[0]===e.userId){var s=Tl(t[1]);i.push(s)}else r.done()}).next(function(){wo(0===i.length)})})},t.prototype.Mi=function(t,e){return _h(t,this.userId,e)},t.prototype.Li=function(t){var e=this;return Oh(t).get(this.userId).next(function(t){return t||new Al(e.userId,-1,"")})},t}();function _h(t,e,n){var r=kl.prefixForPath(e,n.path),i=r[1],s=IDBKeyRange.lowerBound(r),o=!1;return Eh(t).ls({range:s,hs:!0},function(t,n,r){t[0]===e&&t[1]===i&&(o=!0),r.done()}).next(function(){return o})}function wh(t){return Bl(t,jl.store)}function Eh(t){return Bl(t,kl.store)}function Oh(t){return Bl(t,Al.store)}var Sh=function(){function t(t){this.$i=t}return t.prototype.next=function(){return this.$i+=2,this.$i},t.Bi=function(){return new t(0)},t.qi=function(){return new t(-1)},t}(),Ch=function(){function t(t,e){this.mi=t,this.Kt=e}return t.prototype.Ui=function(t){var e=this;return this.Qi(t).next(function(n){var r=new Sh(n.highestTargetId);return n.highestTargetId=r.next(),e.Ki(t,n).next(function(){return n.highestTargetId})})},t.prototype.Wi=function(t){return this.Qi(t).next(function(t){return Go.W(new Bo(t.lastRemoteSnapshotVersion.seconds,t.lastRemoteSnapshotVersion.nanoseconds))})},t.prototype.ji=function(t){return this.Qi(t).next(function(t){return t.highestListenSequenceNumber})},t.prototype.Gi=function(t,e,n){var r=this;return this.Qi(t).next(function(i){return i.highestListenSequenceNumber=e,n&&(i.lastRemoteSnapshotVersion=n.G()),e>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=e),r.Ki(t,i)})},t.prototype.zi=function(t,e){var n=this;return this.Hi(t,e).next(function(){return n.Qi(t).next(function(r){return r.targetCount+=1,n.Ji(e,r),n.Ki(t,r)})})},t.prototype.Yi=function(t,e){return this.Hi(t,e)},t.prototype.Xi=function(t,e){var n=this;return this.Zi(t,e.targetId).next(function(){return Th(t).delete(e.targetId)}).next(function(){return n.Qi(t)}).next(function(e){return wo(e.targetCount>0),e.targetCount-=1,n.Ki(t,e)})},t.prototype.tr=function(t,e,n){var r=this,i=0,s=[];return Th(t).ls(function(o,a){var u=nh(a);u.sequenceNumber<=e&&null===n.get(u.targetId)&&(i++,s.push(r.Xi(t,u)))}).next(function(){return ul.$n(s)}).next(function(){return i})},t.prototype.mn=function(t,e){return Th(t).ls(function(t,n){var r=nh(n);e(r)})},t.prototype.Qi=function(t){return Ih(t).get(Fl.key).next(function(t){return wo(null!==t),t})},t.prototype.Ki=function(t,e){return Ih(t).put(Fl.key,e)},t.prototype.Hi=function(t,e){return Th(t).put(rh(this.Kt,e))},t.prototype.Ji=function(t,e){var n=!1;return t.targetId>e.highestTargetId&&(e.highestTargetId=t.targetId,n=!0),t.sequenceNumber>e.highestListenSequenceNumber&&(e.highestListenSequenceNumber=t.sequenceNumber,n=!0),n},t.prototype.er=function(t){return this.Qi(t).next(function(t){return t.targetCount})},t.prototype.nr=function(t,e){var n=Da(e),r=IDBKeyRange.bound([n,Number.NEGATIVE_INFINITY],[n,Number.POSITIVE_INFINITY]),i=null;return Th(t).ls({range:r,index:Ll.queryTargetsIndexName},function(t,n,r){var s=nh(n);Ra(e,s.target)&&(i=s,r.done())}).next(function(){return i})},t.prototype.sr=function(t,e,n){var r=this,i=[],s=xh(t);return e.forEach(function(e){var o=Ol(e.path);i.push(s.put(new Ml(n,o))),i.push(r.mi.ir(t,n,e))}),ul.$n(i)},t.prototype.rr=function(t,e,n){var r=this,i=xh(t);return ul.forEach(e,function(e){var s=Ol(e.path);return ul.$n([i.delete([n,s]),r.mi.cr(t,n,e)])})},t.prototype.Zi=function(t,e){var n=xh(t),r=IDBKeyRange.bound([e],[e+1],!1,!0);return n.delete(r)},t.prototype.ar=function(t,e){var n=IDBKeyRange.bound([e],[e+1],!1,!0),r=xh(t),i=dc();return r.ls({range:n,hs:!0},function(t,e,n){var r=Tl(t[1]),s=new Zo(r);i=i.add(s)}).next(function(){return i})},t.prototype.Mi=function(t,e){var n=Ol(e.path),r=IDBKeyRange.bound([n],[Io(n)],!1,!0),i=0;return xh(t).ls({index:Ml.documentTargetsIndex,hs:!0,range:r},function(t,e,n){0!==t[0]&&(i++,n.done())}).next(function(){return i>0})},t.prototype.Dn=function(t,e){return Th(t).get(e).next(function(t){return t?nh(t):null})},t}();function Th(t){return Bl(t,Ll.store)}function Ih(t){return Bl(t,Fl.store)}function xh(t){return Bl(t,Ml.store)}function Ah(t,e){var n=t[1],r=e[1],i=Co(t[0],e[0]);return 0===i?Co(n,r):i}var jh=function(){function t(t){this.ur=t,this.buffer=new rc(Ah),this.hr=0}return t.prototype.lr=function(){return++this.hr},t.prototype._r=function(t){var e=[t,this.lr()];if(this.buffer.size<this.ur)this.buffer=this.buffer.add(e);else{var n=this.buffer.last();Ah(e,n)<0&&(this.buffer=this.buffer.delete(n).add(e))}},Object.defineProperty(t.prototype,"maxValue",{get:function(){return this.buffer.last()[0]},enumerable:!1,configurable:!0}),t}(),kh=function(){function t(t,e){this.dr=t,this.fs=e,this.wr=!1,this.Er=null}return t.prototype.start=function(t){-1!==this.dr.params.Js&&this.Tr(t)},t.prototype.stop=function(){this.Er&&(this.Er.cancel(),this.Er=null)},Object.defineProperty(t.prototype,"Ir",{get:function(){return null!==this.Er},enumerable:!1,configurable:!0}),t.prototype.Tr=function(t){var e=this,n=this.wr?3e5:6e4;mo("LruGarbageCollector","Garbage collection scheduled in "+n+"ms"),this.Er=this.fs.mr("lru_garbage_collection",n,function(){return Object(fo.b)(e,void 0,void 0,function(){var e;return Object(fo.d)(this,function(n){switch(n.label){case 0:this.Er=null,this.wr=!0,n.label=1;case 1:return n.trys.push([1,3,,7]),[4,t.Ar(this.dr)];case 2:return n.sent(),[3,7];case 3:return dl(e=n.sent())?(mo("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",e),[3,6]):[3,4];case 4:return[4,ph(e)];case 5:n.sent(),n.label=6;case 6:return[3,7];case 7:return[4,this.Tr(t)];case 8:return n.sent(),[2]}})})})},t}(),Nh=function(){function t(t,e){this.Rr=t,this.params=e}return t.prototype.Pr=function(t,e){return this.Rr.yr(t).next(function(t){return Math.floor(e/100*t)})},t.prototype.gr=function(t,e){var n=this;if(0===e)return ul.resolve(Ko.U);var r=new jh(e);return this.Rr.mn(t,function(t){return r._r(t.sequenceNumber)}).next(function(){return n.Rr.Vr(t,function(t){return r._r(t)})}).next(function(){return r.maxValue})},t.prototype.tr=function(t,e,n){return this.Rr.tr(t,e,n)},t.prototype.pr=function(t,e){return this.Rr.pr(t,e)},t.prototype.br=function(t,e){var n=this;return-1===this.params.Js?(mo("LruGarbageCollector","Garbage collection skipped; disabled"),ul.resolve(fh)):this.vr(t).next(function(r){return r<n.params.Js?(mo("LruGarbageCollector","Garbage collection skipped; Cache size "+r+" is lower than threshold "+n.params.Js),fh):n.Sr(t,e)})},t.prototype.vr=function(t){return this.Rr.vr(t)},t.prototype.Sr=function(t,e){var n,r,i,s,o,a,u,c=this,l=Date.now();return this.Pr(t,this.params.Ys).next(function(e){return e>c.params.Xs?(mo("LruGarbageCollector","Capping sequence numbers to collect down to the maximum of "+c.params.Xs+" from "+e),r=c.params.Xs):r=e,s=Date.now(),c.gr(t,r)}).next(function(r){return n=r,o=Date.now(),c.tr(t,n,e)}).next(function(e){return i=e,a=Date.now(),c.pr(t,n)}).next(function(t){return u=Date.now(),go()<=cn.a.DEBUG&&mo("LruGarbageCollector","LRU Garbage Collection\n\tCounted targets in "+(s-l)+"ms\n\tDetermined least recently used "+r+" in "+(o-s)+"ms\n\tRemoved "+i+" targets in "+(a-o)+"ms\n\tRemoved "+t+" documents in "+(u-a)+"ms\nTotal Duration: "+(u-l)+"ms"),ul.resolve({js:!0,Gs:r,zs:i,Hs:t})})},t}(),Ph=function(){function t(t,e){this.db=t,this.dr=function(t,e){return new Nh(t,e)}(this,e)}return t.prototype.yr=function(t){var e=this.Dr(t);return this.db.Cr().er(t).next(function(t){return e.next(function(e){return t+e})})},t.prototype.Dr=function(t){var e=0;return this.Vr(t,function(t){e++}).next(function(){return e})},t.prototype.mn=function(t,e){return this.db.Cr().mn(t,e)},t.prototype.Vr=function(t,e){return this.Nr(t,function(t,n){return e(n)})},t.prototype.ir=function(t,e,n){return Dh(t,n)},t.prototype.cr=function(t,e,n){return Dh(t,n)},t.prototype.tr=function(t,e,n){return this.db.Cr().tr(t,e,n)},t.prototype.Oi=function(t,e){return Dh(t,e)},t.prototype.Fr=function(t,e){return function(t,e){var n=!1;return Oh(t)._s(function(r){return _h(t,r,e).next(function(t){return t&&(n=!0),ul.resolve(!t)})}).next(function(){return n})}(t,e)},t.prototype.pr=function(t,e){var n=this,r=this.db.kr().Or(),i=[],s=0;return this.Nr(t,function(o,a){if(a<=e){var u=n.Fr(t,o).next(function(e){if(!e)return s++,r.di(t,o).next(function(){return r.fi(o),xh(t).delete([0,Ol(o.path)])})});i.push(u)}}).next(function(){return ul.$n(i)}).next(function(){return r.apply(t)}).next(function(){return s})},t.prototype.removeTarget=function(t,e){var n=e.Lt(t.Ss);return this.db.Cr().Yi(t,n)},t.prototype.Mr=function(t,e){return Dh(t,e)},t.prototype.Nr=function(t,e){var n,r=xh(t),i=Ko.U;return r.ls({index:Ml.documentTargetsIndex},function(t,r){var s=r.path,o=r.sequenceNumber;0===t[0]?(i!==Ko.U&&e(new Zo(Tl(n)),i),i=o,n=s):i=Ko.U}).next(function(){i!==Ko.U&&e(new Zo(Tl(n)),i)})},t.prototype.vr=function(t){return this.db.kr().Lr(t)},t}();function Dh(t,e){return xh(t).put(function(t,e){return new Ml(0,Ol(t.path),e)}(e,t.Ss))}var Rh=function(){function t(t,e){this.Kt=t,this.Ii=e}return t.prototype.hi=function(t,e,n){return Fh(t).put(Vh(e),n)},t.prototype.fi=function(t,e){var n=Fh(t),r=Vh(e);return n.delete(r)},t.prototype.updateMetadata=function(t,e){var n=this;return this.getMetadata(t).next(function(r){return r.byteSize+=e,n.$r(t,r)})},t.prototype.di=function(t,e){var n=this;return Fh(t).get(Vh(e)).next(function(t){return n.Br(t)})},t.prototype.qr=function(t,e){var n=this;return Fh(t).get(Vh(e)).next(function(t){var e=n.Br(t);return e?{_i:e,size:vh(t)}:null})},t.prototype.getEntries=function(t,e){var n=this,r=ac();return this.Ur(t,e,function(t,e){var i=n.Br(e);r=r.Ht(t,i)}).next(function(){return r})},t.prototype.Qr=function(t,e){var n=this,r=ac(),i=new tc(Zo.J);return this.Ur(t,e,function(t,e){var s=n.Br(e);s?(r=r.Ht(t,s),i=i.Ht(t,vh(e))):(r=r.Ht(t,null),i=i.Ht(t,0))}).next(function(){return{Kr:r,Wr:i}})},t.prototype.Ur=function(t,e,n){if(e.nt())return ul.resolve();var r=IDBKeyRange.bound(e.first().path.rt(),e.last().path.rt()),i=e.ee(),s=i.ce();return Fh(t).ls({range:r},function(t,e,r){for(var o=Zo.Tt(t);s&&Zo.J(s,o)<0;)n(s,null),s=i.ce();s&&s.isEqual(o)&&(n(s,e),s=i.ae()?i.ce():null),s?r.rs(s.path.rt()):r.done()}).next(function(){for(;s;)n(s,null),s=i.ae()?i.ce():null})},t.prototype.jr=function(t,e,n){var r=this,i=cc(),s=e.path.length+1,o={};if(n.isEqual(Go.min())){var a=e.path.rt();o.range=IDBKeyRange.lowerBound(a)}else{var u=e.path.rt(),c=Zl(n);o.range=IDBKeyRange.lowerBound([u,c],!0),o.index=Dl.collectionReadTimeIndex}return Fh(t).ls(o,function(t,n,o){if(t.length===s){var a=Jl(r.Kt,n);e.path.st(a.key.path)?a instanceof Aa&&fu(e,a)&&(i=i.Ht(a.key,a)):o.done()}}).next(function(){return i})},t.prototype.Or=function(t){return new Lh(this,!!t&&t.Gr)},t.prototype.Lr=function(t){return this.getMetadata(t).next(function(t){return t.byteSize})},t.prototype.getMetadata=function(t){return Mh(t).get(Rl.key).next(function(t){return wo(!!t),t})},t.prototype.$r=function(t,e){return Mh(t).put(Rl.key,e)},t.prototype.Br=function(t){if(t){var e=Jl(this.Kt,t);return e instanceof ja&&e.version.isEqual(Go.min())?null:e}return null},t}(),Lh=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).zr=e,r.Gr=n,r.Hr=new gh(function(t){return t.toString()},function(t,e){return t.isEqual(e)}),r}return Object(fo.c)(e,t),e.prototype.Ti=function(t){var e=this,n=[],r=0,i=new rc(function(t,e){return Co(t.ot(),e.ot())});return this.ci.forEach(function(s,o){var a=e.Hr.get(s);if(o._i){var u=Ql(e.zr.Kt,o._i,e.ui(s));i=i.add(s.path.Z());var c=vh(u);r+=c-a,n.push(e.zr.hi(t,s,u))}else if(r-=a,e.Gr){var l=Ql(e.zr.Kt,new ja(s,Go.min()),e.ui(s));n.push(e.zr.hi(t,s,l))}else n.push(e.zr.fi(t,s))}),i.forEach(function(r){n.push(e.zr.Ii.Qs(t,r))}),n.push(this.zr.updateMetadata(t,r)),ul.$n(n)},e.prototype.wi=function(t,e){var n=this;return this.zr.qr(t,e).next(function(t){return null===t?(n.Hr.set(e,0),null):(n.Hr.set(e,t.size),t._i)})},e.prototype.Ei=function(t,e){var n=this;return this.zr.Qr(t,e).next(function(t){var e=t.Kr;return t.Wr.forEach(function(t,e){n.Hr.set(t,e)}),e})},e}(mh);function Mh(t){return Bl(t,Rl.store)}function Fh(t){return Bl(t,Dl.store)}function Vh(t){return t.path.rt()}var Uh=function(){function t(t){this.Kt=t}return t.prototype.Yn=function(t,e,n,r){var i=this;wo(n<r&&n>=0&&r<=11);var s=new cl("createOrUpgrade",e);n<1&&r>=1&&(function(t){t.createObjectStore(xl.store)}(t),function(t){t.createObjectStore(Al.store,{keyPath:Al.keyPath}),t.createObjectStore(jl.store,{keyPath:jl.keyPath,autoIncrement:!0}).createIndex(jl.userMutationsIndex,jl.userMutationsKeyPath,{unique:!0}),t.createObjectStore(kl.store)}(t),qh(t),function(t){t.createObjectStore(Dl.store)}(t));var o=ul.resolve();return n<3&&r>=3&&(0!==n&&(function(t){t.deleteObjectStore(Ml.store),t.deleteObjectStore(Ll.store),t.deleteObjectStore(Fl.store)}(t),qh(t)),o=o.next(function(){return function(t){var e=t.store(Fl.store),n=new Fl(0,0,Go.min().G(),0);return e.put(Fl.key,n)}(s)})),n<4&&r>=4&&(0!==n&&(o=o.next(function(){return function(t,e){return e.store(jl.store).os().next(function(n){t.deleteObjectStore(jl.store),t.createObjectStore(jl.store,{keyPath:jl.keyPath,autoIncrement:!0}).createIndex(jl.userMutationsIndex,jl.userMutationsKeyPath,{unique:!0});var r=e.store(jl.store),i=n.map(function(t){return r.put(t)});return ul.$n(i)})}(t,s)})),o=o.next(function(){!function(t){t.createObjectStore(Ul.store,{keyPath:Ul.keyPath})}(t)})),n<5&&r>=5&&(o=o.next(function(){return i.Jr(s)})),n<6&&r>=6&&(o=o.next(function(){return function(t){t.createObjectStore(Rl.store)}(t),i.Yr(s)})),n<7&&r>=7&&(o=o.next(function(){return i.Xr(s)})),n<8&&r>=8&&(o=o.next(function(){return i.Zr(t,s)})),n<9&&r>=9&&(o=o.next(function(){!function(t){t.objectStoreNames.contains("remoteDocumentChanges")&&t.deleteObjectStore("remoteDocumentChanges")}(t),function(t){var e=t.objectStore(Dl.store);e.createIndex(Dl.readTimeIndex,Dl.readTimeIndexPath,{unique:!1}),e.createIndex(Dl.collectionReadTimeIndex,Dl.collectionReadTimeIndexPath,{unique:!1})}(e)})),n<10&&r>=10&&(o=o.next(function(){return i.eo(s)})),n<11&&r>=11&&(o=o.next(function(){!function(t){t.createObjectStore(ql.store,{keyPath:ql.keyPath})}(t),function(t){t.createObjectStore(Hl.store,{keyPath:Hl.keyPath})}(t)})),o},t.prototype.Yr=function(t){var e=0;return t.store(Dl.store).ls(function(t,n){e+=vh(n)}).next(function(){var n=new Rl(e);return t.store(Rl.store).put(Rl.key,n)})},t.prototype.Jr=function(t){var e=this,n=t.store(Al.store),r=t.store(jl.store);return n.os().next(function(n){return ul.forEach(n,function(n){var i=IDBKeyRange.bound([n.userId,-1],[n.userId,n.lastAcknowledgedBatchId]);return r.os(jl.userMutationsIndex,i).next(function(r){return ul.forEach(r,function(r){wo(r.userId===n.userId);var i=eh(e.Kt,r);return yh(t,n.userId,i).next(function(){})})})})})},t.prototype.Xr=function(t){var e=t.store(Ml.store),n=t.store(Dl.store);return t.store(Fl.store).get(Fl.key).next(function(t){var r=[];return n.ls(function(n,i){var s=new Wo(n),o=function(t){return[0,Ol(t)]}(s);r.push(e.get(o).next(function(n){return n?ul.resolve():function(n){return e.put(new Ml(0,Ol(n),t.highestListenSequenceNumber))}(s)}))}).next(function(){return ul.$n(r)})})},t.prototype.Zr=function(t,e){t.createObjectStore(Vl.store,{keyPath:Vl.keyPath});var n=e.store(Vl.store),r=new ch,i=function(t){if(r.add(t)){var e=t.et(),i=t.Z();return n.put({collectionId:e,parent:Ol(i)})}};return e.store(Dl.store).ls({hs:!0},function(t,e){var n=new Wo(t);return i(n.Z())}).next(function(){return e.store(kl.store).ls({hs:!0},function(t,e){var n=Tl(t[1]);return i(n.Z())})})},t.prototype.eo=function(t){var e=this,n=t.store(Ll.store);return n.ls(function(t,r){var i=nh(r),s=rh(e.Kt,i);return n.put(s)})},t}();function qh(t){t.createObjectStore(Ml.store,{keyPath:Ml.keyPath}).createIndex(Ml.documentTargetsIndex,Ml.documentTargetsKeyPath,{unique:!0}),t.createObjectStore(Ll.store,{keyPath:Ll.keyPath}).createIndex(Ll.queryTargetsIndexName,Ll.queryTargetsKeyPath,{unique:!0}),t.createObjectStore(Fl.store)}var Hh="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.",zh=function(){function t(e,n,r,i,s,o,a,u,c,l){if(this.allowTabSynchronization=e,this.persistenceKey=n,this.clientId=r,this.no=s,this.window=o,this.document=a,this.so=c,this.io=l,this.ro=null,this.oo=!1,this.isPrimary=!1,this.networkEnabled=!0,this.co=null,this.inForeground=!1,this.ao=null,this.uo=null,this.ho=Number.NEGATIVE_INFINITY,this.lo=function(t){return Promise.resolve()},!t.Wn())throw new jo(Ao.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.mi=new Ph(this,i),this._o=n+"main",this.Kt=new Wl(u),this.fo=new ll(this._o,11,new Uh(this.Kt)),this.wo=new Ch(this.mi,this.Kt),this.Ii=new lh,this.Eo=function(t,e){return new Rh(t,e)}(this.Kt,this.Ii),this.To=new sh,this.window&&this.window.localStorage?this.Io=this.window.localStorage:(this.Io=null,!1===l&&yo("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}return t.prototype.start=function(){var t=this;return this.mo().then(function(){if(!t.isPrimary&&!t.allowTabSynchronization)throw new jo(Ao.FAILED_PRECONDITION,Hh);return t.Ao(),t.Ro(),t.Po(),t.runTransaction("getHighestListenSequenceNumber","readonly",function(e){return t.wo.ji(e)})}).then(function(e){t.ro=new Ko(e,t.so)}).then(function(){t.oo=!0}).catch(function(e){return t.fo&&t.fo.close(),Promise.reject(e)})},t.prototype.yo=function(t){var e=this;return this.lo=function(n){return Object(fo.b)(e,void 0,void 0,function(){return Object(fo.d)(this,function(e){return this.Ir?[2,t(n)]:[2]})})},t(this.isPrimary)},t.prototype.Vo=function(t){var e=this;this.fo.Zn(function(n){return Object(fo.b)(e,void 0,void 0,function(){return Object(fo.d)(this,function(e){switch(e.label){case 0:return null===n.newVersion?[4,t()]:[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}})})})},t.prototype.po=function(t){var e=this;this.networkEnabled!==t&&(this.networkEnabled=t,this.no.ys(function(){return Object(fo.b)(e,void 0,void 0,function(){return Object(fo.d)(this,function(t){switch(t.label){case 0:return this.Ir?[4,this.mo()]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}})})}))},t.prototype.mo=function(){var t=this;return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",function(e){return Bh(e).put(new Ul(t.clientId,Date.now(),t.networkEnabled,t.inForeground)).next(function(){if(t.isPrimary)return t.bo(e).next(function(e){e||(t.isPrimary=!1,t.no.vo(function(){return t.lo(!1)}))})}).next(function(){return t.So(e)}).next(function(n){return t.isPrimary&&!n?t.Do(e).next(function(){return!1}):!!n&&t.Co(e).next(function(){return!0})})}).catch(function(e){if(dl(e))return mo("IndexedDbPersistence","Failed to extend owner lease: ",e),t.isPrimary;if(!t.allowTabSynchronization)throw e;return mo("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(function(e){t.isPrimary!==e&&t.no.vo(function(){return t.lo(e)}),t.isPrimary=e})},t.prototype.bo=function(t){var e=this;return Kh(t).get(xl.key).next(function(t){return ul.resolve(e.xo(t))})},t.prototype.No=function(t){return Bh(t).delete(this.clientId)},t.prototype.Fo=function(){return Object(fo.b)(this,void 0,void 0,function(){var t,e,n,r=this;return Object(fo.d)(this,function(i){switch(i.label){case 0:return!this.isPrimary||this.Oo(this.ho,18e5)?[3,2]:(this.ho=Date.now(),[4,this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",function(t){var e=Bl(t,Ul.store);return e.os().next(function(t){var n=r.ko(t,18e5),i=t.filter(function(t){return-1===n.indexOf(t)});return ul.forEach(i,function(t){return e.delete(t.clientId)}).next(function(){return i})})}).catch(function(){return[]})]);case 1:if(t=i.sent(),this.Io)for(e=0,n=t;e<n.length;e++)this.Io.removeItem(this.Mo(n[e].clientId));i.label=2;case 2:return[2]}})})},t.prototype.Po=function(){var t=this;this.uo=this.no.mr("client_metadata_refresh",4e3,function(){return t.mo().then(function(){return t.Fo()}).then(function(){return t.Po()})})},t.prototype.xo=function(t){return!!t&&t.ownerId===this.clientId},t.prototype.So=function(t){var e=this;return this.io?ul.resolve(!0):Kh(t).get(xl.key).next(function(n){if(null!==n&&e.Oo(n.leaseTimestampMs,5e3)&&!e.Lo(n.ownerId)){if(e.xo(n)&&e.networkEnabled)return!0;if(!e.xo(n)){if(!n.allowTabSynchronization)throw new jo(Ao.FAILED_PRECONDITION,Hh);return!1}}return!(!e.networkEnabled||!e.inForeground)||Bh(t).os().next(function(t){return void 0===e.ko(t,5e3).find(function(t){return!(e.clientId===t.clientId||!(!e.networkEnabled&&t.networkEnabled||!e.inForeground&&t.inForeground&&e.networkEnabled===t.networkEnabled))})})}).next(function(t){return e.isPrimary!==t&&mo("IndexedDbPersistence","Client "+(t?"is":"is not")+" eligible for a primary lease."),t})},t.prototype.$o=function(){return Object(fo.b)(this,void 0,void 0,function(){var t=this;return Object(fo.d)(this,function(e){switch(e.label){case 0:return this.oo=!1,this.Bo(),this.uo&&(this.uo.cancel(),this.uo=null),this.qo(),this.Uo(),[4,this.fo.runTransaction("shutdown","readwrite",[xl.store,Ul.store],function(e){var n=new Kl(e,Ko.U);return t.Do(n).next(function(){return t.No(n)})})];case 1:return e.sent(),this.fo.close(),this.Qo(),[2]}})})},t.prototype.ko=function(t,e){var n=this;return t.filter(function(t){return n.Oo(t.updateTimeMs,e)&&!n.Lo(t.clientId)})},t.prototype.Ko=function(){var t=this;return this.runTransaction("getActiveClients","readonly",function(e){return Bh(e).os().next(function(e){return t.ko(e,18e5).map(function(t){return t.clientId})})})},Object.defineProperty(t.prototype,"Ir",{get:function(){return this.oo},enumerable:!1,configurable:!0}),t.prototype.Wo=function(t){return bh.Ri(t,this.Kt,this.Ii,this.mi)},t.prototype.Cr=function(){return this.wo},t.prototype.kr=function(){return this.Eo},t.prototype.jo=function(){return this.Ii},t.prototype.Go=function(){return this.To},t.prototype.runTransaction=function(t,e,n){var r,i=this;return mo("IndexedDbPersistence","Starting transaction:",t),this.fo.runTransaction(t,"readonly"===e?"readonly":"readwrite",zl,function(s){return r=new Kl(s,i.ro?i.ro.next():Ko.U),"readwrite-primary"===e?i.bo(r).next(function(t){return!!t||i.So(r)}).next(function(e){if(!e)throw yo("Failed to obtain primary lease for action '"+t+"'."),i.isPrimary=!1,i.no.vo(function(){return i.lo(!1)}),new jo(Ao.FAILED_PRECONDITION,wl);return n(r)}).next(function(t){return i.Co(r).next(function(){return t})}):i.zo(r).next(function(){return n(r)})}).then(function(t){return r.bs(),t})},t.prototype.zo=function(t){var e=this;return Kh(t).get(xl.key).next(function(t){if(null!==t&&e.Oo(t.leaseTimestampMs,5e3)&&!e.Lo(t.ownerId)&&!e.xo(t)&&!(e.io||e.allowTabSynchronization&&t.allowTabSynchronization))throw new jo(Ao.FAILED_PRECONDITION,Hh)})},t.prototype.Co=function(t){var e=new xl(this.clientId,this.allowTabSynchronization,Date.now());return Kh(t).put(xl.key,e)},t.Wn=function(){return ll.Wn()},t.prototype.Do=function(t){var e=this,n=Kh(t);return n.get(xl.key).next(function(t){return e.xo(t)?(mo("IndexedDbPersistence","Releasing primary lease."),n.delete(xl.key)):ul.resolve()})},t.prototype.Oo=function(t,e){var n=Date.now();return!(t<n-e||t>n&&(yo("Detected an update time that is in the future: "+t+" > "+n),1))},t.prototype.Ao=function(){var t=this;null!==this.document&&"function"==typeof this.document.addEventListener&&(this.ao=function(){t.no.ys(function(){return t.inForeground="visible"===t.document.visibilityState,t.mo()})},this.document.addEventListener("visibilitychange",this.ao),this.inForeground="visible"===this.document.visibilityState)},t.prototype.qo=function(){this.ao&&(this.document.removeEventListener("visibilitychange",this.ao),this.ao=null)},t.prototype.Ro=function(){var t,e=this;"function"==typeof(null===(t=this.window)||void 0===t?void 0:t.addEventListener)&&(this.co=function(){e.Bo(),e.no.ys(function(){return e.$o()})},this.window.addEventListener("unload",this.co))},t.prototype.Uo=function(){this.co&&(this.window.removeEventListener("unload",this.co),this.co=null)},t.prototype.Lo=function(t){var e;try{var n=null!==(null===(e=this.Io)||void 0===e?void 0:e.getItem(this.Mo(t)));return mo("IndexedDbPersistence","Client '"+t+"' "+(n?"is":"is not")+" zombied in LocalStorage"),n}catch(t){return yo("IndexedDbPersistence","Failed to get zombied client id.",t),!1}},t.prototype.Bo=function(){if(this.Io)try{this.Io.setItem(this.Mo(this.clientId),String(Date.now()))}catch(t){yo("Failed to set zombie client id.",t)}},t.prototype.Qo=function(){if(this.Io)try{this.Io.removeItem(this.Mo(this.clientId))}catch(t){}},t.prototype.Mo=function(t){return"firestore_zombie_"+this.persistenceKey+"_"+t},t}();function Kh(t){return Bl(t,xl.store)}function Bh(t){return Bl(t,Ul.store)}function Gh(t,e){var n=t.projectId;return t.m||(n+="."+t.database),"firestore/"+e+"/"+n+"/"}var $h=function(){function t(t,e,n){this.Eo=t,this.Ho=e,this.Ii=n}return t.prototype.Jo=function(t,e){var n=this;return this.Ho.Si(t,e).next(function(r){return n.Yo(t,e,r)})},t.prototype.Yo=function(t,e,n){return this.Eo.di(t,e).next(function(t){for(var r=0,i=n;r<i.length;r++)t=i[r].Ns(e,t);return t})},t.prototype.Xo=function(t,e,n){var r=ac();return e.forEach(function(t,e){for(var i=0,s=n;i<s.length;i++)e=s[i].Ns(t,e);r=r.Ht(t,e)}),r},t.prototype.Zo=function(t,e){var n=this;return this.Eo.getEntries(t,e).next(function(e){return n.tc(t,e)})},t.prototype.tc=function(t,e){var n=this;return this.Ho.Di(t,e).next(function(r){var i=n.Xo(t,e,r),s=oc();return i.forEach(function(t,e){e||(e=new ja(t,Go.min())),s=s.Ht(t,e)}),s})},t.prototype.jr=function(t,e,n){return function(t){return Zo.Et(t.path)&&null===t.collectionGroup&&0===t.filters.length}(e)?this.ec(t,e.path):su(e)?this.nc(t,e,n):this.sc(t,e,n)},t.prototype.ec=function(t,e){return this.Jo(t,new Zo(e)).next(function(t){var e=cc();return t instanceof Aa&&(e=e.Ht(t.key,t)),e})},t.prototype.nc=function(t,e,n){var r=this,i=e.collectionGroup,s=cc();return this.Ii.Ks(t,i).next(function(o){return ul.forEach(o,function(o){var a=function(t,e){return new Ya(e,null,t.Nt.slice(),t.filters.slice(),t.limit,t.limitType,t.startAt,t.endAt)}(e,o.child(i));return r.sc(t,a,n).next(function(t){t.forEach(function(t,e){s=s.Ht(t,e)})})}).next(function(){return s})})},t.prototype.sc=function(t,e,n){var r,i,s=this;return this.Eo.jr(t,e,n).next(function(n){return r=n,s.Ho.xi(t,e)}).next(function(e){return s.ic(t,i=e,r).next(function(t){r=t;for(var e=0,n=i;e<n.length;e++)for(var s=n[e],o=0,a=s.mutations;o<a.length;o++){var u=a[o],c=u.key,l=r.get(c),h=Mu(u,l,l,s.Ds);r=h instanceof Aa?r.Ht(c,h):r.remove(c)}})}).next(function(){return r.forEach(function(t,n){fu(e,n)||(r=r.remove(t))}),r})},t.prototype.ic=function(t,e,n){for(var r=dc(),i=0,s=e;i<s.length;i++)for(var o=0,a=s[i].mutations;o<a.length;o++){var u=a[o];u instanceof Hu&&null===n.get(u.key)&&(r=r.add(u.key))}var c=n;return this.Eo.getEntries(t,r).next(function(t){return t.forEach(function(t,e){null!==e&&e instanceof Aa&&(c=c.Ht(t,e))}),c})},t}(),Wh=function(){function t(t,e,n,r){this.targetId=t,this.fromCache=e,this.rc=n,this.oc=r}return t.cc=function(e,n){for(var r=dc(),i=dc(),s=0,o=n.docChanges;s<o.length;s++){var a=o[s];switch(a.type){case 0:r=r.add(a.doc.key);break;case 1:i=i.add(a.doc.key)}}return new t(e,n.fromCache,r,i)},t}(),Jh=function(){function t(){}return t.prototype.ac=function(t){this.uc=t},t.prototype.jr=function(t,e,n,r){var i=this;return function(t){return 0===t.filters.length&&null===t.limit&&null==t.startAt&&null==t.endAt&&(0===t.Nt.length||1===t.Nt.length&&t.Nt[0].field.ht())}(e)||n.isEqual(Go.min())?this.hc(t,e):this.uc.Zo(t,r).next(function(s){var o=i.lc(e,s);return(eu(e)||nu(e))&&i._c(e.limitType,o,r,n)?i.hc(t,e):(go()<=cn.a.DEBUG&&mo("QueryEngine","Re-using previous result from %s to execute query: %s",n.toString(),hu(e)),i.uc.jr(t,e,n).next(function(t){return o.forEach(function(e){t=t.Ht(e.key,e)}),t}))})},t.prototype.lc=function(t,e){var n=new rc(du(t));return e.forEach(function(e,r){r instanceof Aa&&fu(t,r)&&(n=n.add(r))}),n},t.prototype._c=function(t,e,n,r){if(n.size!==e.size)return!0;var i="F"===t?e.last():e.first();return!!i&&(i.hasPendingWrites||i.version.u(r)>0)},t.prototype.hc=function(t,e){return go()<=cn.a.DEBUG&&mo("QueryEngine","Using full collection scan to execute query:",hu(e)),this.uc.jr(t,e,Go.min())},t}(),Qh=function(){function t(t,e,n,r){this.persistence=t,this.fc=e,this.Kt=r,this.dc=new tc(Co),this.wc=new gh(function(t){return Da(t)},Ra),this.Ec=Go.min(),this.Ho=t.Wo(n),this.Tc=t.kr(),this.wo=t.Cr(),this.Ic=new $h(this.Tc,this.Ho,this.persistence.jo()),this.To=t.Go(),this.fc.ac(this.Ic)}return t.prototype.Ar=function(t){var e=this;return this.persistence.runTransaction("Collect garbage","readwrite-primary",function(n){return t.br(n,e.dc)})},t}();function Zh(t,e,n,r){return new Qh(t,e,n,r)}function Yh(t,e){return Object(fo.b)(this,void 0,void 0,function(){var n,r,i,s;return Object(fo.d)(this,function(o){switch(o.label){case 0:return n=Eo(t),r=n.Ho,i=n.Ic,[4,n.persistence.runTransaction("Handle user change","readonly",function(t){var s;return n.Ho.vi(t).next(function(o){return s=o,r=n.persistence.Wo(e),i=new $h(n.Tc,r,n.persistence.jo()),r.vi(t)}).next(function(e){for(var n=[],r=[],o=dc(),a=0,u=s;a<u.length;a++){var c=u[a];n.push(c.batchId);for(var l=0,h=c.mutations;l<h.length;l++)o=o.add(h[l].key)}for(var f=0,d=e;f<d.length;f++){var p=d[f];r.push(p.batchId);for(var g=0,m=p.mutations;g<m.length;g++)o=o.add(m[g].key)}return i.Zo(t,o).next(function(t){return{mc:t,Ac:n,Rc:r}})})})];case 1:return s=o.sent(),[2,(n.Ho=r,n.Ic=i,n.fc.ac(n.Ic),s)]}})})}function Xh(t,e){var n=Eo(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",function(t){var r=e.batch.keys(),i=n.Tc.Or({Gr:!0});return function(t,e,n,r){var i=n.batch,s=i.keys(),o=ul.resolve();return s.forEach(function(t){o=o.next(function(){return r.di(e,t)}).next(function(e){var s=e,o=n.ks.get(t);wo(null!==o),(!s||s.version.u(o)<0)&&(s=i.Cs(t,s,n))&&r.hi(s,n.Os)})}),o.next(function(){return t.Ho.Ni(e,i)})}(n,t,e,i).next(function(){return i.apply(t)}).next(function(){return n.Ho.ki(t)}).next(function(){return n.Ic.Zo(t,r)})})}function tf(t){var e=Eo(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",function(t){return e.wo.Wi(t)})}function ef(t,e){var n=Eo(t),r=e.Mt,i=n.dc;return n.persistence.runTransaction("Apply remote event","readwrite-primary",function(t){var s=n.Tc.Or({Gr:!0});i=n.dc;var o=[];e.Oe.forEach(function(e,s){var a=i.get(s);if(a){o.push(n.wo.rr(t,e.Ke,s).next(function(){return n.wo.sr(t,e.Ue,s)}));var u=e.resumeToken;if(u.o()>0){var c=a.$t(u,r).Lt(t.Ss);i=i.Ht(s,c),function(t,e,n){return wo(e.resumeToken.o()>0),0===t.resumeToken.o()||e.Mt.j()-t.Mt.j()>=3e8||n.Ue.size+n.Qe.size+n.Ke.size>0}(a,c,e)&&o.push(n.wo.Yi(t,c))}}});var a=oc();if(e.Me.forEach(function(r,i){e.Le.has(r)&&o.push(n.persistence.mi.Mr(t,r))}),o.push(nf(t,s,e.Me,r,void 0).next(function(t){a=t})),!r.isEqual(Go.min())){var u=n.wo.Wi(t).next(function(e){return n.wo.Gi(t,t.Ss,r)});o.push(u)}return ul.$n(o).next(function(){return s.apply(t)}).next(function(){return n.Ic.tc(t,a)})}).then(function(t){return n.dc=i,t})}function nf(t,e,n,r,i){var s=dc();return n.forEach(function(t){return s=s.add(t)}),e.getEntries(t,s).next(function(t){var s=oc();return n.forEach(function(n,o){var a=t.get(n),u=(null==i?void 0:i.get(n))||r;o instanceof ja&&o.version.isEqual(Go.min())?(e.fi(n,u),s=s.Ht(n,o)):null==a||o.version.u(a.version)>0||0===o.version.u(a.version)&&a.hasPendingWrites?(e.hi(o,u),s=s.Ht(n,o)):mo("LocalStore","Ignoring outdated watch update for ",n,". Current version:",a.version," Watch version:",o.version)}),s})}function rf(t,e){var n=Eo(t);return n.persistence.runTransaction("Get next mutation batch","readonly",function(t){return void 0===e&&(e=-1),n.Ho.pi(t,e)})}function sf(t,e){var n=Eo(t);return n.persistence.runTransaction("Allocate target","readwrite",function(t){var r;return n.wo.nr(t,e).next(function(i){return i?ul.resolve(r=i):n.wo.Ui(t).next(function(i){return r=new gu(e,i,0,t.Ss),n.wo.zi(t,r).next(function(){return r})})})}).then(function(t){var r=n.dc.get(t.targetId);return(null===r||t.Mt.u(r.Mt)>0)&&(n.dc=n.dc.Ht(t.targetId,t),n.wc.set(e,t.targetId)),t})}function of(t,e,n){return Object(fo.b)(this,void 0,void 0,function(){var r,i,s,o;return Object(fo.d)(this,function(a){switch(a.label){case 0:r=Eo(t),i=r.dc.get(e),s=n?"readwrite":"readwrite-primary",a.label=1;case 1:return a.trys.push([1,4,,5]),n?[3,3]:[4,r.persistence.runTransaction("Release target",s,function(t){return r.persistence.mi.removeTarget(t,i)})];case 2:a.sent(),a.label=3;case 3:return[3,5];case 4:if(!dl(o=a.sent()))throw o;return mo("LocalStore","Failed to update sequence numbers for target "+e+": "+o),[3,5];case 5:return r.dc=r.dc.remove(e),r.wc.delete(i.target),[2]}})})}function af(t,e,n){var r=Eo(t),i=Go.min(),s=dc();return r.persistence.runTransaction("Execute query","readonly",function(t){return function(t,e,n){var r=Eo(t),i=r.wc.get(n);return void 0!==i?ul.resolve(r.dc.get(i)):r.wo.nr(e,n)}(r,t,au(e)).next(function(e){if(e)return i=e.lastLimboFreeSnapshotVersion,r.wo.ar(t,e.targetId).next(function(t){s=t})}).next(function(){return r.fc.jr(t,e,n?i:Go.min(),n?s:dc())}).next(function(t){return{documents:t,Pc:s}})})}function uf(t,e){var n=Eo(t),r=Eo(n.wo),i=n.dc.get(e);return i?Promise.resolve(i.target):n.persistence.runTransaction("Get target data","readonly",function(t){return r.Dn(t,e).next(function(t){return t?t.target:null})})}function cf(t){var e=Eo(t);return e.persistence.runTransaction("Get new document changes","readonly",function(t){return function(t,e,n){var r=Eo(t),i=oc(),s=Zl(n),o=Fh(e),a=IDBKeyRange.lowerBound(s,!0);return o.ls({index:Dl.readTimeIndex,range:a},function(t,e){var n=Jl(r.Kt,e);i=i.Ht(n.key,n),s=e.readTime}).next(function(){return{gs:i,readTime:Yl(s)}})}(e.Tc,t,e.Ec)}).then(function(t){var n=t.gs;return e.Ec=t.readTime,n})}function lf(t){return Object(fo.b)(this,void 0,void 0,function(){var e;return Object(fo.d)(this,function(n){return[2,(e=Eo(t)).persistence.runTransaction("Synchronize last document change read time","readonly",function(t){return function(t){var e=Fh(t),n=Go.min();return e.ls({index:Dl.readTimeIndex,reverse:!0},function(t,e,r){e.readTime&&(n=Yl(e.readTime)),r.done()}).next(function(){return n})}(t)}).then(function(t){e.Ec=t})]})})}function hf(t,e,n,r){return Object(fo.b)(this,void 0,void 0,function(){var i,s,o,a,u,c,l,h,f,d;return Object(fo.d)(this,function(p){switch(p.label){case 0:for(i=Eo(t),s=dc(),o=oc(),a=hc(),u=0,c=n;u<c.length;u++)h=e.yc((l=c[u]).metadata.name),l.document&&(s=s.add(h)),o=o.Ht(h,e.gc(l)),a=a.Ht(h,e.Vc(l.metadata.readTime));return f=i.Tc.Or({Gr:!0}),[4,sf(i,function(t){return au(tu(Wo.ct("__bundle__/docs/"+t)))}(r))];case 1:return d=p.sent(),[2,i.persistence.runTransaction("Apply bundle documents","readwrite",function(t){return nf(t,f,o,Go.min(),a).next(function(e){return f.apply(t),e}).next(function(e){return i.wo.Zi(t,d.targetId).next(function(){return i.wo.sr(t,s,d.targetId)}).next(function(){return i.Ic.tc(t,e)})})})]}})})}function ff(t,e,n){return void 0===n&&(n=dc()),Object(fo.b)(this,void 0,void 0,function(){var r,i;return Object(fo.d)(this,function(s){switch(s.label){case 0:return[4,sf(t,au(ih(e.bundledQuery)))];case 1:return r=s.sent(),[2,(i=Eo(t)).persistence.runTransaction("Save named query","readwrite",function(t){var s=Dc(e.readTime);if(r.Mt.u(s)>=0)return i.To.qs(t,e);var o=r.$t(xo.h,s);return i.dc=i.dc.Ht(o.targetId,o),i.wo.Yi(t,o).next(function(){return i.wo.Zi(t,r.targetId)}).next(function(){return i.wo.sr(t,n,r.targetId)}).next(function(){return i.To.qs(t,e)})})]}})})}var df=function(){function t(t){this.Kt=t,this.bc=new Map,this.vc=new Map}return t.prototype.Ls=function(t,e){return ul.resolve(this.bc.get(e))},t.prototype.$s=function(t,e){var n;return this.bc.set(e.id,{id:(n=e).id,version:n.version,createTime:Dc(n.createTime)}),ul.resolve()},t.prototype.Bs=function(t,e){return ul.resolve(this.vc.get(e))},t.prototype.qs=function(t,e){return this.vc.set(e.name,function(t){return{name:t.name,query:ih(t.bundledQuery),readTime:Dc(t.readTime)}}(e)),ul.resolve()},t}(),pf=function(){function t(){this.Sc=new rc(gf.Dc),this.Cc=new rc(gf.xc)}return t.prototype.nt=function(){return this.Sc.nt()},t.prototype.ir=function(t,e){var n=new gf(t,e);this.Sc=this.Sc.add(n),this.Cc=this.Cc.add(n)},t.prototype.Nc=function(t,e){var n=this;t.forEach(function(t){return n.ir(t,e)})},t.prototype.cr=function(t,e){this.Fc(new gf(t,e))},t.prototype.Oc=function(t,e){var n=this;t.forEach(function(t){return n.cr(t,e)})},t.prototype.kc=function(t){var e=this,n=new Zo(new Wo([])),r=new gf(n,t),i=new gf(n,t+1),s=[];return this.Cc.Ae([r,i],function(t){e.Fc(t),s.push(t.key)}),s},t.prototype.Mc=function(){var t=this;this.Sc.forEach(function(e){return t.Fc(e)})},t.prototype.Fc=function(t){this.Sc=this.Sc.delete(t),this.Cc=this.Cc.delete(t)},t.prototype.Lc=function(t){var e=new Zo(new Wo([])),n=new gf(e,t),r=new gf(e,t+1),i=dc();return this.Cc.Ae([n,r],function(t){i=i.add(t.key)}),i},t.prototype.Mi=function(t){var e=new gf(t,0),n=this.Sc.Pe(e);return null!==n&&t.isEqual(n.key)},t}(),gf=function(){function t(t,e){this.key=t,this.$c=e}return t.Dc=function(t,e){return Zo.J(t.key,e.key)||Co(t.$c,e.$c)},t.xc=function(t,e){return Co(t.$c,e.$c)||Zo.J(t.key,e.key)},t}(),mf=function(){function t(t,e){this.Ii=t,this.mi=e,this.Ho=[],this.Bc=1,this.qc=new rc(gf.Dc)}return t.prototype.Pi=function(t){return ul.resolve(0===this.Ho.length)},t.prototype.yi=function(t,e,n,r){var i=this.Bc;this.Bc++;var s=new Gl(i,e,n,r);this.Ho.push(s);for(var o=0,a=r;o<a.length;o++){var u=a[o];this.qc=this.qc.add(new gf(u.key,i)),this.Ii.Qs(t,u.key.path.Z())}return ul.resolve(s)},t.prototype.gi=function(t,e){return ul.resolve(this.Uc(e))},t.prototype.pi=function(t,e){var n=this.Qc(e+1),r=n<0?0:n;return ul.resolve(this.Ho.length>r?this.Ho[r]:null)},t.prototype.bi=function(){return ul.resolve(0===this.Ho.length?-1:this.Bc-1)},t.prototype.vi=function(t){return ul.resolve(this.Ho.slice())},t.prototype.Si=function(t,e){var n=this,r=new gf(e,0),i=new gf(e,Number.POSITIVE_INFINITY),s=[];return this.qc.Ae([r,i],function(t){var e=n.Uc(t.$c);s.push(e)}),ul.resolve(s)},t.prototype.Di=function(t,e){var n=this,r=new rc(Co);return e.forEach(function(t){var e=new gf(t,0),i=new gf(t,Number.POSITIVE_INFINITY);n.qc.Ae([e,i],function(t){r=r.add(t.$c)})}),ul.resolve(this.Kc(r))},t.prototype.xi=function(t,e){var n=e.path,r=n.length+1,i=n;Zo.Et(i)||(i=i.child(""));var s=new gf(new Zo(i),0),o=new rc(Co);return this.qc.Re(function(t){var e=t.key.path;return!!n.st(e)&&(e.length===r&&(o=o.add(t.$c)),!0)},s),ul.resolve(this.Kc(o))},t.prototype.Kc=function(t){var e=this,n=[];return t.forEach(function(t){var r=e.Uc(t);null!==r&&n.push(r)}),n},t.prototype.Ni=function(t,e){var n=this;wo(0===this.Wc(e.batchId,"removed")),this.Ho.shift();var r=this.qc;return ul.forEach(e.mutations,function(i){var s=new gf(i.key,e.batchId);return r=r.delete(s),n.mi.Oi(t,i.key)}).next(function(){n.qc=r})},t.prototype.Fi=function(t){},t.prototype.Mi=function(t,e){var n=new gf(e,0),r=this.qc.Pe(n);return ul.resolve(e.isEqual(r&&r.key))},t.prototype.ki=function(t){return ul.resolve()},t.prototype.Wc=function(t,e){return this.Qc(t)},t.prototype.Qc=function(t){return 0===this.Ho.length?0:t-this.Ho[0].batchId},t.prototype.Uc=function(t){var e=this.Qc(t);return e<0||e>=this.Ho.length?null:this.Ho[e]},t}(),yf=function(){function t(t,e){this.Ii=t,this.jc=e,this.docs=new tc(Zo.J),this.size=0}return t.prototype.hi=function(t,e,n){var r=e.key,i=this.docs.get(r),s=i?i.size:0,o=this.jc(e);return this.docs=this.docs.Ht(r,{_i:e,size:o,readTime:n}),this.size+=o-s,this.Ii.Qs(t,r.path.Z())},t.prototype.fi=function(t){var e=this.docs.get(t);e&&(this.docs=this.docs.remove(t),this.size-=e.size)},t.prototype.di=function(t,e){var n=this.docs.get(e);return ul.resolve(n?n._i:null)},t.prototype.getEntries=function(t,e){var n=this,r=ac();return e.forEach(function(t){var e=n.docs.get(t);r=r.Ht(t,e?e._i:null)}),ul.resolve(r)},t.prototype.jr=function(t,e,n){for(var r=cc(),i=new Zo(e.path.child("")),s=this.docs.ne(i);s.ae();){var o=s.ce(),a=o.value,u=a._i,c=a.readTime;if(!e.path.st(o.key.path))break;c.u(n)<=0||u instanceof Aa&&fu(e,u)&&(r=r.Ht(u.key,u))}return ul.resolve(r)},t.prototype.Gc=function(t,e){return ul.forEach(this.docs,function(t){return e(t)})},t.prototype.Or=function(t){return new vf(this)},t.prototype.Lr=function(t){return ul.resolve(this.size)},t}(),vf=function(t){function e(e){var n=this;return(n=t.call(this)||this).zr=e,n}return Object(fo.c)(e,t),e.prototype.Ti=function(t){var e=this,n=[];return this.ci.forEach(function(r,i){i&&i._i?n.push(e.zr.hi(t,i._i,e.ui(r))):e.zr.fi(r)}),ul.$n(n)},e.prototype.wi=function(t,e){return this.zr.di(t,e)},e.prototype.Ei=function(t,e){return this.zr.getEntries(t,e)},e}(mh),bf=function(){function t(t){this.persistence=t,this.zc=new gh(function(t){return Da(t)},Ra),this.lastRemoteSnapshotVersion=Go.min(),this.highestTargetId=0,this.Hc=0,this.Jc=new pf,this.targetCount=0,this.Yc=Sh.Bi()}return t.prototype.mn=function(t,e){return this.zc.forEach(function(t,n){return e(n)}),ul.resolve()},t.prototype.Wi=function(t){return ul.resolve(this.lastRemoteSnapshotVersion)},t.prototype.ji=function(t){return ul.resolve(this.Hc)},t.prototype.Ui=function(t){return this.highestTargetId=this.Yc.next(),ul.resolve(this.highestTargetId)},t.prototype.Gi=function(t,e,n){return n&&(this.lastRemoteSnapshotVersion=n),e>this.Hc&&(this.Hc=e),ul.resolve()},t.prototype.Hi=function(t){this.zc.set(t.target,t);var e=t.targetId;e>this.highestTargetId&&(this.Yc=new Sh(e),this.highestTargetId=e),t.sequenceNumber>this.Hc&&(this.Hc=t.sequenceNumber)},t.prototype.zi=function(t,e){return this.Hi(e),this.targetCount+=1,ul.resolve()},t.prototype.Yi=function(t,e){return this.Hi(e),ul.resolve()},t.prototype.Xi=function(t,e){return this.zc.delete(e.target),this.Jc.kc(e.targetId),this.targetCount-=1,ul.resolve()},t.prototype.tr=function(t,e,n){var r=this,i=0,s=[];return this.zc.forEach(function(o,a){a.sequenceNumber<=e&&null===n.get(a.targetId)&&(r.zc.delete(o),s.push(r.Zi(t,a.targetId)),i++)}),ul.$n(s).next(function(){return i})},t.prototype.er=function(t){return ul.resolve(this.targetCount)},t.prototype.nr=function(t,e){var n=this.zc.get(e)||null;return ul.resolve(n)},t.prototype.sr=function(t,e,n){return this.Jc.Nc(e,n),ul.resolve()},t.prototype.rr=function(t,e,n){this.Jc.Oc(e,n);var r=this.persistence.mi,i=[];return r&&e.forEach(function(e){i.push(r.Oi(t,e))}),ul.$n(i)},t.prototype.Zi=function(t,e){return this.Jc.kc(e),ul.resolve()},t.prototype.ar=function(t,e){var n=this.Jc.Lc(e);return ul.resolve(n)},t.prototype.Mi=function(t,e){return ul.resolve(this.Jc.Mi(e))},t}(),_f=function(){function t(t,e){var n=this;this.Xc={},this.ro=new Ko(0),this.oo=!1,this.oo=!0,this.mi=t(this),this.wo=new bf(this),this.Ii=new uh,this.Eo=function(t,e){return new yf(t,function(t){return n.mi.Zc(t)})}(this.Ii),this.Kt=new Wl(e),this.To=new df(this.Kt)}return t.prototype.start=function(){return Promise.resolve()},t.prototype.$o=function(){return this.oo=!1,Promise.resolve()},Object.defineProperty(t.prototype,"Ir",{get:function(){return this.oo},enumerable:!1,configurable:!0}),t.prototype.Vo=function(){},t.prototype.po=function(){},t.prototype.jo=function(){return this.Ii},t.prototype.Wo=function(t){var e=this.Xc[t.R()];return e||(e=new mf(this.Ii,this.mi),this.Xc[t.R()]=e),e},t.prototype.Cr=function(){return this.wo},t.prototype.kr=function(){return this.Eo},t.prototype.Go=function(){return this.To},t.prototype.runTransaction=function(t,e,n){var r=this;mo("MemoryPersistence","Starting transaction:",t);var i=new wf(this.ro.next());return this.mi.ta(),n(i).next(function(t){return r.mi.ea(i).next(function(){return t})}).Mn().then(function(t){return i.bs(),t})},t.prototype.na=function(t,e){return ul.Bn(Object.values(this.Xc).map(function(n){return function(){return n.Mi(t,e)}}))},t}(),wf=function(t){function e(e){var n=this;return(n=t.call(this)||this).Ss=e,n}return Object(fo.c)(e,t),e}(El),Ef=function(){function t(t){this.persistence=t,this.sa=new pf,this.ia=null}return t.ra=function(e){return new t(e)},Object.defineProperty(t.prototype,"oa",{get:function(){if(this.ia)return this.ia;throw _o()},enumerable:!1,configurable:!0}),t.prototype.ir=function(t,e,n){return this.sa.ir(n,e),this.oa.delete(n.toString()),ul.resolve()},t.prototype.cr=function(t,e,n){return this.sa.cr(n,e),this.oa.add(n.toString()),ul.resolve()},t.prototype.Oi=function(t,e){return this.oa.add(e.toString()),ul.resolve()},t.prototype.removeTarget=function(t,e){var n=this;this.sa.kc(e.targetId).forEach(function(t){return n.oa.add(t.toString())});var r=this.persistence.Cr();return r.ar(t,e.targetId).next(function(t){t.forEach(function(t){return n.oa.add(t.toString())})}).next(function(){return r.Xi(t,e)})},t.prototype.ta=function(){this.ia=new Set},t.prototype.ea=function(t){var e=this,n=this.persistence.kr().Or();return ul.forEach(this.oa,function(r){var i=Zo.ft(r);return e.ca(t,i).next(function(t){t||n.fi(i)})}).next(function(){return e.ia=null,n.apply(t)})},t.prototype.Mr=function(t,e){var n=this;return this.ca(t,e).next(function(t){t?n.oa.delete(e.toString()):n.oa.add(e.toString())})},t.prototype.Zc=function(t){return 0},t.prototype.ca=function(t,e){var n=this;return ul.Bn([function(){return ul.resolve(n.sa.Mi(e))},function(){return n.persistence.Cr().Mi(t,e)},function(){return n.persistence.na(t,e)}])},t}();function Of(t,e){return"firestore_clients_"+t+"_"+e}function Sf(t,e,n){var r="firestore_mutations_"+t+"_"+n;return e.A()&&(r+="_"+e.uid),r}function Cf(t,e){return"firestore_targets_"+t+"_"+e}var Tf=function(){function t(t,e,n,r){this.user=t,this.batchId=e,this.state=n,this.error=r}return t.aa=function(e,n,r){var i=JSON.parse(r),s="object"==typeof i&&-1!==["pending","acknowledged","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error),o=void 0;return s&&i.error&&(s="string"==typeof i.error.message&&"string"==typeof i.error.code)&&(o=new jo(i.error.code,i.error.message)),s?new t(e,n,i.state,o):(yo("SharedClientState","Failed to parse mutation state for ID '"+n+"': "+r),null)},t.prototype.ua=function(){var t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)},t}(),If=function(){function t(t,e,n){this.targetId=t,this.state=e,this.error=n}return t.aa=function(e,n){var r=JSON.parse(n),i="object"==typeof r&&-1!==["not-current","current","rejected"].indexOf(r.state)&&(void 0===r.error||"object"==typeof r.error),s=void 0;return i&&r.error&&(i="string"==typeof r.error.message&&"string"==typeof r.error.code)&&(s=new jo(r.error.code,r.error.message)),i?new t(e,r.state,s):(yo("SharedClientState","Failed to parse target state for ID '"+e+"': "+n),null)},t.prototype.ua=function(){var t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)},t}(),xf=function(){function t(t,e){this.clientId=t,this.activeTargetIds=e}return t.aa=function(e,n){for(var r=JSON.parse(n),i="object"==typeof r&&r.activeTargetIds instanceof Array,s=gc(),o=0;i&&o<r.activeTargetIds.length;++o)i=ha(r.activeTargetIds[o]),s=s.add(r.activeTargetIds[o]);return i?new t(e,s):(yo("SharedClientState","Failed to parse client data for instance '"+e+"': "+n),null)},t}(),Af=function(){function t(t,e){this.clientId=t,this.onlineState=e}return t.aa=function(e){var n=JSON.parse(e);return"object"==typeof n&&-1!==["Unknown","Online","Offline"].indexOf(n.onlineState)&&"string"==typeof n.clientId?new t(n.clientId,n.onlineState):(yo("SharedClientState","Failed to parse online state: "+e),null)},t}(),jf=function(){function t(){this.activeTargetIds=gc()}return t.prototype.ha=function(t){this.activeTargetIds=this.activeTargetIds.add(t)},t.prototype.la=function(t){this.activeTargetIds=this.activeTargetIds.delete(t)},t.prototype.ua=function(){var t={activeTargetIds:this.activeTargetIds.rt(),updateTimeMs:Date.now()};return JSON.stringify(t)},t}(),kf=function(){function t(t,e,n,r,i){this.window=t,this.no=e,this.persistenceKey=n,this._a=r,this.fa=null,this.da=null,this.L=null,this.wa=this.Ea.bind(this),this.Ta=new tc(Co),this.Ir=!1,this.Ia=[];var s=n.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=i,this.ma=Of(this.persistenceKey,this._a),this.Aa=function(t){return"firestore_sequence_number_"+t}(this.persistenceKey),this.Ta=this.Ta.Ht(this._a,new jf),this.Ra=new RegExp("^firestore_clients_"+s+"_([^_]*)$"),this.Pa=new RegExp("^firestore_mutations_"+s+"_(\\d+)(?:_(.*))?$"),this.ya=new RegExp("^firestore_targets_"+s+"_(\\d+)$"),this.ga=function(t){return"firestore_online_state_"+t}(this.persistenceKey),this.Va=function(t){return"firestore_bundle_loaded_"+t}(this.persistenceKey),this.window.addEventListener("storage",this.wa)}return t.Wn=function(t){return!(!t||!t.localStorage)},t.prototype.start=function(){return Object(fo.b)(this,void 0,void 0,function(){var t,e,n,r,i,s,o,a,u,c,l=this;return Object(fo.d)(this,function(h){switch(h.label){case 0:return[4,this.fa.Ko()];case 1:for(t=h.sent(),e=0,n=t;e<n.length;e++)(r=n[e])!==this._a&&(i=this.getItem(Of(this.persistenceKey,r)))&&(s=xf.aa(r,i))&&(this.Ta=this.Ta.Ht(s.clientId,s));for(this.pa(),(o=this.storage.getItem(this.ga))&&(a=this.ba(o))&&this.va(a),u=0,c=this.Ia;u<c.length;u++)this.Ea(c[u]);return this.Ia=[],this.window.addEventListener("unload",function(){return l.$o()}),this.Ir=!0,[2]}})})},t.prototype.q=function(t){this.setItem(this.Aa,JSON.stringify(t))},t.prototype.Sa=function(){return this.Da(this.Ta)},t.prototype.Ca=function(t){var e=!1;return this.Ta.forEach(function(n,r){r.activeTargetIds.has(t)&&(e=!0)}),e},t.prototype.xa=function(t){this.Na(t,"pending")},t.prototype.Fa=function(t,e,n){this.Na(t,e,n),this.Oa(t)},t.prototype.ka=function(t){var e="not-current";if(this.Ca(t)){var n=this.storage.getItem(Cf(this.persistenceKey,t));if(n){var r=If.aa(t,n);r&&(e=r.state)}}return this.Ma.ha(t),this.pa(),e},t.prototype.La=function(t){this.Ma.la(t),this.pa()},t.prototype.$a=function(t){return this.Ma.activeTargetIds.has(t)},t.prototype.Ba=function(t){this.removeItem(Cf(this.persistenceKey,t))},t.prototype.qa=function(t,e,n){this.Ua(t,e,n)},t.prototype.Qa=function(t,e,n){var r=this;e.forEach(function(t){r.Oa(t)}),this.currentUser=t,n.forEach(function(t){r.xa(t)})},t.prototype.Ka=function(t){this.Wa(t)},t.prototype.ja=function(){this.Ga()},t.prototype.$o=function(){this.Ir&&(this.window.removeEventListener("storage",this.wa),this.removeItem(this.ma),this.Ir=!1)},t.prototype.getItem=function(t){var e=this.storage.getItem(t);return mo("SharedClientState","READ",t,e),e},t.prototype.setItem=function(t,e){mo("SharedClientState","SET",t,e),this.storage.setItem(t,e)},t.prototype.removeItem=function(t){mo("SharedClientState","REMOVE",t),this.storage.removeItem(t)},t.prototype.Ea=function(t){var e=this,n=t;if(n.storageArea===this.storage){if(mo("SharedClientState","EVENT",n.key,n.newValue),n.key===this.ma)return void yo("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.no.vo(function(){return Object(fo.b)(e,void 0,void 0,function(){var t,e,r,i,s,o;return Object(fo.d)(this,function(a){if(this.Ir){if(null!==n.key)if(this.Ra.test(n.key)){if(null==n.newValue)return t=this.za(n.key),[2,this.Ha(t,null)];if(e=this.Ja(n.key,n.newValue))return[2,this.Ha(e.clientId,e)]}else if(this.Pa.test(n.key)){if(null!==n.newValue&&(r=this.Ya(n.key,n.newValue)))return[2,this.Xa(r)]}else if(this.ya.test(n.key)){if(null!==n.newValue&&(i=this.Za(n.key,n.newValue)))return[2,this.tu(i)]}else if(n.key===this.ga){if(null!==n.newValue&&(s=this.ba(n.newValue)))return[2,this.va(s)]}else if(n.key===this.Aa)(o=function(t){var e=Ko.U;if(null!=t)try{var n=JSON.parse(t);wo("number"==typeof n),e=n}catch(t){yo("SharedClientState","Failed to read sequence number from WebStorage",t)}return e}(n.newValue))!==Ko.U&&this.L(o);else if(n.key===this.Va)return[2,this.fa.eu()]}else this.Ia.push(n);return[2]})})})}},Object.defineProperty(t.prototype,"Ma",{get:function(){return this.Ta.get(this._a)},enumerable:!1,configurable:!0}),t.prototype.pa=function(){this.setItem(this.ma,this.Ma.ua())},t.prototype.Na=function(t,e,n){var r=new Tf(this.currentUser,t,e,n),i=Sf(this.persistenceKey,this.currentUser,t);this.setItem(i,r.ua())},t.prototype.Oa=function(t){var e=Sf(this.persistenceKey,this.currentUser,t);this.removeItem(e)},t.prototype.Wa=function(t){this.storage.setItem(this.ga,JSON.stringify({clientId:this._a,onlineState:t}))},t.prototype.Ua=function(t,e,n){var r=Cf(this.persistenceKey,t),i=new If(t,e,n);this.setItem(r,i.ua())},t.prototype.Ga=function(){this.setItem(this.Va,"value-not-used")},t.prototype.za=function(t){var e=this.Ra.exec(t);return e?e[1]:null},t.prototype.Ja=function(t,e){var n=this.za(t);return xf.aa(n,e)},t.prototype.Ya=function(t,e){var n=this.Pa.exec(t),r=Number(n[1]);return Tf.aa(new Fo(void 0!==n[2]?n[2]:null),r,e)},t.prototype.Za=function(t,e){var n=this.ya.exec(t),r=Number(n[1]);return If.aa(r,e)},t.prototype.ba=function(t){return Af.aa(t)},t.prototype.Xa=function(t){return Object(fo.b)(this,void 0,void 0,function(){return Object(fo.d)(this,function(e){return t.user.uid===this.currentUser.uid?[2,this.fa.nu(t.batchId,t.state,t.error)]:(mo("SharedClientState","Ignoring mutation for non-active user "+t.user.uid),[2])})})},t.prototype.tu=function(t){return this.fa.su(t.targetId,t.state,t.error)},t.prototype.Ha=function(t,e){var n=this,r=e?this.Ta.Ht(t,e):this.Ta.remove(t),i=this.Da(this.Ta),s=this.Da(r),o=[],a=[];return s.forEach(function(t){i.has(t)||o.push(t)}),i.forEach(function(t){s.has(t)||a.push(t)}),this.fa.iu(o,a).then(function(){n.Ta=r})},t.prototype.va=function(t){this.Ta.get(t.clientId)&&this.da(t.onlineState)},t.prototype.Da=function(t){var e=gc();return t.forEach(function(t,n){e=e.ye(n.activeTargetIds)}),e},t}(),Nf=function(){function t(){this.ru=new jf,this.ou={},this.da=null,this.L=null}return t.prototype.xa=function(t){},t.prototype.Fa=function(t,e,n){},t.prototype.ka=function(t){return this.ru.ha(t),this.ou[t]||"not-current"},t.prototype.qa=function(t,e,n){this.ou[t]=e},t.prototype.La=function(t){this.ru.la(t)},t.prototype.$a=function(t){return this.ru.activeTargetIds.has(t)},t.prototype.Ba=function(t){delete this.ou[t]},t.prototype.Sa=function(){return this.ru.activeTargetIds},t.prototype.Ca=function(t){return this.ru.activeTargetIds.has(t)},t.prototype.start=function(){return this.ru=new jf,Promise.resolve()},t.prototype.Qa=function(t,e,n){},t.prototype.Ka=function(t){},t.prototype.$o=function(){},t.prototype.q=function(t){},t.prototype.ja=function(){},t}(),Pf=function(){function t(){}return t.prototype.cu=function(t){},t.prototype.$o=function(){},t}(),Df=function(){function t(){var t=this;this.au=function(){return t.uu()},this.hu=function(){return t.lu()},this._u=[],this.fu()}return t.prototype.cu=function(t){this._u.push(t)},t.prototype.$o=function(){window.removeEventListener("online",this.au),window.removeEventListener("offline",this.hu)},t.prototype.fu=function(){window.addEventListener("online",this.au),window.addEventListener("offline",this.hu)},t.prototype.uu=function(){mo("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(var t=0,e=this._u;t<e.length;t++)(0,e[t])(0)},t.prototype.lu=function(){mo("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(var t=0,e=this._u;t<e.length;t++)(0,e[t])(1)},t.Wn=function(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener},t}(),Rf={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"},Lf=function(){function t(t){this.du=t.du,this.wu=t.wu}return t.prototype.Eu=function(t){this.Tu=t},t.prototype.Iu=function(t){this.mu=t},t.prototype.onMessage=function(t){this.Au=t},t.prototype.close=function(){this.wu()},t.prototype.send=function(t){this.du(t)},t.prototype.Ru=function(){this.Tu()},t.prototype.Pu=function(t){this.mu(t)},t.prototype.yu=function(t){this.Au(t)},t}(),Mf=function(t){function e(e){var n=this;return(n=t.call(this,e)||this).forceLongPolling=e.forceLongPolling,n.I=e.I,n}return Object(fo.c)(e,t),e.prototype.Du=function(t,e,n,r){return new Promise(function(i,s){var o=new ho;o.listenOnce(uo.COMPLETE,function(){try{switch(o.getLastErrorCode()){case ao.NO_ERROR:var e=o.getResponseJson();mo("Connection","XHR received:",JSON.stringify(e)),i(e);break;case ao.TIMEOUT:mo("Connection",'RPC "'+t+'" timed out'),s(new jo(Ao.DEADLINE_EXCEEDED,"Request time out"));break;case ao.HTTP_ERROR:var n=o.getStatus();if(mo("Connection",'RPC "'+t+'" failed with status:',n,"response text:",o.getResponseText()),n>0){var r=o.getResponseJson().error;if(r&&r.status&&r.message){var a=function(t){var e=t.toLowerCase().replace(/_/g,"-");return Object.values(Ao).indexOf(e)>=0?e:Ao.UNKNOWN}(r.status);s(new jo(a,r.message))}else s(new jo(Ao.UNKNOWN,"Server responded with status "+o.getStatus()))}else s(new jo(Ao.UNAVAILABLE,"Connection failed."));break;default:_o()}}finally{mo("Connection",'RPC "'+t+'" completed.')}});var a=JSON.stringify(r);o.send(e,"POST",a,n,15)})},e.prototype.xu=function(t,e){var n=[this.Vu,"/","google.firestore.v1.Firestore","/",t,"/channel"],r=new no,i=si(),s={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/"+this.T.projectId+"/databases/"+this.T.database},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.I};this.Su(s.initMessageHeaders,e),Object(ln.l)()||Object(ln.n)()||Object(ln.j)()||Object(ln.k)()||Object(ln.o)()||Object(ln.i)()||(s.httpHeadersOverwriteParam="$httpHeaders");var o=n.join("");mo("Connection","Creating WebChannel: "+o,s);var a=r.createWebChannel(o,s),u=!1,c=!1,l=new Lf({du:function(t){c?mo("Connection","Not sending because WebChannel is closed:",t):(u||(mo("Connection","Opening WebChannel transport."),a.open(),u=!0),mo("Connection","WebChannel sending:",t),a.send(t))},wu:function(){return a.close()}}),h=function(t,e,n){t.listen(e,function(t){try{n(t)}catch(t){setTimeout(function(){throw t},0)}})};return h(a,lo.EventType.OPEN,function(){c||mo("Connection","WebChannel transport opened.")}),h(a,lo.EventType.CLOSE,function(){c||(c=!0,mo("Connection","WebChannel transport closed"),l.Pu())}),h(a,lo.EventType.ERROR,function(t){c||(c=!0,vo("Connection","WebChannel transport errored:",t),l.Pu(new jo(Ao.UNAVAILABLE,"The operation could not be completed")))}),h(a,lo.EventType.MESSAGE,function(t){var e;if(!c){var n=t.data[0];wo(!!n);var r=n.error||(null===(e=n[0])||void 0===e?void 0:e.error);if(r){mo("Connection","WebChannel received error:",r);var i=r.status,s=function(t){var e=$u[t];if(void 0!==e)return Xu(e)}(i),o=r.message;void 0===s&&(s=Ao.INTERNAL,o="Unknown error status: "+i+" with message "+r.message),c=!0,l.Pu(new jo(s,o)),a.close()}else mo("Connection","WebChannel received:",n),l.yu(n)}}),h(i,co.STAT_EVENT,function(t){10===t.stat?mo("Connection","Detected buffering proxy"):11===t.stat&&mo("Connection","Detected no buffering proxy")}),setTimeout(function(){l.Ru()},0),l},e}(function(){function t(t){this.gu=t,this.T=t.T,this.Vu=(t.ssl?"https":"http")+"://"+t.host,this.pu="projects/"+this.T.projectId+"/databases/"+this.T.database+"/documents"}return t.prototype.bu=function(t,e,n,r){var i=this.vu(t,e);mo("RestConnection","Sending: ",i,n);var s={};return this.Su(s,r),this.Du(t,i,s,n).then(function(t){return mo("RestConnection","Received: ",t),t},function(e){throw vo("RestConnection",t+" failed with error: ",e,"url: ",i,"request:",n),e})},t.prototype.Cu=function(t,e,n,r){return this.bu(t,e,n,r)},t.prototype.Su=function(t,e){if(t["X-Goog-Api-Client"]="gl-js/ fire/8.2.1",t["Content-Type"]="text/plain",e)for(var n in e.V)e.V.hasOwnProperty(n)&&(t[n]=e.V[n])},t.prototype.vu=function(t,e){return this.Vu+"/v1/"+e+":"+Rf[t]},t}());function Ff(){return"undefined"!=typeof window?window:null}function Vf(){return"undefined"!=typeof document?document:null}function Uf(t){return new jc(t,!0)}var qf=function(){function t(t,e,n,r,i){void 0===n&&(n=1e3),void 0===r&&(r=1.5),void 0===i&&(i=6e4),this.no=t,this.ds=e,this.Nu=n,this.Fu=r,this.Ou=i,this.ku=0,this.Mu=null,this.Lu=Date.now(),this.reset()}return t.prototype.reset=function(){this.ku=0},t.prototype.$u=function(){this.ku=this.Ou},t.prototype.Bu=function(t){var e=this;this.cancel();var n=Math.floor(this.ku+this.qu()),r=Math.max(0,Date.now()-this.Lu),i=Math.max(0,n-r);i>0&&mo("ExponentialBackoff","Backing off for "+i+" ms (base delay: "+this.ku+" ms, delay with jitter: "+n+" ms, last attempt: "+r+" ms ago)"),this.Mu=this.no.mr(this.ds,i,function(){return e.Lu=Date.now(),t()}),this.ku*=this.Fu,this.ku<this.Nu&&(this.ku=this.Nu),this.ku>this.Ou&&(this.ku=this.Ou)},t.prototype.Uu=function(){null!==this.Mu&&(this.Mu.Ps(),this.Mu=null)},t.prototype.cancel=function(){null!==this.Mu&&(this.Mu.cancel(),this.Mu=null)},t.prototype.qu=function(){return(Math.random()-.5)*this.ku},t}(),Hf=function(){function t(t,e,n,r,i,s){this.no=t,this.Qu=n,this.Ku=r,this.Wu=i,this.listener=s,this.state=0,this.ju=0,this.Gu=null,this.stream=null,this.zu=new qf(t,e)}return t.prototype.Hu=function(){return 1===this.state||2===this.state||4===this.state},t.prototype.Ju=function(){return 2===this.state},t.prototype.start=function(){3!==this.state?this.auth():this.Yu()},t.prototype.stop=function(){return Object(fo.b)(this,void 0,void 0,function(){return Object(fo.d)(this,function(t){switch(t.label){case 0:return this.Hu()?[4,this.close(0)]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}})})},t.prototype.Xu=function(){this.state=0,this.zu.reset()},t.prototype.Zu=function(){var t=this;this.Ju()&&null===this.Gu&&(this.Gu=this.no.mr(this.Qu,6e4,function(){return t.th()}))},t.prototype.eh=function(t){this.nh(),this.stream.send(t)},t.prototype.th=function(){return Object(fo.b)(this,void 0,void 0,function(){return Object(fo.d)(this,function(t){return this.Ju()?[2,this.close(0)]:[2]})})},t.prototype.nh=function(){this.Gu&&(this.Gu.cancel(),this.Gu=null)},t.prototype.close=function(t,e){return Object(fo.b)(this,void 0,void 0,function(){return Object(fo.d)(this,function(n){switch(n.label){case 0:return this.nh(),this.zu.cancel(),this.ju++,3!==t?this.zu.reset():e&&e.code===Ao.RESOURCE_EXHAUSTED?(yo(e.toString()),yo("Using maximum backoff delay to prevent overloading the backend."),this.zu.$u()):e&&e.code===Ao.UNAUTHENTICATED&&this.Wu.v(),null!==this.stream&&(this.sh(),this.stream.close(),this.stream=null),this.state=t,[4,this.listener.Iu(e)];case 1:return n.sent(),[2]}})})},t.prototype.sh=function(){},t.prototype.auth=function(){var t=this;this.state=1;var e=this.ih(this.ju),n=this.ju;this.Wu.getToken().then(function(e){t.ju===n&&t.rh(e)},function(n){e(function(){var e=new jo(Ao.UNKNOWN,"Fetching auth token failed: "+n.message);return t.oh(e)})})},t.prototype.rh=function(t){var e=this,n=this.ih(this.ju);this.stream=this.ah(t),this.stream.Eu(function(){n(function(){return e.state=2,e.listener.Eu()})}),this.stream.Iu(function(t){n(function(){return e.oh(t)})}),this.stream.onMessage(function(t){n(function(){return e.onMessage(t)})})},t.prototype.Yu=function(){var t=this;this.state=4,this.zu.Bu(function(){return Object(fo.b)(t,void 0,void 0,function(){return Object(fo.d)(this,function(t){return this.state=0,this.start(),[2]})})})},t.prototype.oh=function(t){return mo("PersistentStream","close with error: "+t),this.stream=null,this.close(3,t)},t.prototype.ih=function(t){var e=this;return function(n){e.no.ys(function(){return e.ju===t?n():(mo("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())})}},t}(),zf=function(t){function e(e,n,r,i,s){var o=this;return(o=t.call(this,e,"listen_stream_connection_backoff","listen_stream_idle",n,r,s)||this).Kt=i,o}return Object(fo.c)(e,t),e.prototype.ah=function(t){return this.Ku.xu("Listen",t)},e.prototype.onMessage=function(t){this.zu.reset();var e=function(t,e){var n;if("targetChange"in e){var r=function(t){return"NO_CHANGE"===t?0:"ADD"===t?1:"REMOVE"===t?2:"CURRENT"===t?3:"RESET"===t?4:_o()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],s=function(t,e){return t.qt?(wo(void 0===e||"string"==typeof e),xo.fromBase64String(e||"")):(wo(void 0===e||e instanceof Uint8Array),xo.fromUint8Array(e||new Uint8Array))}(t,e.targetChange.resumeToken),o=(a=e.targetChange.cause)&&function(t){var e=void 0===t.code?Ao.UNKNOWN:Xu(t.code);return new jo(e,t.message||"")}(a);n=new Oc(r,i,s,o||null)}else if("documentChange"in e){i=Fc(t,(r=e.documentChange).document.name),s=Dc(r.document.updateTime);var a=new Ca({mapValue:{fields:r.document.fields}}),u=(o=new Aa(i,s,a,{}),r.targetIds||[]);n=new wc(u,r.removedTargetIds||[],o.key,o)}else if("documentDelete"in e)i=Fc(t,(r=e.documentDelete).document),s=r.readTime?Dc(r.readTime):Go.min(),a=new ja(i,s),n=new wc([],o=r.removedTargetIds||[],a.key,a);else if("documentRemove"in e)i=Fc(t,(r=e.documentRemove).document),n=new wc([],s=r.removedTargetIds||[],i,null);else{if(!("filter"in e))return _o();var c=e.filter;i=new Zu(r=c.count||0),n=new Ec(s=c.targetId,i)}return n}(this.Kt,t),n=function(t){if(!("targetChange"in t))return Go.min();var e=t.targetChange;return e.targetIds&&e.targetIds.length?Go.min():e.readTime?Dc(e.readTime):Go.min()}(t);return this.listener.uh(e,n)},e.prototype.hh=function(t){var e={};e.database=qc(this.Kt),e.addTarget=function(t,e){var n,r=e.target;return(n=La(r)?{documents:$c(t,r)}:{query:Wc(t,r)}).targetId=e.targetId,e.resumeToken.o()>0?n.resumeToken=Nc(t,e.resumeToken):e.Mt.u(Go.min())>0&&(n.readTime=kc(t,e.Mt.G())),n}(this.Kt,t);var n=function(t,e){var n=function(t,e){switch(e){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return _o()}}(0,e.kt);return null==n?null:{"goog-listen-tags":n}}(0,t);n&&(e.labels=n),this.eh(e)},e.prototype.lh=function(t){var e={};e.database=qc(this.Kt),e.removeTarget=t,this.eh(e)},e}(Hf),Kf=function(t){function e(e,n,r,i,s){var o=this;return(o=t.call(this,e,"write_stream_connection_backoff","write_stream_idle",n,r,s)||this).Kt=i,o._h=!1,o}return Object(fo.c)(e,t),Object.defineProperty(e.prototype,"fh",{get:function(){return this._h},enumerable:!1,configurable:!0}),e.prototype.start=function(){this._h=!1,this.lastStreamToken=void 0,t.prototype.start.call(this)},e.prototype.sh=function(){this._h&&this.dh([])},e.prototype.ah=function(t){return this.Ku.xu("Write",t)},e.prototype.onMessage=function(t){if(wo(!!t.streamToken),this.lastStreamToken=t.streamToken,this._h){this.zu.reset();var e=function(t,e){return t&&t.length>0?(wo(void 0!==e),t.map(function(t){return function(t,e){var n=Dc(t.updateTime?t.updateTime:e);n.isEqual(Go.min())&&(n=Dc(e));var r=null;return t.transformResults&&t.transformResults.length>0&&(r=t.transformResults),new Nu(n,r)}(t,e)})):[]}(t.writeResults,t.commitTime),n=Dc(t.commitTime);return this.listener.wh(n,e)}return wo(!t.writeResults||0===t.writeResults.length),this._h=!0,this.listener.Eh()},e.prototype.Th=function(){var t={};t.database=qc(this.Kt),this.eh(t)},e.prototype.dh=function(t){var e=this,n={streamToken:this.lastStreamToken,writes:t.map(function(t){return Bc(e.Kt,t)})};this.eh(n)},e}(Hf),Bf=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).credentials=e,i.Ku=n,i.Kt=r,i.Ih=!1,i}return Object(fo.c)(e,t),e.prototype.mh=function(){if(this.Ih)throw new jo(Ao.FAILED_PRECONDITION,"The client has already been terminated.")},e.prototype.bu=function(t,e,n){var r=this;return this.mh(),this.credentials.getToken().then(function(i){return r.Ku.bu(t,e,n,i)}).catch(function(t){throw t.code===Ao.UNAUTHENTICATED&&r.credentials.v(),t})},e.prototype.Cu=function(t,e,n){var r=this;return this.mh(),this.credentials.getToken().then(function(i){return r.Ku.Cu(t,e,n,i)}).catch(function(t){throw t.code===Ao.UNAUTHENTICATED&&r.credentials.v(),t})},e.prototype.terminate=function(){this.Ih=!1},e}(function(){}),Gf=function(){function t(t,e){this.fs=t,this.da=e,this.state="Unknown",this.Ah=0,this.Rh=null,this.Ph=!0}return t.prototype.yh=function(){var t=this;0===this.Ah&&(this.gh("Unknown"),this.Rh=this.fs.mr("online_state_timeout",1e4,function(){return t.Rh=null,t.Vh("Backend didn't respond within 10 seconds."),t.gh("Offline"),Promise.resolve()}))},t.prototype.ph=function(t){"Online"===this.state?this.gh("Unknown"):(this.Ah++,this.Ah>=1&&(this.bh(),this.Vh("Connection failed 1 times. Most recent error: "+t.toString()),this.gh("Offline")))},t.prototype.set=function(t){this.bh(),this.Ah=0,"Online"===t&&(this.Ph=!1),this.gh(t)},t.prototype.gh=function(t){t!==this.state&&(this.state=t,this.da(t))},t.prototype.Vh=function(t){var e="Could not reach Cloud Firestore backend. "+t+"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.";this.Ph?(yo(e),this.Ph=!1):mo("OnlineStateTracker",e)},t.prototype.bh=function(){null!==this.Rh&&(this.Rh.cancel(),this.Rh=null)},t}(),$f=function(t,e,n,r,i){var s=this;this.Sh=t,this.Dh=e,this.fs=n,this.Ch={},this.xh=[],this.Nh=new Map,this.Fh=new Set,this.Oh=[],this.kh=i,this.kh.cu(function(t){n.ys(function(){return Object(fo.b)(s,void 0,void 0,function(){return Object(fo.d)(this,function(t){switch(t.label){case 0:return nd(this)?(mo("RemoteStore","Restarting streams for network reachability change."),[4,function(t){return Object(fo.b)(this,void 0,void 0,function(){var e;return Object(fo.d)(this,function(n){switch(n.label){case 0:return(e=Eo(t)).Fh.add(4),[4,Jf(e)];case 1:return n.sent(),e.Mh.set("Unknown"),e.Fh.delete(4),[4,Wf(e)];case 2:return n.sent(),[2]}})})}(this)]):[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}})})})}),this.Mh=new Gf(n,r)};function Wf(t){return Object(fo.b)(this,void 0,void 0,function(){var e,n;return Object(fo.d)(this,function(r){switch(r.label){case 0:if(!nd(t))return[3,4];e=0,n=t.Oh,r.label=1;case 1:return e<n.length?[4,(0,n[e])(!0)]:[3,4];case 2:r.sent(),r.label=3;case 3:return e++,[3,1];case 4:return[2]}})})}function Jf(t){return Object(fo.b)(this,void 0,void 0,function(){var e,n;return Object(fo.d)(this,function(r){switch(r.label){case 0:e=0,n=t.Oh,r.label=1;case 1:return e<n.length?[4,(0,n[e])(!1)]:[3,4];case 2:r.sent(),r.label=3;case 3:return e++,[3,1];case 4:return[2]}})})}function Qf(t,e){var n=Eo(t);n.Nh.has(e.targetId)||(n.Nh.set(e.targetId,e),ed(n)?td(n):yd(n).Ju()&&Yf(n,e))}function Zf(t,e){var n=Eo(t),r=yd(n);n.Nh.delete(e),r.Ju()&&Xf(n,e),0===n.Nh.size&&(r.Ju()?r.Zu():nd(n)&&n.Mh.set("Unknown"))}function Yf(t,e){t.Lh.cn(e.targetId),yd(t).hh(e)}function Xf(t,e){t.Lh.cn(e),yd(t).lh(e)}function td(t){t.Lh=new Cc({Sn:function(e){return t.Ch.Sn(e)},Dn:function(e){return t.Nh.get(e)||null}}),yd(t).start(),t.Mh.yh()}function ed(t){return nd(t)&&!yd(t).Hu()&&t.Nh.size>0}function nd(t){return 0===Eo(t).Fh.size}function rd(t){t.Lh=void 0}function id(t){return Object(fo.b)(this,void 0,void 0,function(){return Object(fo.d)(this,function(e){return t.Nh.forEach(function(e,n){Yf(t,e)}),[2]})})}function sd(t,e){return Object(fo.b)(this,void 0,void 0,function(){return Object(fo.d)(this,function(n){return rd(t),ed(t)?(t.Mh.ph(e),td(t)):t.Mh.set("Unknown"),[2]})})}function od(t,e,n){return Object(fo.b)(this,void 0,void 0,function(){var r,i,s;return Object(fo.d)(this,function(o){switch(o.label){case 0:if(t.Mh.set("Online"),!(e instanceof Oc&&2===e.state&&e.cause))return[3,6];o.label=1;case 1:return o.trys.push([1,3,,5]),[4,function(t,e){return Object(fo.b)(this,void 0,void 0,function(){var n,r,i,s;return Object(fo.d)(this,function(o){switch(o.label){case 0:n=e.cause,r=0,i=e.targetIds,o.label=1;case 1:return r<i.length?t.Nh.has(s=i[r])?[4,t.Ch.$h(s,n)]:[3,3]:[3,5];case 2:o.sent(),t.Nh.delete(s),t.Lh.removeTarget(s),o.label=3;case 3:o.label=4;case 4:return r++,[3,1];case 5:return[2]}})})}(t,e)];case 2:return o.sent(),[3,5];case 3:return r=o.sent(),mo("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),[4,ad(t,r)];case 4:return o.sent(),[3,5];case 5:return[3,13];case 6:if(e instanceof wc?t.Lh.wn(e):e instanceof Ec?t.Lh.yn(e):t.Lh.In(e),n.isEqual(Go.min()))return[3,13];o.label=7;case 7:return o.trys.push([7,11,,13]),[4,tf(t.Sh)];case 8:return i=o.sent(),n.u(i)>=0?[4,function(t,e){var n=t.Lh.pn(e);return n.Oe.forEach(function(n,r){if(n.resumeToken.o()>0){var i=t.Nh.get(r);i&&t.Nh.set(r,i.$t(n.resumeToken,e))}}),n.ke.forEach(function(e){var n=t.Nh.get(e);if(n){t.Nh.set(e,n.$t(xo.h,n.Mt)),Xf(t,e);var r=new gu(n.target,e,1,n.sequenceNumber);Yf(t,r)}}),t.Ch.Bh(n)}(t,n)]:[3,10];case 9:o.sent(),o.label=10;case 10:return[3,13];case 11:return mo("RemoteStore","Failed to raise snapshot:",s=o.sent()),[4,ad(t,s)];case 12:return o.sent(),[3,13];case 13:return[2]}})})}function ad(t,e,n){return Object(fo.b)(this,void 0,void 0,function(){var r=this;return Object(fo.d)(this,function(i){switch(i.label){case 0:if(!dl(e))throw e;return t.Fh.add(1),[4,Jf(t)];case 1:return i.sent(),t.Mh.set("Offline"),n||(n=function(){return tf(t.Sh)}),t.fs.vo(function(){return Object(fo.b)(r,void 0,void 0,function(){return Object(fo.d)(this,function(e){switch(e.label){case 0:return mo("RemoteStore","Retrying IndexedDB access"),[4,n()];case 1:return e.sent(),t.Fh.delete(1),[4,Wf(t)];case 2:return e.sent(),[2]}})})}),[2]}})})}function ud(t,e){return e().catch(function(n){return ad(t,n,e)})}function cd(t){return Object(fo.b)(this,void 0,void 0,function(){var e,n,r,i,s;return Object(fo.d)(this,function(o){switch(o.label){case 0:e=Eo(t),n=vd(e),r=e.xh.length>0?e.xh[e.xh.length-1].batchId:-1,o.label=1;case 1:if(!function(t){return nd(t)&&t.xh.length<10}(e))return[3,7];o.label=2;case 2:return o.trys.push([2,4,,6]),[4,rf(e.Sh,r)];case 3:return null===(i=o.sent())?(0===e.xh.length&&n.Zu(),[3,7]):(r=i.batchId,function(t,e){t.xh.push(e);var n=vd(t);n.Ju()&&n.fh&&n.dh(e.mutations)}(e,i),[3,6]);case 4:return s=o.sent(),[4,ad(e,s)];case 5:return o.sent(),[3,6];case 6:return[3,1];case 7:return ld(e)&&hd(e),[2]}})})}function ld(t){return nd(t)&&!vd(t).Hu()&&t.xh.length>0}function hd(t){vd(t).start()}function fd(t){return Object(fo.b)(this,void 0,void 0,function(){return Object(fo.d)(this,function(e){return vd(t).Th(),[2]})})}function dd(t){return Object(fo.b)(this,void 0,void 0,function(){var e,n,r;return Object(fo.d)(this,function(i){for(e=vd(t),n=0,r=t.xh;n<r.length;n++)e.dh(r[n].mutations);return[2]})})}function pd(t,e,n){return Object(fo.b)(this,void 0,void 0,function(){var r,i;return Object(fo.d)(this,function(s){switch(s.label){case 0:return r=t.xh.shift(),i=$l.from(r,e,n),[4,ud(t,function(){return t.Ch.qh(i)})];case 1:return s.sent(),[4,cd(t)];case 2:return s.sent(),[2]}})})}function gd(t,e){return Object(fo.b)(this,void 0,void 0,function(){return Object(fo.d)(this,function(n){switch(n.label){case 0:return e&&vd(t).fh?[4,function(t,e){return Object(fo.b)(this,void 0,void 0,function(){var n,r;return Object(fo.d)(this,function(i){switch(i.label){case 0:return Yu(r=e.code)&&r!==Ao.ABORTED?(n=t.xh.shift(),vd(t).Xu(),[4,ud(t,function(){return t.Ch.Uh(n.batchId,e)})]):[3,3];case 1:return i.sent(),[4,cd(t)];case 2:i.sent(),i.label=3;case 3:return[2]}})})}(t,e)]:[3,2];case 1:n.sent(),n.label=2;case 2:return ld(t)&&hd(t),[2]}})})}function md(t,e){return Object(fo.b)(this,void 0,void 0,function(){var n;return Object(fo.d)(this,function(r){switch(r.label){case 0:return n=Eo(t),e?(n.Fh.delete(2),[4,Wf(n)]):[3,2];case 1:return r.sent(),[3,5];case 2:return e?[3,4]:(n.Fh.add(2),[4,Jf(n)]);case 3:r.sent(),n.Mh.set("Unknown"),r.label=4;case 4:r.label=5;case 5:return[2]}})})}function yd(t){var e=this;return t.Qh||(t.Qh=function(t,e,n){var r=Eo(t);return r.mh(),new zf(e,r.Ku,r.credentials,r.Kt,n)}(t.Dh,t.fs,{Eu:id.bind(null,t),Iu:sd.bind(null,t),uh:od.bind(null,t)}),t.Oh.push(function(n){return Object(fo.b)(e,void 0,void 0,function(){return Object(fo.d)(this,function(e){switch(e.label){case 0:return n?(t.Qh.Xu(),ed(t)?td(t):t.Mh.set("Unknown"),[3,3]):[3,1];case 1:return[4,t.Qh.stop()];case 2:e.sent(),rd(t),e.label=3;case 3:return[2]}})})})),t.Qh}function vd(t){var e=this;return t.Kh||(t.Kh=function(t,e,n){var r=Eo(t);return r.mh(),new Kf(e,r.Ku,r.credentials,r.Kt,n)}(t.Dh,t.fs,{Eu:fd.bind(null,t),Iu:gd.bind(null,t),Eh:dd.bind(null,t),wh:pd.bind(null,t)}),t.Oh.push(function(n){return Object(fo.b)(e,void 0,void 0,function(){return Object(fo.d)(this,function(e){switch(e.label){case 0:return n?(t.Kh.Xu(),[4,cd(t)]):[3,2];case 1:return e.sent(),[3,4];case 2:return[4,t.Kh.stop()];case 3:e.sent(),t.xh.length>0&&(mo("RemoteStore","Stopping write stream with "+t.xh.length+" pending writes"),t.xh=[]),e.label=4;case 4:return[2]}})})})),t.Kh}var bd=function(){this.Wh=void 0,this.listeners=[]},_d=function(){this.queries=new gh(function(t){return lu(t)},cu),this.onlineState="Unknown",this.jh=new Set};function wd(t,e){return Object(fo.b)(this,void 0,void 0,function(){var n,r,i,s,o,a,u;return Object(fo.d)(this,function(c){switch(c.label){case 0:if(n=Eo(t),i=!1,(s=n.queries.get(r=e.query))||(i=!0,s=new bd),!i)return[3,4];c.label=1;case 1:return c.trys.push([1,3,,4]),o=s,[4,n.Gh(r)];case 2:return o.Wh=c.sent(),[3,4];case 3:return a=c.sent(),u=bl(a,"Initialization of query '"+hu(e.query)+"' failed"),[2,void e.onError(u)];case 4:return n.queries.set(r,s),s.listeners.push(e),e.zh(n.onlineState),s.Wh&&e.Hh(s.Wh)&&Cd(n),[2]}})})}function Ed(t,e){return Object(fo.b)(this,void 0,void 0,function(){var n,r,i,s,o;return Object(fo.d)(this,function(a){return n=Eo(t),i=!1,(s=n.queries.get(r=e.query))&&(o=s.listeners.indexOf(e))>=0&&(s.listeners.splice(o,1),i=0===s.listeners.length),i?[2,(n.queries.delete(r),n.Jh(r))]:[2]})})}function Od(t,e){for(var n=Eo(t),r=!1,i=0,s=e;i<s.length;i++){var o=s[i],a=n.queries.get(o.query);if(a){for(var u=0,c=a.listeners;u<c.length;u++)c[u].Hh(o)&&(r=!0);a.Wh=o}}r&&Cd(n)}function Sd(t,e,n){var r=Eo(t),i=r.queries.get(e);if(i)for(var s=0,o=i.listeners;s<o.length;s++)o[s].onError(n);r.queries.delete(e)}function Cd(t){t.jh.forEach(function(t){t.next()})}var Td=function(){function t(t,e,n){this.query=t,this.Yh=e,this.Xh=!1,this.Zh=null,this.onlineState="Unknown",this.options=n||{}}return t.prototype.Hh=function(t){if(!this.options.includeMetadataChanges){for(var e=[],n=0,r=t.docChanges;n<r.length;n++){var i=r[n];3!==i.type&&e.push(i)}t=new vc(t.query,t.docs,t.De,e,t.Ce,t.fromCache,t.xe,!0)}var s=!1;return this.Xh?this.tl(t)&&(this.Yh.next(t),s=!0):this.el(t,this.onlineState)&&(this.nl(t),s=!0),this.Zh=t,s},t.prototype.onError=function(t){this.Yh.error(t)},t.prototype.zh=function(t){this.onlineState=t;var e=!1;return this.Zh&&!this.Xh&&this.el(this.Zh,t)&&(this.nl(this.Zh),e=!0),e},t.prototype.el=function(t,e){return!t.fromCache||!(this.options.sl&&"Offline"!==e||t.docs.nt()&&"Offline"!==e)},t.prototype.tl=function(t){return t.docChanges.length>0||!!(t.xe||this.Zh&&this.Zh.hasPendingWrites!==t.hasPendingWrites)&&!0===this.options.includeMetadataChanges},t.prototype.nl=function(t){t=vc.Fe(t.query,t.docs,t.Ce,t.fromCache),this.Xh=!0,this.Yh.next(t)},t}(),Id=function(){function t(t,e){this.payload=t,this.byteLength=e}return t.prototype.il=function(){return"metadata"in this.payload},t}(),xd=function(){function t(t){this.Kt=t}return t.prototype.yc=function(t){return Fc(this.Kt,t)},t.prototype.gc=function(t){return t.metadata.exists?Kc(this.Kt,t.document,!1):new ja(this.yc(t.metadata.name),this.Vc(t.metadata.readTime))},t.prototype.Vc=function(t){return Dc(t)},t}();!function(){function t(t,e,n){this.rl=t,this.Sh=e,this.Kt=n,this.queries=[],this.documents=[],this.progress=function(t){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:t.totalDocuments,totalBytes:t.totalBytes}}(t)}t.prototype.ol=function(t){this.progress.bytesLoaded+=t.byteLength;var e=this.progress.documentsLoaded;return t.payload.namedQuery?this.queries.push(t.payload.namedQuery):t.payload.documentMetadata?(this.documents.push({metadata:t.payload.documentMetadata}),t.payload.documentMetadata.exists||++e):t.payload.document&&(this.documents[this.documents.length-1].document=t.payload.document,++e),e!==this.progress.documentsLoaded?(this.progress.documentsLoaded=e,Object.assign({},this.progress)):null},t.prototype.cl=function(t){for(var e=new Map,n=new xd(this.Kt),r=0,i=t;r<i.length;r++){var s=i[r];if(s.metadata.queries)for(var o=n.yc(s.metadata.name),a=0,u=s.metadata.queries;a<u.length;a++){var c=u[a],l=(e.get(c)||dc()).add(o);e.set(c,l)}}return e},t.prototype.complete=function(){return Object(fo.b)(this,void 0,void 0,function(){var t,e,n,r,i;return Object(fo.d)(this,function(s){switch(s.label){case 0:return[4,hf(this.Sh,new xd(this.Kt),this.documents,this.rl.id)];case 1:t=s.sent(),e=this.cl(this.documents),n=0,r=this.queries,s.label=2;case 2:return n<r.length?[4,ff(this.Sh,i=r[n],e.get(i.name))]:[3,5];case 3:s.sent(),s.label=4;case 4:return n++,[3,2];case 5:return[2,(this.progress.taskState="Success",new _l(Object.assign({},this.progress),t))]}})})}}();var Ad=function(t){this.key=t},jd=function(t){this.key=t},kd=function(){function t(t,e){this.query=t,this.al=e,this.ul=null,this.qe=!1,this.hl=dc(),this.Ce=dc(),this.ll=du(t),this._l=new mc(this.ll)}return Object.defineProperty(t.prototype,"fl",{get:function(){return this.al},enumerable:!1,configurable:!0}),t.prototype.dl=function(t,e){var n=this,r=e?e.wl:new yc,i=e?e._l:this._l,s=e?e.Ce:this.Ce,o=i,a=!1,u=eu(this.query)&&i.size===this.query.limit?i.last():null,c=nu(this.query)&&i.size===this.query.limit?i.first():null;if(t.Zt(function(t,e){var l=i.get(t),h=e instanceof Aa?e:null;h&&(h=fu(n.query,h)?h:null);var f=!!l&&n.Ce.has(l.key),d=!!h&&(h.bt||n.Ce.has(h.key)&&h.hasCommittedMutations),p=!1;l&&h?l.data().isEqual(h.data())?f!==d&&(r.track({type:3,doc:h}),p=!0):n.El(l,h)||(r.track({type:2,doc:h}),p=!0,(u&&n.ll(h,u)>0||c&&n.ll(h,c)<0)&&(a=!0)):!l&&h?(r.track({type:0,doc:h}),p=!0):l&&!h&&(r.track({type:1,doc:l}),p=!0,(u||c)&&(a=!0)),p&&(h?(o=o.add(h),s=d?s.add(t):s.delete(t)):(o=o.delete(t),s=s.delete(t)))}),eu(this.query)||nu(this.query))for(;o.size>this.query.limit;){var l=eu(this.query)?o.last():o.first();o=o.delete(l.key),s=s.delete(l.key),r.track({type:1,doc:l})}return{_l:o,wl:r,_c:a,Ce:s}},t.prototype.El=function(t,e){return t.bt&&e.hasCommittedMutations&&!e.bt},t.prototype.Ti=function(t,e,n){var r=this,i=this._l;this._l=t._l,this.Ce=t.Ce;var s=t.wl.Se();s.sort(function(t,e){return function(t,e){var n=function(t){switch(t){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return _o()}};return n(t)-n(e)}(t.type,e.type)||r.ll(t.doc,e.doc)}),this.Tl(n);var o=e?this.Il():[],a=0===this.hl.size&&this.qe?1:0,u=a!==this.ul;return this.ul=a,0!==s.length||u?{snapshot:new vc(this.query,t._l,i,s,t.Ce,0===a,u,!1),ml:o}:{ml:o}},t.prototype.zh=function(t){return this.qe&&"Offline"===t?(this.qe=!1,this.Ti({_l:this._l,wl:new yc,Ce:this.Ce,_c:!1},!1)):{ml:[]}},t.prototype.Al=function(t){return!this.al.has(t)&&!!this._l.has(t)&&!this._l.get(t).bt},t.prototype.Tl=function(t){var e=this;t&&(t.Ue.forEach(function(t){return e.al=e.al.add(t)}),t.Qe.forEach(function(t){}),t.Ke.forEach(function(t){return e.al=e.al.delete(t)}),this.qe=t.qe)},t.prototype.Il=function(){var t=this;if(!this.qe)return[];var e=this.hl;this.hl=dc(),this._l.forEach(function(e){t.Al(e.key)&&(t.hl=t.hl.add(e.key))});var n=[];return e.forEach(function(e){t.hl.has(e)||n.push(new jd(e))}),this.hl.forEach(function(t){e.has(t)||n.push(new Ad(t))}),n},t.prototype.Rl=function(t){this.al=t.Pc,this.hl=dc();var e=this.dl(t.documents);return this.Ti(e,!0)},t.prototype.Pl=function(){return vc.Fe(this.query,this._l,this.Ce,0===this.ul)},t}(),Nd=function(t,e,n){this.query=t,this.targetId=e,this.view=n},Pd=function(t){this.key=t,this.yl=!1},Dd=function(){function t(t,e,n,r,i,s){this.Sh=t,this.gl=e,this.Vl=n,this.pl=r,this.currentUser=i,this.bl=s,this.vl={},this.Sl=new gh(function(t){return lu(t)},cu),this.Dl=new Map,this.Cl=[],this.xl=new tc(Zo.J),this.Nl=new Map,this.Fl=new pf,this.Ol={},this.kl=new Map,this.Ml=Sh.qi(),this.onlineState="Unknown",this.Ll=void 0}return Object.defineProperty(t.prototype,"$l",{get:function(){return!0===this.Ll},enumerable:!1,configurable:!0}),t}();function Rd(t,e){return Object(fo.b)(this,void 0,void 0,function(){var n,r,i,s,o;return Object(fo.d)(this,function(a){switch(a.label){case 0:return n=lp(t),(i=n.Sl.get(e))?(n.pl.ka(i.targetId),r=i.view.Pl(),[3,4]):[3,1];case 1:return[4,sf(n.Sh,au(e))];case 2:return s=a.sent(),o=n.pl.ka(s.targetId),[4,Ld(n,e,s.targetId,"current"===o)];case 3:r=a.sent(),n.$l&&Qf(n.gl,s),a.label=4;case 4:return[2,r]}})})}function Ld(t,e,n,r){return Object(fo.b)(this,void 0,void 0,function(){var i,s,o,a,u,c;return Object(fo.d)(this,function(l){switch(l.label){case 0:return t.Bl=function(e,n,r){return function(t,e,n,r){return Object(fo.b)(this,void 0,void 0,function(){var i,s,o;return Object(fo.d)(this,function(a){switch(a.label){case 0:return(i=e.view.dl(n))._c?[4,af(t.Sh,e.query,!1).then(function(t){return e.view.dl(t.documents,i)})]:[3,2];case 1:i=a.sent(),a.label=2;case 2:return s=r&&r.Oe.get(e.targetId),o=e.view.Ti(i,t.$l,s),[2,(Jd(t,e.targetId,o.ml),o.snapshot)]}})})}(t,e,n,r)},[4,af(t.Sh,e,!0)];case 1:return i=l.sent(),s=new kd(e,i.Pc),o=s.dl(i.documents),a=_c.Be(n,r&&"Offline"!==t.onlineState),u=s.Ti(o,t.$l,a),Jd(t,n,u.ml),c=new Nd(e,n,s),[2,(t.Sl.set(e,c),t.Dl.has(n)?t.Dl.get(n).push(e):t.Dl.set(n,[e]),u.snapshot)]}})})}function Md(t,e){return Object(fo.b)(this,void 0,void 0,function(){var n,r,i;return Object(fo.d)(this,function(s){switch(s.label){case 0:return n=Eo(t),r=n.Sl.get(e),(i=n.Dl.get(r.targetId)).length>1?[2,(n.Dl.set(r.targetId,i.filter(function(t){return!cu(t,e)})),void n.Sl.delete(e))]:n.$l?(n.pl.La(r.targetId),n.pl.Ca(r.targetId)?[3,2]:[4,of(n.Sh,r.targetId,!1).then(function(){n.pl.Ba(r.targetId),Zf(n.gl,r.targetId),$d(n,r.targetId)}).catch(ph)]):[3,3];case 1:s.sent(),s.label=2;case 2:return[3,5];case 3:return $d(n,r.targetId),[4,of(n.Sh,r.targetId,!0)];case 4:s.sent(),s.label=5;case 5:return[2]}})})}function Fd(t,e,n){return Object(fo.b)(this,void 0,void 0,function(){var r,i,s,o;return Object(fo.d)(this,function(a){switch(a.label){case 0:r=hp(t),a.label=1;case 1:return a.trys.push([1,5,,6]),[4,function(t,e){var n,r=Eo(t),i=Bo.now(),s=e.reduce(function(t,e){return t.add(e.key)},dc());return r.persistence.runTransaction("Locally write mutations","readwrite",function(t){return r.Ic.Zo(t,s).next(function(s){n=s;for(var o=[],a=0,u=e;a<u.length;a++){var c=u[a],l=Fu(c,n.get(c.key));null!=l&&o.push(new Hu(c.key,l,Ia(l.proto.mapValue),Pu.exists(!0)))}return r.Ho.yi(t,i,o,e)})}).then(function(t){var e=t.Fs(n);return{batchId:t.batchId,ci:e}})}(r.Sh,e)];case 2:return i=a.sent(),r.pl.xa(i.batchId),function(t,e,n){var r=t.Ol[t.currentUser.R()];r||(r=new tc(Co)),r=r.Ht(e,n),t.Ol[t.currentUser.R()]=r}(r,i.batchId,n),[4,Yd(r,i.ci)];case 3:return a.sent(),[4,cd(r.gl)];case 4:return a.sent(),[3,6];case 5:return s=a.sent(),o=bl(s,"Failed to persist write"),n.reject(o),[3,6];case 6:return[2]}})})}function Vd(t,e){return Object(fo.b)(this,void 0,void 0,function(){var n,r;return Object(fo.d)(this,function(i){switch(i.label){case 0:n=Eo(t),i.label=1;case 1:return i.trys.push([1,4,,6]),[4,ef(n.Sh,e)];case 2:return r=i.sent(),e.Oe.forEach(function(t,e){var r=n.Nl.get(e);r&&(wo(t.Ue.size+t.Qe.size+t.Ke.size<=1),t.Ue.size>0?r.yl=!0:t.Qe.size>0?wo(r.yl):t.Ke.size>0&&(wo(r.yl),r.yl=!1))}),[4,Yd(n,r,e)];case 3:return i.sent(),[3,6];case 4:return[4,ph(i.sent())];case 5:return i.sent(),[3,6];case 6:return[2]}})})}function Ud(t,e,n){var r=Eo(t);if(r.$l&&0===n||!r.$l&&1===n){var i=[];r.Sl.forEach(function(t,n){var r=n.view.zh(e);r.snapshot&&i.push(r.snapshot)}),function(t,e){var n=Eo(t);n.onlineState=e;var r=!1;n.queries.forEach(function(t,n){for(var i=0,s=n.listeners;i<s.length;i++)s[i].zh(e)&&(r=!0)}),r&&Cd(n)}(r.Vl,e),i.length&&r.vl.uh(i),r.onlineState=e,r.$l&&r.pl.Ka(e)}}function qd(t,e,n){return Object(fo.b)(this,void 0,void 0,function(){var r,i,s,o,a,u;return Object(fo.d)(this,function(c){switch(c.label){case 0:return(r=Eo(t)).pl.qa(e,"rejected",n),i=r.Nl.get(e),(s=i&&i.key)?(o=(o=new tc(Zo.J)).Ht(s,new ja(s,Go.min())),a=dc().add(s),u=new bc(Go.min(),new Map,new rc(Co),o,a),[4,Vd(r,u)]):[3,2];case 1:return c.sent(),r.xl=r.xl.remove(s),r.Nl.delete(e),Zd(r),[3,4];case 2:return[4,of(r.Sh,e,!1).then(function(){return $d(r,e,n)}).catch(ph)];case 3:c.sent(),c.label=4;case 4:return[2]}})})}function Hd(t,e){return Object(fo.b)(this,void 0,void 0,function(){var n,r,i;return Object(fo.d)(this,function(s){switch(s.label){case 0:n=Eo(t),r=e.batch.batchId,s.label=1;case 1:return s.trys.push([1,4,,6]),[4,Xh(n.Sh,e)];case 2:return i=s.sent(),Gd(n,r,null),Bd(n,r),n.pl.Fa(r,"acknowledged"),[4,Yd(n,i)];case 3:return s.sent(),[3,6];case 4:return[4,ph(s.sent())];case 5:return s.sent(),[3,6];case 6:return[2]}})})}function zd(t,e,n){return Object(fo.b)(this,void 0,void 0,function(){var r,i;return Object(fo.d)(this,function(s){switch(s.label){case 0:r=Eo(t),s.label=1;case 1:return s.trys.push([1,4,,6]),[4,function(t,e){var n=Eo(t);return n.persistence.runTransaction("Reject batch","readwrite-primary",function(t){var r;return n.Ho.gi(t,e).next(function(e){return wo(null!==e),r=e.keys(),n.Ho.Ni(t,e)}).next(function(){return n.Ho.ki(t)}).next(function(){return n.Ic.Zo(t,r)})})}(r.Sh,e)];case 2:return i=s.sent(),Gd(r,e,n),Bd(r,e),r.pl.Fa(e,"rejected",n),[4,Yd(r,i)];case 3:return s.sent(),[3,6];case 4:return[4,ph(s.sent())];case 5:return s.sent(),[3,6];case 6:return[2]}})})}function Kd(t,e){return Object(fo.b)(this,void 0,void 0,function(){var n,r,i,s,o;return Object(fo.d)(this,function(a){switch(a.label){case 0:nd((n=Eo(t)).gl)||mo("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled."),a.label=1;case 1:return a.trys.push([1,3,,4]),[4,function(t){var e=Eo(t);return e.persistence.runTransaction("Get highest unacknowledged batch id","readonly",function(t){return e.Ho.bi(t)})}(n.Sh)];case 2:return-1===(r=a.sent())?[2,void e.resolve()]:((i=n.kl.get(r)||[]).push(e),n.kl.set(r,i),[3,4]);case 3:return s=a.sent(),o=bl(s,"Initialization of waitForPendingWrites() operation failed"),e.reject(o),[3,4];case 4:return[2]}})})}function Bd(t,e){(t.kl.get(e)||[]).forEach(function(t){t.resolve()}),t.kl.delete(e)}function Gd(t,e,n){var r=Eo(t),i=r.Ol[r.currentUser.R()];if(i){var s=i.get(e);s&&(n?s.reject(n):s.resolve(),i=i.remove(e)),r.Ol[r.currentUser.R()]=i}}function $d(t,e,n){void 0===n&&(n=null),t.pl.La(e);for(var r=0,i=t.Dl.get(e);r<i.length;r++){var s=i[r];t.Sl.delete(s),n&&t.vl.ql(s,n)}t.Dl.delete(e),t.$l&&t.Fl.kc(e).forEach(function(e){t.Fl.Mi(e)||Wd(t,e)})}function Wd(t,e){var n=t.xl.get(e);null!==n&&(Zf(t.gl,n),t.xl=t.xl.remove(e),t.Nl.delete(n),Zd(t))}function Jd(t,e,n){for(var r=0,i=n;r<i.length;r++){var s=i[r];s instanceof Ad?(t.Fl.ir(s.key,e),Qd(t,s)):s instanceof jd?(mo("SyncEngine","Document no longer in limbo: "+s.key),t.Fl.cr(s.key,e),t.Fl.Mi(s.key)||Wd(t,s.key)):_o()}}function Qd(t,e){var n=e.key;t.xl.get(n)||(mo("SyncEngine","New document in limbo: "+n),t.Cl.push(n),Zd(t))}function Zd(t){for(;t.Cl.length>0&&t.xl.size<t.bl;){var e=t.Cl.shift(),n=t.Ml.next();t.Nl.set(n,new Pd(e)),t.xl=t.xl.Ht(e,n),Qf(t.gl,new gu(au(tu(e.path)),n,2,Ko.U))}}function Yd(t,e,n){return Object(fo.b)(this,void 0,void 0,function(){var r,i,s,o;return Object(fo.d)(this,function(a){switch(a.label){case 0:return r=Eo(t),i=[],s=[],o=[],r.Sl.nt()?[3,3]:(r.Sl.forEach(function(t,a){o.push(r.Bl(a,e,n).then(function(t){if(t){r.$l&&r.pl.qa(a.targetId,t.fromCache?"not-current":"current"),i.push(t);var e=Wh.cc(a.targetId,t);s.push(e)}}))}),[4,Promise.all(o)]);case 1:return a.sent(),r.vl.uh(i),[4,function(t,e){return Object(fo.b)(this,void 0,void 0,function(){var n,r,i,s,o,a,u,c;return Object(fo.d)(this,function(l){switch(l.label){case 0:n=Eo(t),l.label=1;case 1:return l.trys.push([1,3,,4]),[4,n.persistence.runTransaction("notifyLocalViewChanges","readwrite",function(t){return ul.forEach(e,function(e){return ul.forEach(e.rc,function(r){return n.persistence.mi.ir(t,e.targetId,r)}).next(function(){return ul.forEach(e.oc,function(r){return n.persistence.mi.cr(t,e.targetId,r)})})})})];case 2:return l.sent(),[3,4];case 3:if(!dl(r=l.sent()))throw r;return mo("LocalStore","Failed to update sequence numbers: "+r),[3,4];case 4:for(i=0,s=e;i<s.length;i++)a=(o=s[i]).targetId,o.fromCache||(u=n.dc.get(a),c=u.Bt(u.Mt),n.dc=n.dc.Ht(a,c));return[2]}})})}(r.Sh,s)];case 2:a.sent(),a.label=3;case 3:return[2]}})})}function Xd(t,e){return Object(fo.b)(this,void 0,void 0,function(){var n,r;return Object(fo.d)(this,function(i){switch(i.label){case 0:return(n=Eo(t)).currentUser.isEqual(e)?[3,3]:(mo("SyncEngine","User change. New user:",e.R()),[4,Yh(n.Sh,e)]);case 1:return r=i.sent(),n.currentUser=e,function(t,e){t.kl.forEach(function(t){t.forEach(function(t){t.reject(new jo(Ao.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),t.kl.clear()}(n),n.pl.Qa(e,r.Ac,r.Rc),[4,Yd(n,r.mc)];case 2:i.sent(),i.label=3;case 3:return[2]}})})}function tp(t,e){var n=Eo(t),r=n.Nl.get(e);if(r&&r.yl)return dc().add(r.key);var i=dc(),s=n.Dl.get(e);if(!s)return i;for(var o=0,a=s;o<a.length;o++){var u=n.Sl.get(a[o]);i=i.ye(u.view.fl)}return i}function ep(t,e){return Object(fo.b)(this,void 0,void 0,function(){var n,r,i;return Object(fo.d)(this,function(s){switch(s.label){case 0:return[4,af((n=Eo(t)).Sh,e.query,!0)];case 1:return r=s.sent(),i=e.view.Rl(r),[2,(n.$l&&Jd(n,e.targetId,i.ml),i)]}})})}function np(t){return Object(fo.b)(this,void 0,void 0,function(){var e;return Object(fo.d)(this,function(n){return[2,cf((e=Eo(t)).Sh).then(function(t){return Yd(e,t)})]})})}function rp(t,e,n,r){return Object(fo.b)(this,void 0,void 0,function(){var i,s;return Object(fo.d)(this,function(o){switch(o.label){case 0:return[4,function(t,e){var n=Eo(t),r=Eo(n.Ho);return n.persistence.runTransaction("Lookup mutation documents","readonly",function(t){return r.Vi(t,e).next(function(e){return e?n.Ic.Zo(t,e):ul.resolve(null)})})}((i=Eo(t)).Sh,e)];case 1:return null===(s=o.sent())?[3,6]:"pending"!==n?[3,3]:[4,cd(i.gl)];case 2:return o.sent(),[3,4];case 3:"acknowledged"===n||"rejected"===n?(Gd(i,e,r||null),Bd(i,e),function(t,e){Eo(Eo(t).Ho).Fi(e)}(i.Sh,e)):_o(),o.label=4;case 4:return[4,Yd(i,s)];case 5:return o.sent(),[3,7];case 6:mo("SyncEngine","Cannot apply mutation batch with id: "+e),o.label=7;case 7:return[2]}})})}function ip(t,e){return Object(fo.b)(this,void 0,void 0,function(){var n,r,i,s,o,a,u;return Object(fo.d)(this,function(c){switch(c.label){case 0:return lp(n=Eo(t)),hp(n),!0!==e||!0===n.Ll?[3,3]:(r=n.pl.Sa(),[4,sp(n,r.rt())]);case 1:return i=c.sent(),n.Ll=!0,[4,md(n.gl,!0)];case 2:for(c.sent(),s=0,o=i;s<o.length;s++)Qf(n.gl,o[s]);return[3,7];case 3:return!1!==e||!1===n.Ll?[3,7]:(a=[],u=Promise.resolve(),n.Dl.forEach(function(t,e){n.pl.$a(e)?a.push(e):u=u.then(function(){return $d(n,e),of(n.Sh,e,!0)}),Zf(n.gl,e)}),[4,u]);case 4:return c.sent(),[4,sp(n,a)];case 5:return c.sent(),function(t){var e=Eo(t);e.Nl.forEach(function(t,n){Zf(e.gl,n)}),e.Fl.Mc(),e.Nl=new Map,e.xl=new tc(Zo.J)}(n),n.Ll=!1,[4,md(n.gl,!1)];case 6:c.sent(),c.label=7;case 7:return[2]}})})}function sp(t,e,n){return Object(fo.b)(this,void 0,void 0,function(){var n,r,i,s,o,a,u,c,l,h,f,d,p;return Object(fo.d)(this,function(g){switch(g.label){case 0:n=Eo(t),r=[],i=[],s=0,o=e,g.label=1;case 1:return s<o.length?(u=void 0,(c=n.Dl.get(a=o[s]))&&0!==c.length?[4,sf(n.Sh,au(c[0]))]:[3,7]):[3,13];case 2:u=g.sent(),l=0,h=c,g.label=3;case 3:return l<h.length?(f=n.Sl.get(h[l]),[4,ep(n,f)]):[3,6];case 4:(d=g.sent()).snapshot&&i.push(d.snapshot),g.label=5;case 5:return l++,[3,3];case 6:return[3,11];case 7:return[4,uf(n.Sh,a)];case 8:return p=g.sent(),[4,sf(n.Sh,p)];case 9:return u=g.sent(),[4,Ld(n,op(p),a,!1)];case 10:g.sent(),g.label=11;case 11:r.push(u),g.label=12;case 12:return s++,[3,1];case 13:return[2,(n.vl.uh(i),r)]}})})}function op(t){return Xa(t.path,t.collectionGroup,t.orderBy,t.filters,t.limit,"F",t.startAt,t.endAt)}function ap(t){var e=Eo(t);return Eo(Eo(e.Sh).persistence).Ko()}function up(t,e,n,r){return Object(fo.b)(this,void 0,void 0,function(){var i,s,o;return Object(fo.d)(this,function(a){switch(a.label){case 0:return(i=Eo(t)).Ll?(mo("SyncEngine","Ignoring unexpected query state notification."),[3,8]):[3,1];case 1:if(!i.Dl.has(e))return[3,8];switch(n){case"current":case"not-current":return[3,2];case"rejected":return[3,5]}return[3,7];case 2:return[4,cf(i.Sh)];case 3:return s=a.sent(),o=bc.$e(e,"current"===n),[4,Yd(i,s,o)];case 4:return a.sent(),[3,8];case 5:return[4,of(i.Sh,e,!0)];case 6:return a.sent(),$d(i,e,r),[3,8];case 7:_o(),a.label=8;case 8:return[2]}})})}function cp(t,e,n){return Object(fo.b)(this,void 0,void 0,function(){var r,i,s,o,a,u,c,l,h;return Object(fo.d)(this,function(f){switch(f.label){case 0:if(!(r=lp(t)).Ll)return[3,10];i=0,s=e,f.label=1;case 1:return i<s.length?r.Dl.has(o=s[i])?(mo("SyncEngine","Adding an already active target "+o),[3,5]):[4,uf(r.Sh,o)]:[3,6];case 2:return a=f.sent(),[4,sf(r.Sh,a)];case 3:return u=f.sent(),[4,Ld(r,op(a),u.targetId,!1)];case 4:f.sent(),Qf(r.gl,u),f.label=5;case 5:return i++,[3,1];case 6:c=function(t){return Object(fo.d)(this,function(e){switch(e.label){case 0:return r.Dl.has(t)?[4,of(r.Sh,t,!1).then(function(){Zf(r.gl,t),$d(r,t)}).catch(ph)]:[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}})},l=0,h=n,f.label=7;case 7:return l<h.length?[5,c(h[l])]:[3,10];case 8:f.sent(),f.label=9;case 9:return l++,[3,7];case 10:return[2]}})})}function lp(t){var e=Eo(t);return e.gl.Ch.Bh=Vd.bind(null,e),e.gl.Ch.Sn=tp.bind(null,e),e.gl.Ch.$h=qd.bind(null,e),e.vl.uh=Od.bind(null,e.Vl),e.vl.ql=Sd.bind(null,e.Vl),e}function hp(t){var e=Eo(t);return e.gl.Ch.qh=Hd.bind(null,e),e.gl.Ch.Uh=zd.bind(null,e),e}var fp=function(){function t(){this.synchronizeTabs=!1}return t.prototype.initialize=function(t){return Object(fo.b)(this,void 0,void 0,function(){return Object(fo.d)(this,function(e){switch(e.label){case 0:return this.Kt=Uf(t.gu.T),this.pl=this.jl(t),this.persistence=this.Gl(t),[4,this.persistence.start()];case 1:return e.sent(),this.zl=this.Hl(t),this.Sh=this.Jl(t),[2]}})})},t.prototype.Hl=function(t){return null},t.prototype.Jl=function(t){return Zh(this.persistence,new Jh,t.Yl,this.Kt)},t.prototype.Gl=function(t){return new _f(Ef.ra,this.Kt)},t.prototype.jl=function(t){return new Nf},t.prototype.terminate=function(){return Object(fo.b)(this,void 0,void 0,function(){return Object(fo.d)(this,function(t){switch(t.label){case 0:return this.zl&&this.zl.stop(),[4,this.pl.$o()];case 1:return t.sent(),[4,this.persistence.$o()];case 2:return t.sent(),[2]}})})},t}(),dp=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).Xl=e,i.cacheSizeBytes=n,i.forceOwnership=r,i.synchronizeTabs=!1,i}return Object(fo.c)(e,t),e.prototype.initialize=function(e){return Object(fo.b)(this,void 0,void 0,function(){return Object(fo.d)(this,function(n){switch(n.label){case 0:return[4,t.prototype.initialize.call(this,e)];case 1:return n.sent(),[4,lf(this.Sh)];case 2:return n.sent(),[4,this.Xl.initialize(this,e)];case 3:return n.sent(),[4,hp(this.Xl.fa)];case 4:return n.sent(),[4,cd(this.Xl.gl)];case 5:return n.sent(),[2]}})})},e.prototype.Jl=function(t){return Zh(this.persistence,new Jh,t.Yl,this.Kt)},e.prototype.Hl=function(t){return new kh(this.persistence.mi.dr,t.fs)},e.prototype.Gl=function(t){var e=Gh(t.gu.T,t.gu.persistenceKey),n=void 0!==this.cacheSizeBytes?dh.Zs(this.cacheSizeBytes):dh.ni;return new zh(this.synchronizeTabs,e,t.clientId,n,t.fs,Ff(),Vf(),this.Kt,this.pl,!!this.forceOwnership)},e.prototype.jl=function(t){return new Nf},e}(fp),pp=function(t){function e(e,n){var r=this;return(r=t.call(this,e,n,!1)||this).Xl=e,r.cacheSizeBytes=n,r.synchronizeTabs=!0,r}return Object(fo.c)(e,t),e.prototype.initialize=function(e){return Object(fo.b)(this,void 0,void 0,function(){var n,r=this;return Object(fo.d)(this,function(i){switch(i.label){case 0:return[4,t.prototype.initialize.call(this,e)];case 1:return i.sent(),n=this.Xl.fa,this.pl instanceof kf?(this.pl.fa={nu:rp.bind(null,n),su:up.bind(null,n),iu:cp.bind(null,n),Ko:ap.bind(null,n),eu:np.bind(null,n)},[4,this.pl.start()]):[3,3];case 2:i.sent(),i.label=3;case 3:return[4,this.persistence.yo(function(t){return Object(fo.b)(r,void 0,void 0,function(){return Object(fo.d)(this,function(e){switch(e.label){case 0:return[4,ip(this.Xl.fa,t)];case 1:return e.sent(),this.zl&&(t&&!this.zl.Ir?this.zl.start(this.Sh):t||this.zl.stop()),[2]}})})})];case 4:return i.sent(),[2]}})})},e.prototype.jl=function(t){var e=Ff();if(!kf.Wn(e))throw new jo(Ao.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");var n=Gh(t.gu.T,t.gu.persistenceKey);return new kf(e,t.fs,n,t.clientId,t.Yl)},e}(dp),gp=function(){function t(){}return t.prototype.initialize=function(t,e){return Object(fo.b)(this,void 0,void 0,function(){var n=this;return Object(fo.d)(this,function(r){switch(r.label){case 0:return this.Sh?[3,2]:(this.Sh=t.Sh,this.pl=t.pl,this.Dh=this.Zl(e),this.gl=this.t_(e),this.Vl=this.e_(e),this.fa=this.n_(e,!t.synchronizeTabs),this.pl.da=function(t){return Ud(n.fa,t,1)},this.gl.Ch.s_=Xd.bind(null,this.fa),[4,md(this.gl,this.fa.$l)]);case 1:r.sent(),r.label=2;case 2:return[2]}})})},t.prototype.e_=function(t){return new _d},t.prototype.Zl=function(t){var e=Uf(t.gu.T),n=new Mf(t.gu);return function(t,e,n){return new Bf(t,e,n)}(t.credentials,n,e)},t.prototype.t_=function(t){var e,n,r,i,s,o=this;return e=this.Sh,n=this.Dh,r=t.fs,i=function(t){return Ud(o.fa,t,0)},s=Df.Wn()?new Df:new Pf,new $f(e,n,r,i,s)},t.prototype.n_=function(t,e){return function(t,e,n,r,i,s,o){var a=new Dd(t,e,n,r,i,s);return o&&(a.Ll=!0),a}(this.Sh,this.gl,this.Vl,this.pl,t.Yl,t.bl,e)},t.prototype.terminate=function(){return function(t){return Object(fo.b)(this,void 0,void 0,function(){var e;return Object(fo.d)(this,function(n){switch(n.label){case 0:return e=Eo(t),mo("RemoteStore","RemoteStore shutting down."),e.Fh.add(5),[4,Jf(e)];case 1:return n.sent(),e.kh.$o(),e.Mh.set("Unknown"),[2]}})})}(this.gl)},t}(),mp=function(){function t(t){this.observer=t,this.muted=!1}return t.prototype.next=function(t){this.observer.next&&this.i_(this.observer.next,t)},t.prototype.error=function(t){this.observer.error?this.i_(this.observer.error,t):console.error("Uncaught Error in snapshot listener:",t)},t.prototype.r_=function(){this.muted=!0},t.prototype.i_=function(t,e){var n=this;this.muted||setTimeout(function(){n.muted||t(e)},0)},t}(),yp=(function(){function t(t,e){var n=this;this.o_=t,this.Kt=e,this.metadata=new al,this.buffer=new Uint8Array,this.c_=new TextDecoder("utf-8"),this.a_().then(function(t){t&&t.il()?n.metadata.resolve(t.payload.metadata):n.metadata.reject(new Error("The first element of the bundle is not a metadata, it is\n             "+JSON.stringify(null==t?void 0:t.payload)))},function(t){return n.metadata.reject(t)})}t.prototype.close=function(){return this.o_.cancel()},t.prototype.getMetadata=function(){return Object(fo.b)(this,void 0,void 0,function(){return Object(fo.d)(this,function(t){return[2,this.metadata.promise]})})},t.prototype.Kl=function(){return Object(fo.b)(this,void 0,void 0,function(){return Object(fo.d)(this,function(t){switch(t.label){case 0:return[4,this.getMetadata()];case 1:return[2,(t.sent(),this.a_())]}})})},t.prototype.a_=function(){return Object(fo.b)(this,void 0,void 0,function(){var t,e,n,r;return Object(fo.d)(this,function(i){switch(i.label){case 0:return[4,this.u_()];case 1:return null===(t=i.sent())?[2,null]:(e=this.c_.decode(t),n=Number(e),isNaN(n)&&this.h_("length string ("+e+") is not valid number"),[4,this.l_(n)]);case 2:return r=i.sent(),[2,new Id(JSON.parse(r),t.length+n)]}})})},t.prototype.__=function(){return this.buffer.findIndex(function(t){return t==="{".charCodeAt(0)})},t.prototype.u_=function(){return Object(fo.b)(this,void 0,void 0,function(){var t,e;return Object(fo.d)(this,function(n){switch(n.label){case 0:return this.__()<0?[4,this.f_()]:[3,3];case 1:if(n.sent())return[3,3];n.label=2;case 2:return[3,0];case 3:return 0===this.buffer.length?[2,null]:((t=this.__())<0&&this.h_("Reached the end of bundle when a length string is expected."),e=this.buffer.slice(0,t),[2,(this.buffer=this.buffer.slice(t),e)])}})})},t.prototype.l_=function(t){return Object(fo.b)(this,void 0,void 0,function(){var e;return Object(fo.d)(this,function(n){switch(n.label){case 0:return this.buffer.length<t?[4,this.f_()]:[3,3];case 1:n.sent()&&this.h_("Reached the end of bundle when more is expected."),n.label=2;case 2:return[3,0];case 3:return e=this.c_.decode(this.buffer.slice(0,t)),[2,(this.buffer=this.buffer.slice(t),e)]}})})},t.prototype.h_=function(t){throw this.o_.cancel(),new Error("Invalid bundle format: "+t)},t.prototype.f_=function(){return Object(fo.b)(this,void 0,void 0,function(){var t,e;return Object(fo.d)(this,function(n){switch(n.label){case 0:return[4,this.o_.read()];case 1:return(t=n.sent()).done||((e=new Uint8Array(this.buffer.length+t.value.length)).set(this.buffer),e.set(t.value,this.buffer.length),this.buffer=e),[2,t.done]}})})}}(),function(){function t(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var n=0;n<t.length;++n)if(0===t[n].length)throw new jo(Ao.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this.d_=new Qo(t)}return t.prototype.isEqual=function(t){return this.d_.isEqual(t.d_)},t}()),vp=function(t){this._methodName=t};function bp(t,e,n){if(!n)throw new jo(Ao.INVALID_ARGUMENT,"Function "+t+"() cannot be called with an empty "+e+".")}function _p(t,e){if(void 0===e)return{merge:!1};if(void 0!==e.mergeFields&&void 0!==e.merge)throw new jo(Ao.INVALID_ARGUMENT,"Invalid options passed to function "+t+'(): You cannot specify both "merge" and "mergeFields".');return e}function wp(t,e,n,r){if(!0===e&&!0===r)throw new jo(Ao.INVALID_ARGUMENT,t+" and "+n+" cannot be used together.")}function Ep(t){if(!Zo.Et(t))throw new jo(Ao.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+t+" has "+t.length+".")}function Op(t){if(Zo.Et(t))throw new jo(Ao.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but "+t+" has "+t.length+".")}function Sp(t){if(void 0===t)return"undefined";if(null===t)return"null";if("string"==typeof t)return t.length>20&&(t=t.substring(0,20)+"..."),JSON.stringify(t);if("number"==typeof t||"boolean"==typeof t)return""+t;if("object"==typeof t){if(t instanceof Array)return"an array";var e=function(t){if(t.constructor){var e=/function\s+([^\s(]+)\s*\(/.exec(t.constructor.toString());if(e&&e.length>1)return e[1]}return null}(t);return e?"a custom "+e+" object":"an object"}return"function"==typeof t?"a function":_o()}function Cp(t,e){if("_delegate"in t&&(t=t._),!(t instanceof e)){if(e.name===t.constructor.name)throw new jo(Ao.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");var n=Sp(t);throw new jo(Ao.INVALID_ARGUMENT,"Expected type '"+e.name+"', but it was: "+n)}return t}function Tp(t,e){if(e<=0)throw new jo(Ao.INVALID_ARGUMENT,"Function "+t+"() requires a positive number, but it was: "+e+".")}var Ip=function(){function t(t){var e;if(void 0===t.host){if(void 0!==t.ssl)throw new jo(Ao.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=null===(e=t.ssl)||void 0===e||e;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,void 0===t.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==t.cacheSizeBytes&&t.cacheSizeBytes<1048576)throw new jo(Ao.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,wp("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling)}return t.prototype.isEqual=function(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties},t}(),xp=new Map,Ap=function(){function t(t,e){this.w_="(lite)",this.E_=new Ip({}),this.T_=!1,t instanceof Mo?(this.I_=t,this.m_=new Uo):(this.A_=t,this.I_=function(t){if(!Object.prototype.hasOwnProperty.apply(t.options,["projectId"]))throw new jo(Ao.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Mo(t.options.projectId)}(t),this.m_=new qo(e))}return Object.defineProperty(t.prototype,"app",{get:function(){if(!this.A_)throw new jo(Ao.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this.A_},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"R_",{get:function(){return this.T_},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"P_",{get:function(){return void 0!==this.y_},enumerable:!1,configurable:!0}),t.prototype.g_=function(t){if(this.T_)throw new jo(Ao.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this.E_=new Ip(t),void 0!==t.credentials&&(this.m_=function(t){if(!t)return new Uo;switch(t.type){case"gapi":var e=t.client;return wo(!("object"!=typeof e||null===e||!e.auth||!e.auth.getAuthHeaderValueForFirstParty)),new zo(e,t.sessionIndex||"0");case"provider":return t.client;default:throw new jo(Ao.INVALID_ARGUMENT,"makeCredentialsProvider failed due to invalid credential type")}}(t.credentials))},t.prototype.V_=function(){return this.E_},t.prototype.p_=function(){return this.T_=!0,this.E_},t.prototype._delete=function(){return this.y_||(this.y_=this.b_()),this.y_},t.prototype.b_=function(){return(t=xp.get(this))&&(mo("ComponentProvider","Removing Datastore"),xp.delete(this),t.terminate()),Promise.resolve();var t},t}(),jp=function(){function t(t,e,n){this.v_=e,this.S_=n,this.type="document",this.firestore=t}return Object.defineProperty(t.prototype,"D_",{get:function(){return this.S_.path},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"id",{get:function(){return this.S_.path.et()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"path",{get:function(){return this.S_.path.ot()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){return new Np(this.firestore,this.v_,this.S_.path.Z())},enumerable:!1,configurable:!0}),t.prototype.withConverter=function(e){return new t(this.firestore,e,this.S_)},t}(),kp=function(){function t(t,e,n){this.v_=e,this.C_=n,this.type="query",this.firestore=t}return t.prototype.withConverter=function(e){return new t(this.firestore,e,this.C_)},t}(),Np=function(t){function e(e,n,r){var i=this;return(i=t.call(this,e,n,tu(r))||this).firestore=e,i.D_=r,i.type="collection",i}return Object(fo.c)(e,t),Object.defineProperty(e.prototype,"id",{get:function(){return this.C_.path.et()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this.C_.path.ot()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){var t=this.D_.Z();return t.nt()?null:new jp(this.firestore,null,new Zo(t))},enumerable:!1,configurable:!0}),e.prototype.withConverter=function(t){return new e(this.firestore,t,this.D_)},e}(kp);function Pp(t,e){for(var n,r=[],i=2;i<arguments.length;i++)r[i-2]=arguments[i];if(t instanceof No&&(t=t._),bp("collection","path",e),t instanceof Ap)return Op(n=Wo.ct.apply(Wo,Object(fo.g)([e],r))),new Np(t,null,n);if(!(t instanceof jp||t instanceof Np))throw new jo(Ao.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");return Op(n=Wo.ct.apply(Wo,Object(fo.g)([t.path],r)).child(Wo.ct(e))),new Np(t.firestore,null,n)}function Dp(t,e){for(var n,r=[],i=2;i<arguments.length;i++)r[i-2]=arguments[i];if(t instanceof No&&(t=t._),1===arguments.length&&(e=So.t()),bp("doc","path",e),t instanceof Ap)return Ep(n=Wo.ct.apply(Wo,Object(fo.g)([e],r))),new jp(t,null,new Zo(n));if(!(t instanceof jp||t instanceof Np))throw new jo(Ao.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");return Ep(n=t.D_.child(Wo.ct.apply(Wo,Object(fo.g)([e],r)))),new jp(t.firestore,t instanceof Np?t.v_:null,new Zo(n))}function Rp(t,e){return t instanceof No&&(t=t._),e instanceof No&&(e=e._),(t instanceof jp||t instanceof Np)&&(e instanceof jp||e instanceof Np)&&t.firestore===e.firestore&&t.path===e.path&&t.v_===e.v_}function Lp(t,e){return t instanceof No&&(t=t._),e instanceof No&&(e=e._),t instanceof kp&&e instanceof kp&&t.firestore===e.firestore&&cu(t.C_,e.C_)&&t.v_===e.v_}var Mp=function(){function t(t,e){if(!isFinite(t)||t<-90||t>90)throw new jo(Ao.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(e)||e<-180||e>180)throw new jo(Ao.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+e);this.x_=t,this.N_=e}return Object.defineProperty(t.prototype,"latitude",{get:function(){return this.x_},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"longitude",{get:function(){return this.N_},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(t){return this.x_===t.x_&&this.N_===t.N_},t.prototype.toJSON=function(){return{latitude:this.x_,longitude:this.N_}},t.prototype.K=function(t){return Co(this.x_,t.x_)||Co(this.N_,t.N_)},t}(),Fp=/^__.*__$/,Vp=function(){function t(t,e,n){this.data=t,this.zt=e,this.fieldTransforms=n}return t.prototype.F_=function(t,e){return null!==this.zt?new Hu(t,this.data,this.zt,e,this.fieldTransforms):new qu(t,this.data,e,this.fieldTransforms)},t}(),Up=function(){function t(t,e,n){this.data=t,this.zt=e,this.fieldTransforms=n}return t.prototype.F_=function(t,e){return new Hu(t,this.data,this.zt,e,this.fieldTransforms)},t}();function qp(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw _o()}}var Hp=function(){function t(t,e,n,r,i,s){this.settings=t,this.T=e,this.Kt=n,this.ignoreUndefinedProperties=r,void 0===i&&this.O_(),this.fieldTransforms=i||[],this.zt=s||[]}return Object.defineProperty(t.prototype,"path",{get:function(){return this.settings.path},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"k_",{get:function(){return this.settings.k_},enumerable:!1,configurable:!0}),t.prototype.M_=function(e){return new t(Object.assign(Object.assign({},this.settings),e),this.T,this.Kt,this.ignoreUndefinedProperties,this.fieldTransforms,this.zt)},t.prototype.L_=function(t){var e,n=null===(e=this.path)||void 0===e?void 0:e.child(t),r=this.M_({path:n,B_:!1});return r.q_(t),r},t.prototype.U_=function(t){var e,n=null===(e=this.path)||void 0===e?void 0:e.child(t),r=this.M_({path:n,B_:!1});return r.O_(),r},t.prototype.Q_=function(t){return this.M_({path:void 0,B_:!0})},t.prototype.K_=function(t){return ug(t,this.settings.methodName,this.settings.W_||!1,this.path,this.settings.j_)},t.prototype.contains=function(t){return void 0!==this.zt.find(function(e){return t.st(e)})||void 0!==this.fieldTransforms.find(function(e){return t.st(e.field)})},t.prototype.O_=function(){if(this.path)for(var t=0;t<this.path.length;t++)this.q_(this.path.get(t))},t.prototype.q_=function(t){if(0===t.length)throw this.K_("Document fields must not be empty");if(qp(this.k_)&&Fp.test(t))throw this.K_('Document fields cannot begin and end with "__"')},t}(),zp=function(){function t(t,e,n){this.T=t,this.ignoreUndefinedProperties=e,this.Kt=n||Uf(t)}return t.prototype.G_=function(t,e,n,r){return void 0===r&&(r=!1),new Hp({k_:t,methodName:e,j_:n,path:Qo.at(),B_:!1,W_:r},this.T,this.Kt,this.ignoreUndefinedProperties)},t}();function Kp(t){var e=t.p_(),n=Uf(t.I_);return new zp(t.I_,!!e.ignoreUndefinedProperties,n)}function Bp(t,e,n,r,i,s){void 0===s&&(s={});var o=t.G_(s.merge||s.mergeFields?2:0,e,n,i);ig("Data must be an object, but it was:",o,r);var a,u,c=ng(r,o);if(s.merge)a=new ea(o.zt),u=o.fieldTransforms;else if(s.mergeFields){for(var l=[],h=0,f=s.mergeFields;h<f.length;h++){var d=sg(e,f[h],n);if(!o.contains(d))throw new jo(Ao.INVALID_ARGUMENT,"Field '"+d+"' is specified in your field mask but missing from your input data.");cg(l,d)||l.push(d)}a=new ea(l),u=o.fieldTransforms.filter(function(t){return a.It(t.field)})}else a=null,u=o.fieldTransforms;return new Vp(new Ca(c),a,u)}var Gp=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(fo.c)(e,t),e.prototype.z_=function(t){if(2!==t.k_)throw t.K_(1===t.k_?this._methodName+"() can only appear at the top level of your update data":this._methodName+"() cannot be used with set() unless you pass {merge:true}");return t.zt.push(t.path),null},e.prototype.isEqual=function(t){return t instanceof e},e}(vp);function $p(t,e,n){return new Hp({k_:3,j_:e.settings.j_,methodName:t._methodName,B_:n},e.T,e.Kt,e.ignoreUndefinedProperties)}var Wp=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(fo.c)(e,t),e.prototype.z_=function(t){return new ku(t.path,new Ou)},e.prototype.isEqual=function(t){return t instanceof e},e}(vp),Jp=function(t){function e(e,n){var r=this;return(r=t.call(this,e)||this).H_=n,r}return Object(fo.c)(e,t),e.prototype.z_=function(t){var e=$p(this,t,!0),n=this.H_.map(function(t){return eg(t,e)}),r=new Su(n);return new ku(t.path,r)},e.prototype.isEqual=function(t){return this===t},e}(vp),Qp=function(t){function e(e,n){var r=this;return(r=t.call(this,e)||this).H_=n,r}return Object(fo.c)(e,t),e.prototype.z_=function(t){var e=$p(this,t,!0),n=this.H_.map(function(t){return eg(t,e)}),r=new Tu(n);return new ku(t.path,r)},e.prototype.isEqual=function(t){return this===t},e}(vp),Zp=function(t){function e(e,n){var r=this;return(r=t.call(this,e)||this).J_=n,r}return Object(fo.c)(e,t),e.prototype.z_=function(t){var e=new xu(t.Kt,vu(t.Kt,this.J_));return new ku(t.path,e)},e.prototype.isEqual=function(t){return this===t},e}(vp);function Yp(t,e,n,r){var i=t.G_(1,e,n);ig("Data must be an object, but it was:",i,r);var s=[],o=new Ta;Xo(r,function(t,r){var a=ag(e,t,n);r instanceof No&&(r=r._);var u=i.U_(a);if(r instanceof Gp)s.push(a);else{var c=eg(r,u);null!=c&&(s.push(a),o.set(a,c))}});var a=new ea(s);return new Up(o.yt(),a,i.fieldTransforms)}function Xp(t,e,n,r,i,s){var o=t.G_(1,e,n),a=[sg(e,r,n)],u=[i];if(s.length%2!=0)throw new jo(Ao.INVALID_ARGUMENT,"Function "+e+"() needs to be called with an even number of arguments that alternate between field names and values.");for(var c=0;c<s.length;c+=2)a.push(sg(e,s[c])),u.push(s[c+1]);for(var l=[],h=new Ta,f=a.length-1;f>=0;--f)if(!cg(l,a[f])){var d=a[f],p=u[f];p instanceof No&&(p=p._);var g=o.U_(d);if(p instanceof Gp)l.push(d);else{var m=eg(p,g);null!=m&&(l.push(d),h.set(d,m))}}var y=new ea(l);return new Up(h.yt(),y,o.fieldTransforms)}function tg(t,e,n,r){return void 0===r&&(r=!1),eg(n,t.G_(r?4:3,e))}function eg(t,e){if(t instanceof No&&(t=t._),rg(t))return ig("Unsupported field value:",e,t),ng(t,e);if(t instanceof vp)return function(t,e){if(!qp(e.k_))throw e.K_(t._methodName+"() can only be used with update() and set()");if(!e.path)throw e.K_(t._methodName+"() is not currently supported inside arrays");var n=t.z_(e);n&&e.fieldTransforms.push(n)}(t,e),null;if(e.path&&e.zt.push(e.path),t instanceof Array){if(e.settings.B_&&4!==e.k_)throw e.K_("Nested arrays are not supported");return function(t,e){for(var n=[],r=0,i=0,s=t;i<s.length;i++){var o=eg(s[i],e.Q_(r));null==o&&(o={nullValue:"NULL_VALUE"}),n.push(o),r++}return{arrayValue:{values:n}}}(t,e)}return function(t,e){if(t instanceof No&&(t=t._),null===t)return{nullValue:"NULL_VALUE"};if("number"==typeof t)return vu(e.Kt,t);if("boolean"==typeof t)return{booleanValue:t};if("string"==typeof t)return{stringValue:t};if(t instanceof Date){var n=Bo.fromDate(t);return{timestampValue:kc(e.Kt,n)}}if(t instanceof Bo)return n=new Bo(t.seconds,1e3*Math.floor(t.nanoseconds/1e3)),{timestampValue:kc(e.Kt,n)};if(t instanceof Mp)return{geoPointValue:{latitude:t.latitude,longitude:t.longitude}};if(t instanceof ko)return{bytesValue:Nc(e.Kt,t.l)};if(t instanceof jp){var r=t.firestore.I_;if(!r.isEqual(n=e.T))throw e.K_("Document reference is for database "+r.projectId+"/"+r.database+" but should be for database "+n.projectId+"/"+n.database);return{referenceValue:Rc(t.firestore.I_||e.T,t.S_.path)}}if(void 0===t&&e.ignoreUndefinedProperties)return null;throw e.K_("Unsupported field value: "+Sp(t))}(t,e)}function ng(t,e){var n={};return ta(t)?e.path&&e.path.length>0&&e.zt.push(e.path):Xo(t,function(t,r){var i=eg(r,e.L_(t));null!=i&&(n[t]=i)}),{mapValue:{fields:n}}}function rg(t){return!("object"!=typeof t||null===t||t instanceof Array||t instanceof Date||t instanceof Bo||t instanceof Mp||t instanceof ko||t instanceof jp||t instanceof vp)}function ig(t,e,n){if(!rg(n)||!function(t){return"object"==typeof t&&null!==t&&(Object.getPrototypeOf(t)===Object.prototype||null===Object.getPrototypeOf(t))}(n)){var r=Sp(n);throw e.K_("an object"===r?t+" a custom object":t+" "+r)}}function sg(t,e,n){if(e instanceof No&&(e=e._),e instanceof yp)return e.d_;if("string"==typeof e)return ag(t,e);throw ug("Field path arguments must be of type string or FieldPath.",t,!1,void 0,n)}var og=new RegExp("[~\\*/\\[\\]]");function ag(t,e,n){if(e.search(og)>=0)throw ug("Invalid field path ("+e+"). Paths must not contain '~', '*', '/', '[', or ']'",t,!1,void 0,n);try{return(new(yp.bind.apply(yp,Object(fo.g)([void 0],e.split("."))))).d_}catch(r){throw ug("Invalid field path ("+e+"). Paths must not be empty, begin with '.', end with '.', or contain '..'",t,!1,void 0,n)}}function ug(t,e,n,r,i){var s=r&&!r.nt(),o=void 0!==i,a="Function "+e+"() called with invalid data";n&&(a+=" (via `toFirestore()`)");var u="";return(s||o)&&(u+=" (found",s&&(u+=" in field "+r),o&&(u+=" in document "+i),u+=")"),new jo(Ao.INVALID_ARGUMENT,(a+=". ")+t+u)}function cg(t,e){return t.some(function(t){return t.isEqual(e)})}var lg=function(){function t(t){this.Dh=t,this.Y_=new Map,this.mutations=[],this.X_=!1,this.Z_=null,this.tf=new Set}return t.prototype.ef=function(t){return Object(fo.b)(this,void 0,void 0,function(){var e,n=this;return Object(fo.d)(this,function(r){switch(r.label){case 0:if(this.nf(),this.mutations.length>0)throw new jo(Ao.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");return[4,function(t,e){return Object(fo.b)(this,void 0,void 0,function(){var n,r,i,s,o,a;return Object(fo.d)(this,function(u){switch(u.label){case 0:return n=Eo(t),r=qc(n.Kt)+"/documents",i={documents:e.map(function(t){return Mc(n.Kt,t)})},[4,n.Cu("BatchGetDocuments",r,i)];case 1:return s=u.sent(),o=new Map,s.forEach(function(t){var e=function(t,e){return"found"in e?function(t,e){wo(!!e.found);var n=Fc(t,e.found.name),r=Dc(e.found.updateTime),i=new Ca({mapValue:{fields:e.found.fields}});return new Aa(n,r,i,{})}(t,e):"missing"in e?function(t,e){wo(!!e.missing),wo(!!e.readTime);var n=Fc(t,e.missing),r=Dc(e.readTime);return new ja(n,r)}(t,e):_o()}(n.Kt,t);o.set(e.key.toString(),e)}),a=[],[2,(e.forEach(function(t){var e=o.get(t.toString());wo(!!e),a.push(e)}),a)]}})})}(this.Dh,t)];case 1:return[2,((e=r.sent()).forEach(function(t){t instanceof ja||t instanceof Aa?n.sf(t):_o()}),e)]}})})},t.prototype.set=function(t,e){this.write(e.F_(t,this.Gt(t))),this.tf.add(t.toString())},t.prototype.update=function(t,e){try{this.write(e.F_(t,this.rf(t)))}catch(t){this.Z_=t}this.tf.add(t.toString())},t.prototype.delete=function(t){this.write(new Ju(t,this.Gt(t))),this.tf.add(t.toString())},t.prototype.commit=function(){return Object(fo.b)(this,void 0,void 0,function(){var t,e=this;return Object(fo.d)(this,function(n){switch(n.label){case 0:if(this.nf(),this.Z_)throw this.Z_;return t=this.Y_,this.mutations.forEach(function(e){t.delete(e.key.toString())}),t.forEach(function(t,n){var r=Zo.ft(n);e.mutations.push(new Qu(r,e.Gt(r)))}),[4,function(t,e){return Object(fo.b)(this,void 0,void 0,function(){var n,r,i;return Object(fo.d)(this,function(s){switch(s.label){case 0:return n=Eo(t),r=qc(n.Kt)+"/documents",i={writes:e.map(function(t){return Bc(n.Kt,t)})},[4,n.bu("Commit",r,i)];case 1:return s.sent(),[2]}})})}(this.Dh,this.mutations)];case 1:return n.sent(),this.X_=!0,[2]}})})},t.prototype.sf=function(t){var e;if(t instanceof Aa)e=t.version;else{if(!(t instanceof ja))throw _o();e=Go.min()}var n=this.Y_.get(t.key.toString());if(n){if(!e.isEqual(n))throw new jo(Ao.ABORTED,"Document version changed between two reads.")}else this.Y_.set(t.key.toString(),e)},t.prototype.Gt=function(t){var e=this.Y_.get(t.toString());return!this.tf.has(t.toString())&&e?Pu.updateTime(e):Pu.Wt()},t.prototype.rf=function(t){var e=this.Y_.get(t.toString());if(!this.tf.has(t.toString())&&e){if(e.isEqual(Go.min()))throw new jo(Ao.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return Pu.updateTime(e)}return Pu.exists(!0)},t.prototype.write=function(t){this.nf(),this.mutations.push(t)},t.prototype.nf=function(){},t}(),hg=function(){function t(t,e,n,r){this.fs=t,this.Dh=e,this.updateFunction=n,this.Ts=r,this.cf=5,this.zu=new qf(this.fs,"transaction_retry")}return t.prototype.run=function(){this.af()},t.prototype.af=function(){var t=this;this.zu.Bu(function(){return Object(fo.b)(t,void 0,void 0,function(){var t,e,n=this;return Object(fo.d)(this,function(r){return t=new lg(this.Dh),(e=this.uf(t))&&e.then(function(e){n.fs.ys(function(){return t.commit().then(function(){n.Ts.resolve(e)}).catch(function(t){n.hf(t)})})}).catch(function(t){n.hf(t)}),[2]})})})},t.prototype.uf=function(t){try{var e=this.updateFunction(t);return!ca(e)&&e.catch&&e.then?e:(this.Ts.reject(Error("Transaction callback must return a Promise")),null)}catch(t){return this.Ts.reject(t),null}},t.prototype.hf=function(t){var e=this;this.cf>0&&this.lf(t)?(this.cf-=1,this.fs.ys(function(){return e.af(),Promise.resolve()})):this.Ts.reject(t)},t.prototype.lf=function(t){if("FirebaseError"===t.name){var e=t.code;return"aborted"===e||"failed-precondition"===e||!Yu(e)}return!1},t}(),fg=function(){function t(t,e,n){var r=this;this.credentials=t,this.fs=e,this.gu=n,this.user=Fo.UNAUTHENTICATED,this.clientId=So.t(),this._f=function(){},this.N=new al,this.credentials.S(function(t){mo("FirestoreClient","Received user=",t.uid),r.user=t,r._f(t),r.N.resolve()})}return t.prototype.getConfiguration=function(){return Object(fo.b)(this,void 0,void 0,function(){return Object(fo.d)(this,function(t){switch(t.label){case 0:return[4,this.N.promise];case 1:return[2,(t.sent(),{fs:this.fs,gu:this.gu,clientId:this.clientId,credentials:this.credentials,Yl:this.user,bl:100})]}})})},t.prototype.ff=function(t){var e=this;this._f=t,this.N.promise.then(function(){return e._f(e.user)})},t.prototype.df=function(){if(this.fs.wf)throw new jo(Ao.FAILED_PRECONDITION,"The client has already been terminated.")},t.prototype.terminate=function(){var t=this;this.fs.Ef();var e=new al;return this.fs.Tf(function(){return Object(fo.b)(t,void 0,void 0,function(){var t,n;return Object(fo.d)(this,function(r){switch(r.label){case 0:return r.trys.push([0,5,,6]),this.If?[4,this.If.terminate()]:[3,2];case 1:r.sent(),r.label=2;case 2:return this.mf?[4,this.mf.terminate()]:[3,4];case 3:r.sent(),r.label=4;case 4:return this.credentials.D(),e.resolve(),[3,6];case 5:return t=r.sent(),n=bl(t,"Failed to shutdown persistence"),e.reject(n),[3,6];case 6:return[2]}})})}),e.promise},t}();function dg(t,e){return Object(fo.b)(this,void 0,void 0,function(){var n,r,i=this;return Object(fo.d)(this,function(s){switch(s.label){case 0:return t.fs.Af(),mo("FirestoreClient","Initializing OfflineComponentProvider"),[4,t.getConfiguration()];case 1:return n=s.sent(),[4,e.initialize(n)];case 2:return s.sent(),r=n.Yl,t.ff(function(n){r.isEqual(n)||(r=n,t.fs.vo(function(){return Object(fo.b)(i,void 0,void 0,function(){return Object(fo.d)(this,function(t){switch(t.label){case 0:return[4,Yh(e.Sh,n)];case 1:return t.sent(),[2]}})})}))}),e.persistence.Vo(function(){return t.terminate()}),t.mf=e,[2]}})})}function pg(t,e){return Object(fo.b)(this,void 0,void 0,function(){var n,r;return Object(fo.d)(this,function(i){switch(i.label){case 0:return t.fs.Af(),[4,gg(t)];case 1:return n=i.sent(),mo("FirestoreClient","Initializing OnlineComponentProvider"),[4,t.getConfiguration()];case 2:return r=i.sent(),[4,e.initialize(n,r)];case 3:return i.sent(),t.ff(function(n){return t.fs.vo(function(){return function(t,e){return Object(fo.b)(this,void 0,void 0,function(){var n,r;return Object(fo.d)(this,function(i){switch(i.label){case 0:return(n=Eo(t)).fs.Af(),mo("RemoteStore","RemoteStore received new credentials"),r=nd(n),n.Fh.add(3),[4,Jf(n)];case 1:return i.sent(),r&&n.Mh.set("Unknown"),[4,n.Ch.s_(e)];case 2:return i.sent(),n.Fh.delete(3),[4,Wf(n)];case 3:return i.sent(),[2]}})})}(e.gl,n)})}),t.If=e,[2]}})})}function gg(t){return Object(fo.b)(this,void 0,void 0,function(){return Object(fo.d)(this,function(e){switch(e.label){case 0:return t.mf?[3,2]:(mo("FirestoreClient","Using default OfflineComponentProvider"),[4,dg(t,new fp)]);case 1:e.sent(),e.label=2;case 2:return[2,t.mf]}})})}function mg(t){return Object(fo.b)(this,void 0,void 0,function(){return Object(fo.d)(this,function(e){switch(e.label){case 0:return t.If?[3,2]:(mo("FirestoreClient","Using default OnlineComponentProvider"),[4,pg(t,new gp)]);case 1:e.sent(),e.label=2;case 2:return[2,t.If]}})})}function yg(t){return gg(t).then(function(t){return t.persistence})}function vg(t){return gg(t).then(function(t){return t.Sh})}function bg(t){return mg(t).then(function(t){return t.gl})}function _g(t){return mg(t).then(function(t){return t.fa})}function wg(t){return Object(fo.b)(this,void 0,void 0,function(){var e,n;return Object(fo.d)(this,function(r){switch(r.label){case 0:return[4,mg(t)];case 1:return e=r.sent(),[2,((n=e.Vl).Gh=Rd.bind(null,e.fa),n.Jh=Md.bind(null,e.fa),n)]}})})}function Eg(t,e,n){var r=this;void 0===n&&(n={});var i=new al;return t.fs.ys(function(){return Object(fo.b)(r,void 0,void 0,function(){var r;return Object(fo.d)(this,function(s){switch(s.label){case 0:return r=function(t,e,n,r,i){var s=new mp({next:function(s){e.ys(function(){return Ed(t,o)});var a=s.docs.has(n);!a&&s.fromCache?i.reject(new jo(Ao.UNAVAILABLE,"Failed to get document because the client is offline.")):a&&s.fromCache&&r&&"server"===r.source?i.reject(new jo(Ao.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):i.resolve(s)},error:function(t){return i.reject(t)}}),o=new Td(tu(n.path),s,{includeMetadataChanges:!0,sl:!0});return wd(t,o)},[4,wg(t)];case 1:return[2,r.apply(void 0,[s.sent(),t.fs,e,n,i])]}})})}),i.promise}function Og(t,e,n){var r=this;void 0===n&&(n={});var i=new al;return t.fs.ys(function(){return Object(fo.b)(r,void 0,void 0,function(){var r;return Object(fo.d)(this,function(s){switch(s.label){case 0:return r=function(t,e,n,r,i){var s=new mp({next:function(n){e.ys(function(){return Ed(t,o)}),n.fromCache&&"server"===r.source?i.reject(new jo(Ao.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):i.resolve(n)},error:function(t){return i.reject(t)}}),o=new Td(n,s,{includeMetadataChanges:!0,sl:!0});return wd(t,o)},[4,wg(t)];case 1:return[2,r.apply(void 0,[s.sent(),t.fs,e,n,i])]}})})}),i.promise}var Sg=function(){function t(){var t=this;this.Rf=Promise.resolve(),this.Pf=[],this.yf=!1,this.gf=[],this.Vf=null,this.pf=!1,this.bf=[],this.zu=new qf(this,"async_queue_retry"),this.vf=function(){var e=Vf();e&&mo("AsyncQueue","Visibility state changed to "+e.visibilityState),t.zu.Uu()};var e=Vf();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.vf)}return Object.defineProperty(t.prototype,"wf",{get:function(){return this.yf},enumerable:!1,configurable:!0}),t.prototype.ys=function(t){this.enqueue(t)},t.prototype.Tf=function(t){this.Sf(),this.Df(t)},t.prototype.Ef=function(){if(!this.yf){this.yf=!0;var t=Vf();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.vf)}},t.prototype.enqueue=function(t){return this.Sf(),this.yf?new Promise(function(t){}):this.Df(t)},t.prototype.vo=function(t){var e=this;this.ys(function(){return e.Pf.push(t),e.Cf()})},t.prototype.Cf=function(){return Object(fo.b)(this,void 0,void 0,function(){var t,e=this;return Object(fo.d)(this,function(n){switch(n.label){case 0:if(0===this.Pf.length)return[3,5];n.label=1;case 1:return n.trys.push([1,3,,4]),[4,this.Pf[0]()];case 2:return n.sent(),this.Pf.shift(),this.zu.reset(),[3,4];case 3:if(!dl(t=n.sent()))throw t;return mo("AsyncQueue","Operation failed with retryable error: "+t),[3,4];case 4:this.Pf.length>0&&this.zu.Bu(function(){return e.Cf()}),n.label=5;case 5:return[2]}})})},t.prototype.Df=function(t){var e=this,n=this.Rf.then(function(){return e.pf=!0,t().catch(function(t){throw e.Vf=t,e.pf=!1,yo("INTERNAL UNHANDLED ERROR: ",function(t){var e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+"\n"+t.stack),e}(t)),t}).then(function(t){return e.pf=!1,t})});return this.Rf=n,n},t.prototype.mr=function(t,e,n){var r=this;this.Sf(),this.bf.indexOf(t)>-1&&(e=0);var i=vl.Is(this,t,e,n,function(t){return r.xf(t)});return this.gf.push(i),i},t.prototype.Sf=function(){this.Vf&&_o()},t.prototype.Af=function(){},t.prototype.Nf=function(){return Object(fo.b)(this,void 0,void 0,function(){var t;return Object(fo.d)(this,function(e){switch(e.label){case 0:return[4,t=this.Rf];case 1:e.sent(),e.label=2;case 2:if(t!==this.Rf)return[3,0];e.label=3;case 3:return[2]}})})},t.prototype.Ff=function(t){for(var e=0,n=this.gf;e<n.length;e++)if(n[e].ds===t)return!0;return!1},t.prototype.Of=function(t){var e=this;return this.Nf().then(function(){e.gf.sort(function(t,e){return t.ws-e.ws});for(var n=0,r=e.gf;n<r.length;n++){var i=r[n];if(i.Ps(),"all"!==t&&i.ds===t)break}return e.Nf()})},t.prototype.kf=function(t){this.bf.push(t)},t.prototype.xf=function(t){var e=this.gf.indexOf(t);this.gf.splice(e,1)},t}(),Cg=function(t){function e(e,n){var r=this;return(r=t.call(this,e,n)||this).Mf=new Sg,r.w_="name"in e?e.name:"[DEFAULT]",r}return Object(fo.c)(e,t),e.prototype.b_=function(){return this.Lf||Ig(this),this.Lf.terminate()},e}(Ap);function Tg(t){return t.Lf||Ig(t),t.Lf.df(),t.Lf}function Ig(t){var e=t.p_(),n=function(t,e,n){return new Lo(t,e,n.host,n.ssl,n.experimentalForceLongPolling,n.experimentalAutoDetectLongPolling)}(t.I_,t.w_,e);t.Lf=new fg(t.m_,t.Mf,n)}function xg(t,e,n){var r=this,i=new al;return t.fs.enqueue(function(){return Object(fo.b)(r,void 0,void 0,function(){var r;return Object(fo.d)(this,function(s){switch(s.label){case 0:return s.trys.push([0,3,,4]),[4,dg(t,n)];case 1:return s.sent(),[4,pg(t,e)];case 2:return s.sent(),i.resolve(),[3,4];case 3:if(!function(t){return"FirebaseError"===t.name?t.code===Ao.FAILED_PRECONDITION||t.code===Ao.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&t instanceof DOMException)||22===t.code||20===t.code||11===t.code}(r=s.sent()))throw r;return console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+r),i.reject(r),[3,4];case 4:return[2]}})})}).then(function(){return i.promise})}function Ag(t){if(t.R_||t.P_)throw new jo(Ao.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}var jg=function(){function t(){}return t.prototype.$f=function(t,e){switch(void 0===e&&(e="none"),fa(t)){case 0:return null;case 1:return t.booleanValue;case 2:return ia(t.integerValue||t.doubleValue);case 3:return this.Bf(t.timestampValue);case 4:return this.qf(t,e);case 5:return t.stringValue;case 6:return this.Uf(sa(t.bytesValue));case 7:return this.Qf(t.referenceValue);case 8:return this.Kf(t.geoPointValue);case 9:return this.Wf(t.arrayValue,e);case 10:return this.jf(t.mapValue,e);default:throw _o()}},t.prototype.jf=function(t,e){var n=this,r={};return Xo(t.fields||{},function(t,i){r[t]=n.$f(i,e)}),r},t.prototype.Kf=function(t){return new Mp(ia(t.latitude),ia(t.longitude))},t.prototype.Wf=function(t,e){var n=this;return(t.values||[]).map(function(t){return n.$f(t,e)})},t.prototype.qf=function(t,e){switch(e){case"previous":var n=aa(t);return null==n?null:this.$f(n,e);case"estimate":return this.Bf(ua(t));default:return null}},t.prototype.Bf=function(t){var e=ra(t);return new Bo(e.seconds,e.nanos)},t.prototype.Gf=function(t,e){var n=Wo.ct(t);wo(ol(n));var r=new Mo(n.get(1),n.get(3)),i=new Zo(n.X(5));return r.isEqual(e)||yo("Document "+i+" contains a document reference within a different database ("+r.projectId+"/"+r.database+") which is not supported. It will be treated as a reference in the current database ("+e.projectId+"/"+e.database+") instead."),i},t}(),kg=function(){function t(t,e,n,r,i){this.zf=t,this.Hf=e,this.S_=n,this.Jf=r,this.v_=i}return Object.defineProperty(t.prototype,"id",{get:function(){return this.S_.path.et()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"ref",{get:function(){return new jp(this.zf,this.v_,this.S_)},enumerable:!1,configurable:!0}),t.prototype.exists=function(){return null!==this.Jf},t.prototype.data=function(){if(this.Jf){if(this.v_){var t=new Ng(this.zf,this.Hf,this.S_,this.Jf,null);return this.v_.fromFirestore(t)}return this.Hf.$f(this.Jf.vt())}},t.prototype.get=function(t){if(this.Jf){var e=this.Jf.data().field(Pg("DocumentSnapshot.get",t));if(null!==e)return this.Hf.$f(e)}},t}(),Ng=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(fo.c)(e,t),e.prototype.data=function(){return t.prototype.data.call(this)},e}(kg);function Pg(t,e){return"string"==typeof e?ag(t,e):e instanceof No?e._.d_:e.d_}function Dg(t){if(nu(t)&&0===t.Nt.length)throw new jo(Ao.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var Rg=function(){};function Lg(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];for(var r=0,i=e;r<i.length;r++){var s=i[r];t=s.Yf(t)}return t}var Mg=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).Xf=e,i.Zf=n,i.td=r,i.type="where",i}return Object(fo.c)(e,t),e.prototype.Yf=function(t){var e=Kp(t.firestore),n=function(t,e,n,r,i,s,o){var a;if(i.ht()){if("array-contains"===s||"array-contains-any"===s)throw new jo(Ao.INVALID_ARGUMENT,"Invalid Query. You can't perform '"+s+"' queries on FieldPath.documentId().");if("in"===s||"not-in"===s){Kg(o,s);for(var u=[],c=0,l=o;c<l.length;c++)u.push(zg(r,t,l[c]));a={arrayValue:{values:u}}}else a=zg(r,t,o)}else"in"!==s&&"not-in"!==s&&"array-contains-any"!==s||Kg(o,s),a=tg(n,"where",o,"in"===s||"not-in"===s);var h=Ma.create(i,s,a);return function(t,e){if(e.xt()){var n=iu(t);if(null!==n&&!n.isEqual(e.field))throw new jo(Ao.INVALID_ARGUMENT,"Invalid query. All where filters with an inequality (<, <=, >, or >=) must be on the same field. But you have inequality filters on '"+n.toString()+"' and '"+e.field.toString()+"'");var r=ru(t);null!==r&&Bg(0,e.field,r)}var i=function(t,e){for(var n=0,r=t.filters;n<r.length;n++){var i=r[n];if(e.indexOf(i.op)>=0)return i.op}return null}(t,function(t){switch(t){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(null!==i)throw new jo(Ao.INVALID_ARGUMENT,i===e.op?"Invalid query. You cannot use more than one '"+e.op.toString()+"' filter.":"Invalid query. You cannot use '"+e.op.toString()+"' filters with '"+i.toString()+"' filters.")}(t,h),h}(t.C_,0,e,t.firestore.I_,this.Xf,this.Zf,this.td);return new kp(t.firestore,t.v_,function(t,e){var n=t.filters.concat([e]);return new Ya(t.path,t.collectionGroup,t.Nt.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}(t.C_,n))},e}(Rg),Fg=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).Xf=e,r.ed=n,r.type="orderBy",r}return Object(fo.c)(e,t),e.prototype.Yf=function(t){var e=function(t,e,n){if(null!==t.startAt)throw new jo(Ao.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==t.endAt)throw new jo(Ao.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");var r=new Wa(e,n);return function(t,e){if(null===ru(t)){var n=iu(t);null!==n&&Bg(0,n,e.field)}}(t,r),r}(t.C_,this.Xf,this.ed);return new kp(t.firestore,t.v_,function(t,e){var n=t.Nt.concat([e]);return new Ya(t.path,t.collectionGroup,n,t.filters.slice(),t.limit,t.limitType,t.startAt,t.endAt)}(t.C_,e))},e}(Rg),Vg=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).type=e,i.nd=n,i.sd=r,i}return Object(fo.c)(e,t),e.prototype.Yf=function(t){return new kp(t.firestore,t.v_,uu(t.C_,this.nd,this.sd))},e}(Rg),Ug=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).type=e,i.rd=n,i.od=r,i}return Object(fo.c)(e,t),e.prototype.Yf=function(t){var e=Hg(t,this.type,this.rd,this.od);return new kp(t.firestore,t.v_,function(t,e){return new Ya(t.path,t.collectionGroup,t.Nt.slice(),t.filters.slice(),t.limit,t.limitType,e,t.endAt)}(t.C_,e))},e}(Rg),qg=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).type=e,i.rd=n,i.od=r,i}return Object(fo.c)(e,t),e.prototype.Yf=function(t){var e=Hg(t,this.type,this.rd,this.od);return new kp(t.firestore,t.v_,function(t,e){return new Ya(t.path,t.collectionGroup,t.Nt.slice(),t.filters.slice(),t.limit,t.limitType,t.startAt,e)}(t.C_,e))},e}(Rg);function Hg(t,e,n,r){if(n[0]instanceof No&&(n[0]=n[0]._),n[0]instanceof kg)return function(t,e,n,r,i){if(!r)throw new jo(Ao.NOT_FOUND,"Can't use a DocumentSnapshot that doesn't exist for "+n+"().");for(var s=[],o=0,a=ou(t);o<a.length;o++){var u=a[o];if(u.field.ht())s.push(ba(e,r.key));else{var c=r.field(u.field);if(oa(c))throw new jo(Ao.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+u.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===c){var l=u.field.ot();throw new jo(Ao.INVALID_ARGUMENT,"Invalid query. You are trying to start or end a query using a document for which the field '"+l+"' (used as the orderBy) does not exist.")}s.push(c)}}return new Ga(s,i)}(t.C_,t.firestore.I_,e,n[0].Jf,r);var i=Kp(t.firestore);return function(t,e,n,r,i,s){var o=t.Nt;if(i.length>o.length)throw new jo(Ao.INVALID_ARGUMENT,"Too many arguments provided to "+r+"(). The number of arguments must be less than or equal to the number of orderBy() clauses");for(var a=[],u=0;u<i.length;u++){var c=i[u];if(o[u].field.ht()){if("string"!=typeof c)throw new jo(Ao.INVALID_ARGUMENT,"Invalid query. Expected a string for document ID in "+r+"(), but got a "+typeof c);if(!su(t)&&-1!==c.indexOf("/"))throw new jo(Ao.INVALID_ARGUMENT,"Invalid query. When querying a collection and ordering by FieldPath.documentId(), the value passed to "+r+"() must be a plain document ID, but '"+c+"' contains a slash.");var l=t.path.child(Wo.ct(c));if(!Zo.Et(l))throw new jo(Ao.INVALID_ARGUMENT,"Invalid query. When querying a collection group and ordering by FieldPath.documentId(), the value passed to "+r+"() must result in a valid document path, but '"+l+"' is not because it contains an odd number of segments.");var h=new Zo(l);a.push(ba(e,h))}else{var f=tg(n,r,c);a.push(f)}}return new Ga(a,s)}(t.C_,t.firestore.I_,i,e,n,r)}function zg(t,e,n){if(n instanceof No&&(n=n._),"string"==typeof n){if(""===n)throw new jo(Ao.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid document ID, but it was an empty string.");if(!su(e)&&-1!==n.indexOf("/"))throw new jo(Ao.INVALID_ARGUMENT,"Invalid query. When querying a collection by FieldPath.documentId(), you must provide a plain document ID, but '"+n+"' contains a '/' character.");var r=e.path.child(Wo.ct(n));if(!Zo.Et(r))throw new jo(Ao.INVALID_ARGUMENT,"Invalid query. When querying a collection group by FieldPath.documentId(), the value provided must result in a valid document path, but '"+r+"' is not because it has an odd number of segments ("+r.length+").");return ba(t,new Zo(r))}if(n instanceof jp)return ba(t,n.S_);throw new jo(Ao.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid string or a DocumentReference, but it was: "+Sp(n)+".")}function Kg(t,e){if(!Array.isArray(t)||0===t.length)throw new jo(Ao.INVALID_ARGUMENT,"Invalid Query. A non-empty array is required for '"+e.toString()+"' filters.");if(t.length>10)throw new jo(Ao.INVALID_ARGUMENT,"Invalid Query. '"+e.toString()+"' filters support a maximum of 10 elements in the value array.")}function Bg(t,e,n){if(!n.isEqual(e))throw new jo(Ao.INVALID_ARGUMENT,"Invalid query. You have a where filter with an inequality (<, <=, >, or >=) on field '"+e.toString()+"' and so you must also use '"+e.toString()+"' as your first argument to orderBy(), but your first orderBy() is on field '"+n.toString()+"' instead.")}function Gg(t){return function(t,e){if("object"!=typeof t||null===t)return!1;for(var n=t,r=0,i=["next","error","complete"];r<i.length;r++){var s=i[r];if(s in n&&"function"==typeof n[s])return!0}return!1}(t)}function $g(t,e,n){return t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e}var Wg=function(t){function e(e){var n=this;return(n=t.call(this)||this).firestore=e,n}return Object(fo.c)(e,t),e.prototype.Uf=function(t){return new ko(t)},e.prototype.Qf=function(t){var e=this.Gf(t,this.firestore.I_);return new jp(this.firestore,null,e)},e}(jg),Jg=function(){function t(t,e){this.hasPendingWrites=t,this.fromCache=e}return t.prototype.isEqual=function(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache},t}(),Qg=function(t){function e(e,n,r,i,s,o){var a=this;return(a=t.call(this,e,n,r,i,o)||this).zf=e,a.ad=e,a.metadata=s,a}return Object(fo.c)(e,t),e.prototype.exists=function(){return t.prototype.exists.call(this)},e.prototype.data=function(t){if(void 0===t&&(t={}),this.Jf){if(this.v_){var e=new Zg(this.zf,this.Hf,this.S_,this.Jf,this.metadata,null);return this.v_.fromFirestore(e,t)}return this.Hf.$f(this.Jf.vt(),t.serverTimestamps)}},e.prototype.get=function(t,e){if(void 0===e&&(e={}),this.Jf){var n=this.Jf.data().field(Pg("DocumentSnapshot.get",t));if(null!==n)return this.Hf.$f(n,e.serverTimestamps)}},e}(kg),Zg=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(fo.c)(e,t),e.prototype.data=function(e){return void 0===e&&(e={}),t.prototype.data.call(this,e)},e}(Qg),Yg=function(){function t(t,e,n,r){this.zf=t,this.Hf=e,this.ud=r,this.metadata=new Jg(r.hasPendingWrites,r.fromCache),this.query=n}return Object.defineProperty(t.prototype,"docs",{get:function(){var t=[];return this.forEach(function(e){return t.push(e)}),t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"size",{get:function(){return this.ud.docs.size},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"empty",{get:function(){return 0===this.size},enumerable:!1,configurable:!0}),t.prototype.forEach=function(t,e){var n=this;this.ud.docs.forEach(function(r){t.call(e,new Zg(n.zf,n.Hf,r.key,r,new Jg(n.ud.Ce.has(r.key),n.ud.fromCache),n.query.v_))})},t.prototype.docChanges=function(t){void 0===t&&(t={});var e=!!t.includeMetadataChanges;if(e&&this.ud.Ne)throw new jo(Ao.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this.hd&&this.ld===e||(this.hd=function(t,e){if(t.ud.De.nt()){var n=0;return t.ud.docChanges.map(function(e){return{type:"added",doc:new Zg(t.zf,t.Hf,e.doc.key,e.doc,new Jg(t.ud.Ce.has(e.doc.key),t.ud.fromCache),t.query.v_),oldIndex:-1,newIndex:n++}})}var r=t.ud.De;return t.ud.docChanges.filter(function(t){return e||3!==t.type}).map(function(e){var n=new Zg(t.zf,t.Hf,e.doc.key,e.doc,new Jg(t.ud.Ce.has(e.doc.key),t.ud.fromCache),t.query.v_),i=-1,s=-1;return 0!==e.type&&(i=r.indexOf(e.doc.key),r=r.delete(e.doc.key)),1!==e.type&&(s=(r=r.add(e.doc)).indexOf(e.doc.key)),{type:Xg(e.type),doc:n,oldIndex:i,newIndex:s}})}(this,e),this.ld=e),this.hd},t}();function Xg(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return _o()}}function tm(t,e){return t instanceof Qg&&e instanceof Qg?t.zf===e.zf&&t.S_.isEqual(e.S_)&&(null===t.Jf?null===e.Jf:t.Jf.isEqual(e.Jf))&&t.v_===e.v_:t instanceof Yg&&e instanceof Yg&&t.zf===e.zf&&Lp(t.query,e.query)&&t.metadata.isEqual(e.metadata)&&t.ud.isEqual(e.ud)}var em=function(t){function e(e){var n=this;return(n=t.call(this)||this).firestore=e,n}return Object(fo.c)(e,t),e.prototype.Uf=function(t){return new ko(t)},e.prototype.Qf=function(t){var e=this.Gf(t,this.firestore.I_);return new jp(this.firestore,null,e)},e}(jg);function nm(t,e,n){for(var r=[],i=3;i<arguments.length;i++)r[i-3]=arguments[i];t=Cp(t,jp);var s=Cp(t.firestore,Cg),o=Kp(s);return e instanceof No&&(e=e._),im(s,[("string"==typeof e||e instanceof yp?Xp(o,"updateDoc",t.S_,e,n,r):Yp(o,"updateDoc",t.S_,e)).F_(t.S_,Pu.exists(!0))])}function rm(t){for(var e,n,r,i=[],s=1;s<arguments.length;s++)i[s-1]=arguments[s];t instanceof No&&(t=t._);var o={includeMetadataChanges:!1},a=0;"object"!=typeof i[a]||Gg(i[a])||(o=i[a],a++);var u,c,l,h={includeMetadataChanges:o.includeMetadataChanges};if(Gg(i[a])){var f=i[a];i[a]=null===(e=f.next)||void 0===e?void 0:e.bind(f),i[a+1]=null===(n=f.error)||void 0===n?void 0:n.bind(f),i[a+2]=null===(r=f.complete)||void 0===r?void 0:r.bind(f)}if(t instanceof jp)c=Cp(t.firestore,Cg),l=tu(t.S_.path),u={next:function(e){i[a]&&i[a](sm(c,t,e))},error:i[a+1],complete:i[a+2]};else{var d=Cp(t,kp);c=Cp(d.firestore,Cg),l=d.C_;var p=new em(c);u={next:function(t){i[a]&&i[a](new Yg(c,p,d,t))},error:i[a+1],complete:i[a+2]},Dg(t.C_)}return function(t,e,n,r){var i=this,s=new mp(r),o=new Td(e,s,n);return t.fs.ys(function(){return Object(fo.b)(i,void 0,void 0,function(){var e;return Object(fo.d)(this,function(n){switch(n.label){case 0:return e=wd,[4,wg(t)];case 1:return[2,e.apply(void 0,[n.sent(),o])]}})})}),function(){s.r_(),t.fs.ys(function(){return Object(fo.b)(i,void 0,void 0,function(){var e;return Object(fo.d)(this,function(n){switch(n.label){case 0:return e=Ed,[4,wg(t)];case 1:return[2,e.apply(void 0,[n.sent(),o])]}})})})}}(Tg(c),l,h,u)}function im(t,e){return function(t,e){var n=this,r=new al;return t.fs.ys(function(){return Object(fo.b)(n,void 0,void 0,function(){var n;return Object(fo.d)(this,function(i){switch(i.label){case 0:return n=Fd,[4,_g(t)];case 1:return[2,n.apply(void 0,[i.sent(),e,r])]}})})}),r.promise}(Tg(t),e)}function sm(t,e,n){var r=n.docs.get(e.S_),i=new em(t);return new Qg(t,i,e.S_,r,new Jg(n.hasPendingWrites,n.fromCache),e.v_)}var om=function(){function t(t,e){this.zf=t,this._d=e,this.fd=[],this.dd=!1,this.wd=Kp(t)}return t.prototype.set=function(t,e,n){this.Ed();var r=am(t,this.zf),i=$g(r.v_,e,n),s=Bp(this.wd,"WriteBatch.set",r.S_,i,null!==r.v_,n);return this.fd.push(s.F_(r.S_,Pu.Wt())),this},t.prototype.update=function(t,e,n){for(var r=[],i=3;i<arguments.length;i++)r[i-3]=arguments[i];this.Ed();var s,o=am(t,this.zf);return e instanceof No&&(e=e._),s="string"==typeof e||e instanceof yp?Xp(this.wd,"WriteBatch.update",o.S_,e,n,r):Yp(this.wd,"WriteBatch.update",o.S_,e),this.fd.push(s.F_(o.S_,Pu.exists(!0))),this},t.prototype.delete=function(t){this.Ed();var e=am(t,this.zf);return this.fd=this.fd.concat(new Ju(e.S_,Pu.Wt())),this},t.prototype.commit=function(){return this.Ed(),this.dd=!0,this.fd.length>0?this._d(this.fd):Promise.resolve()},t.prototype.Ed=function(){if(this.dd)throw new jo(Ao.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")},t}();function am(t,e){if(t instanceof No&&(t=t._),t.firestore!==e)throw new jo(Ao.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return t}var um=function(t){function e(e,n){var r=this;return(r=t.call(this,e,n)||this).zf=e,r}return Object(fo.c)(e,t),e.prototype.get=function(e){var n=this,r=am(e,this.zf),i=new em(this.zf);return t.prototype.get.call(this,e).then(function(t){return new Qg(n.zf,i,r.S_,t.Jf,new Jg(!1,!1),r.v_)})},e}(function(){function t(t,e){this.zf=t,this.Td=e,this.wd=Kp(t)}return t.prototype.get=function(t){var e=this,n=am(t,this.zf),r=new Wg(this.zf);return this.Td.ef([n.S_]).then(function(t){if(!t||1!==t.length)return _o();var i=t[0];if(i instanceof ja)return new kg(e.zf,r,n.S_,null,n.v_);if(i instanceof Aa)return new kg(e.zf,r,i.key,i,n.v_);throw _o()})},t.prototype.set=function(t,e,n){var r=am(t,this.zf),i=$g(r.v_,e,n),s=Bp(this.wd,"Transaction.set",r.S_,i,null!==r.v_,n);return this.Td.set(r.S_,s),this},t.prototype.update=function(t,e,n){for(var r=[],i=3;i<arguments.length;i++)r[i-3]=arguments[i];var s,o=am(t,this.zf);return e instanceof No&&(e=e._),s="string"==typeof e||e instanceof yp?Xp(this.wd,"Transaction.update",o.S_,e,n,r):Yp(this.wd,"Transaction.update",o.S_,e),this.Td.update(o.S_,s),this},t.prototype.delete=function(t){var e=am(t,this.zf);return this.Td.delete(e.S_),this},t}()),cm=function(){function t(){}return t.prototype.enableIndexedDbPersistence=function(t,e){return function(t,e){Ag(t=Cp(t,Cg));var n=Tg(t),r=t.p_(),i=new gp;return xg(n,i,new dp(i,r.cacheSizeBytes,null==e?void 0:e.forceOwnership))}(t._,{forceOwnership:e})},t.prototype.enableMultiTabIndexedDbPersistence=function(t){return function(t){Ag(t=Cp(t,Cg));var e=Tg(t),n=t.p_(),r=new gp;return xg(e,r,new pp(r,n.cacheSizeBytes))}(t._)},t.prototype.clearIndexedDbPersistence=function(t){return function(t){var e=this;if(t.R_&&!t.P_)throw new jo(Ao.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");var n=new al;return t.Mf.Tf(function(){return Object(fo.b)(e,void 0,void 0,function(){var e;return Object(fo.d)(this,function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),[4,function(t){return Object(fo.b)(this,void 0,void 0,function(){return Object(fo.d)(this,function(e){switch(e.label){case 0:return ll.Wn()?[4,ll.delete(t+"main")]:[2,Promise.resolve()];case 1:return e.sent(),[2]}})})}(Gh(t.I_,t.w_))];case 1:return r.sent(),n.resolve(),[3,3];case 2:return e=r.sent(),n.reject(e),[3,3];case 3:return[2]}})})}),n.promise}(t._)},t}(),lm=function(t){function e(e,n,r){var i=this;return(i=t.call(this,n)||this).Id=r,i.INTERNAL={delete:function(){return i.terminate()}},e instanceof Mo||(i.md=e),i}return Object(fo.c)(e,t),Object.defineProperty(e.prototype,"I_",{get:function(){return this._.I_},enumerable:!1,configurable:!0}),e.prototype.settings=function(t){t.merge&&delete(t=Object.assign(Object.assign({},this._.V_()),t)).merge,this._.g_(t)},e.prototype.useEmulator=function(t,e){"firestore.googleapis.com"!==this._.V_().host&&vo("Host has been set in both settings() and useEmulator(), emulator host will be used"),this.settings({host:t+":"+e,ssl:!1,merge:!0})},e.prototype.enableNetwork=function(){return function(t){var e=this;return t.fs.enqueue(function(){return Object(fo.b)(e,void 0,void 0,function(){var e,n;return Object(fo.d)(this,function(r){switch(r.label){case 0:return[4,yg(t)];case 1:return e=r.sent(),[4,bg(t)];case 2:return n=r.sent(),[2,(e.po(!0),function(t){var e=Eo(t);return e.Fh.delete(0),Wf(e)}(n))]}})})})}(Tg(Cp(this._,Cg)))},e.prototype.disableNetwork=function(){return function(t){var e=this;return t.fs.enqueue(function(){return Object(fo.b)(e,void 0,void 0,function(){var e,n;return Object(fo.d)(this,function(r){switch(r.label){case 0:return[4,yg(t)];case 1:return e=r.sent(),[4,bg(t)];case 2:return n=r.sent(),[2,(e.po(!1),function(t){return Object(fo.b)(this,void 0,void 0,function(){var e;return Object(fo.d)(this,function(n){switch(n.label){case 0:return(e=Eo(t)).Fh.add(0),[4,Jf(e)];case 1:return n.sent(),e.Mh.set("Offline"),[2]}})})}(n))]}})})})}(Tg(Cp(this._,Cg)))},e.prototype.enablePersistence=function(t){var e=!1,n=!1;return t&&wp("synchronizeTabs",e=!!t.synchronizeTabs,"experimentalForceOwningTab",n=!!t.experimentalForceOwningTab),e?this.Id.enableMultiTabIndexedDbPersistence(this):this.Id.enableIndexedDbPersistence(this,n)},e.prototype.clearPersistence=function(){return this.Id.clearIndexedDbPersistence(this)},e.prototype.terminate=function(){return this.app._removeServiceInstance("firestore"),this.app._removeServiceInstance("firestore-exp"),this._._delete()},e.prototype.waitForPendingWrites=function(){return function(t){var e=this,n=new al;return t.fs.ys(function(){return Object(fo.b)(e,void 0,void 0,function(){var e;return Object(fo.d)(this,function(r){switch(r.label){case 0:return e=Kd,[4,_g(t)];case 1:return[2,e.apply(void 0,[r.sent(),n])]}})})}),n.promise}(Tg(Cp(this._,Cg)))},e.prototype.onSnapshotsInSync=function(t){return function(t,e){return function(t,e){var n=this,r=new mp(e);return t.fs.ys(function(){return Object(fo.b)(n,void 0,void 0,function(){var e;return Object(fo.d)(this,function(n){switch(n.label){case 0:return e=function(t,e){Eo(t).jh.add(e),e.next()},[4,wg(t)];case 1:return[2,e.apply(void 0,[n.sent(),r])]}})})}),function(){r.r_(),t.fs.ys(function(){return Object(fo.b)(n,void 0,void 0,function(){var e;return Object(fo.d)(this,function(n){switch(n.label){case 0:return e=function(t,e){Eo(t).jh.delete(e)},[4,wg(t)];case 1:return[2,e.apply(void 0,[n.sent(),r])]}})})})}}(Tg(t=Cp(t,Cg)),Gg(e)?e:{next:e})}(this._,t)},Object.defineProperty(e.prototype,"app",{get:function(){if(!this.md)throw new jo(Ao.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this.md},enumerable:!1,configurable:!0}),e.prototype.collection=function(t){try{return new Om(this,Pp(this._,t))}catch(t){throw gm(t,"collection()","Firestore.collection()")}},e.prototype.doc=function(t){try{return new pm(this,Dp(this._,t))}catch(t){throw gm(t,"doc()","Firestore.doc()")}},e.prototype.collectionGroup=function(t){try{return new _m(this,function(t,e){if(t=Cp(t,Ap),bp("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new jo(Ao.INVALID_ARGUMENT,"Invalid collection ID '"+e+"' passed to function collectionGroup(). Collection IDs must not contain '/'.");return new kp(t,null,function(t){return new Ya(Wo.at(),t)}(e))}(this._,t))}catch(t){throw gm(t,"collectionGroup()","Firestore.collectionGroup()")}},e.prototype.runTransaction=function(t){var e=this;return function(t,e){return function(t,e){var n=this,r=new al;return t.fs.ys(function(){return Object(fo.b)(n,void 0,void 0,function(){var n;return Object(fo.d)(this,function(i){switch(i.label){case 0:return[4,function(t){return mg(t).then(function(t){return t.Dh})}(t)];case 1:return n=i.sent(),new hg(t.fs,n,e,r).run(),[2]}})})}),r.promise}(Tg(t),function(n){return e(new um(t,n))})}(this._,function(n){return t(new fm(e,n))})},e.prototype.batch=function(){var t=this;return Tg(this._),new dm(new om(this._,function(e){return im(t._,e)}))},e.prototype.loadBundle=function(t){throw new jo(Ao.FAILED_PRECONDITION,'"loadBundle()" does not exist, have you imported "firebase/firestore/bundle"?')},e.prototype.namedQuery=function(t){throw new jo(Ao.FAILED_PRECONDITION,'"namedQuery()" does not exist, have you imported "firebase/firestore/bundle"?')},e}(No),hm=function(t){function e(e){var n=this;return(n=t.call(this)||this).firestore=e,n}return Object(fo.c)(e,t),e.prototype.Uf=function(t){return new Ro(new ko(t))},e.prototype.Qf=function(t){var e=this.Gf(t,this.firestore.I_);return pm.Ad(e,this.firestore,null)},e}(jg),fm=function(t){function e(e,n){var r=this;return(r=t.call(this,n)||this).zf=e,r}return Object(fo.c)(e,t),e.prototype.get=function(t){var e=this,n=Sm(t);return this._.get(n).then(function(t){return new vm(e.zf,t)})},e.prototype.set=function(t,e,n){var r=Sm(t);return n?(_p("Transaction.set",n),this._.set(r,e,n)):this._.set(r,e),this},e.prototype.update=function(t,e,n){for(var r,i=[],s=3;s<arguments.length;s++)i[s-3]=arguments[s];var o=Sm(t);return 2===arguments.length?this._.update(o,e):(r=this._).update.apply(r,Object(fo.g)([o,e,n],i)),this},e.prototype.delete=function(t){var e=Sm(t);return this._.delete(e),this},e}(No),dm=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(fo.c)(e,t),e.prototype.set=function(t,e,n){var r=Sm(t);return n?(_p("WriteBatch.set",n),this._.set(r,e,n)):this._.set(r,e),this},e.prototype.update=function(t,e,n){for(var r,i=[],s=3;s<arguments.length;s++)i[s-3]=arguments[s];var o=Sm(t);return 2===arguments.length?this._.update(o,e):(r=this._).update.apply(r,Object(fo.g)([o,e,n],i)),this},e.prototype.delete=function(t){var e=Sm(t);return this._.delete(e),this},e.prototype.commit=function(){return this._.commit()},e}(No),pm=function(t){function e(e,n){var r=this;return(r=t.call(this,n)||this).firestore=e,r.Hf=new hm(e),r}return Object(fo.c)(e,t),e.Rd=function(t,n,r){if(t.length%2!=0)throw new jo(Ao.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+t.ot()+" has "+t.length);return new e(n,new jp(n._,r,new Zo(t)))},e.Ad=function(t,n,r){return new e(n,new jp(n._,r,t))},Object.defineProperty(e.prototype,"id",{get:function(){return this._.id},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){return new Om(this.firestore,this._.parent)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this._.path},enumerable:!1,configurable:!0}),e.prototype.collection=function(t){try{return new Om(this.firestore,Pp(this._,t))}catch(t){throw gm(t,"collection()","DocumentReference.collection()")}},e.prototype.isEqual=function(t){return t instanceof No&&(t=t._),t instanceof jp&&Rp(this._,t)},e.prototype.set=function(t,e){e=_p("DocumentReference.set",e);try{return function(t,e,n){t=Cp(t,jp);var r=Cp(t.firestore,Cg),i=$g(t.v_,e,n);return im(r,[Bp(Kp(r),"setDoc",t.S_,i,null!==t.v_,n).F_(t.S_,Pu.Wt())])}(this._,t,e)}catch(t){throw gm(t,"setDoc()","DocumentReference.set()")}},e.prototype.update=function(t,e){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];try{return 1===arguments.length?nm(this._,t):nm.apply(void 0,Object(fo.g)([this._,t,e],n))}catch(t){throw gm(t,"updateDoc()","DocumentReference.update()")}},e.prototype.delete=function(){return im(Cp((t=this._).firestore,Cg),[new Ju(t.S_,Pu.Wt())]);var t},e.prototype.onSnapshot=function(){for(var t=this,e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=mm(e),i=ym(e,function(e){return new vm(t.firestore,new Qg(t.firestore._,t.Hf,e.S_,e.Jf,e.metadata,t._.v_))});return rm(this._,r,i)},e.prototype.get=function(t){var e=this;return("cache"===(null==t?void 0:t.source)?function(t){t=Cp(t,jp);var e=Cp(t.firestore,Cg),n=Tg(e),r=new em(e);return function(t,e){var n=this,r=new al;return t.fs.ys(function(){return Object(fo.b)(n,void 0,void 0,function(){var n;return Object(fo.d)(this,function(i){switch(i.label){case 0:return n=function(t,e,n){return Object(fo.b)(this,void 0,void 0,function(){var r,i;return Object(fo.d)(this,function(s){switch(s.label){case 0:return s.trys.push([0,2,,3]),[4,function(t,e){var n=Eo(t);return n.persistence.runTransaction("read document","readonly",function(t){return n.Ic.Jo(t,e)})}(t,e)];case 1:return(i=s.sent())instanceof Aa?n.resolve(i):i instanceof ja?n.resolve(null):n.reject(new jo(Ao.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)")),[3,3];case 2:return r=s.sent(),i=bl(r,"Failed to get document '"+e+" from cache"),n.reject(i),[3,3];case 3:return[2]}})})},[4,vg(t)];case 1:return[2,n.apply(void 0,[i.sent(),e,r])]}})})}),r.promise}(n,t.S_).then(function(n){return new Qg(e,r,t.S_,n,new Jg(n instanceof Aa&&n.bt,!0),t.v_)})}(this._):"server"===(null==t?void 0:t.source)?function(t){t=Cp(t,jp);var e=Cp(t.firestore,Cg);return Eg(Tg(e),t.S_,{source:"server"}).then(function(n){return sm(e,t,n)})}(this._):function(t){t=Cp(t,jp);var e=Cp(t.firestore,Cg);return Eg(Tg(e),t.S_).then(function(n){return sm(e,t,n)})}(this._)).then(function(t){return new vm(e.firestore,new Qg(e.firestore._,e.Hf,t.S_,t.Jf,t.metadata,e._.v_))})},e.prototype.withConverter=function(t){return new e(this.firestore,this._.withConverter(t))},e}(No);function gm(t,e,n){return t.message=t.message.replace(e,n),t}function mm(t){for(var e=0,n=t;e<n.length;e++){var r=n[e];if("object"==typeof r&&!Gg(r))return r}return{}}function ym(t,e){var n,r,i;return{next:function(t){i.next&&i.next(e(t))},error:null===(n=(i=Gg(t[0])?t[0]:Gg(t[1])?t[1]:"function"==typeof t[0]?{next:t[0],error:t[1],complete:t[2]}:{next:t[1],error:t[2],complete:t[3]}).error)||void 0===n?void 0:n.bind(i),complete:null===(r=i.complete)||void 0===r?void 0:r.bind(i)}}var vm=function(t){function e(e,n){var r=this;return(r=t.call(this,n)||this).zf=e,r}return Object(fo.c)(e,t),Object.defineProperty(e.prototype,"ref",{get:function(){return new pm(this.zf,this._.ref)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"id",{get:function(){return this._.id},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"metadata",{get:function(){return this._.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"exists",{get:function(){return this._.exists()},enumerable:!1,configurable:!0}),e.prototype.data=function(t){return this._.data(t)},e.prototype.get=function(t,e){return this._.get(t,e)},e.prototype.isEqual=function(t){return tm(this._,t._)},e}(No),bm=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(fo.c)(e,t),e.prototype.data=function(t){return this._.data(t)},e}(vm),_m=function(t){function e(e,n){var r=this;return(r=t.call(this,n)||this).firestore=e,r.Hf=new hm(e),r}return Object(fo.c)(e,t),e.prototype.where=function(t,n,r){try{return new e(this.firestore,Lg(this._,function(t,e,n){var r=e,i=Pg("where",t);return new Mg(i,r,n)}(t,n,r)))}catch(t){throw gm(t,/(orderBy|where)\(\)/,"Query.$1()")}},e.prototype.orderBy=function(t,n){try{return new e(this.firestore,Lg(this._,function(t,e){void 0===e&&(e="asc");var n=e,r=Pg("orderBy",t);return new Fg(r,n)}(t,n)))}catch(t){throw gm(t,/(orderBy|where)\(\)/,"Query.$1()")}},e.prototype.limit=function(t){try{return new e(this.firestore,Lg(this._,function(t){return Tp("limit",t),new Vg("limit",t,"F")}(t)))}catch(t){throw gm(t,"limit()","Query.limit()")}},e.prototype.limitToLast=function(t){try{return new e(this.firestore,Lg(this._,function(t){return Tp("limitToLast",t),new Vg("limitToLast",t,"L")}(t)))}catch(t){throw gm(t,"limitToLast()","Query.limitToLast()")}},e.prototype.startAt=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return new e(this.firestore,Lg(this._,(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new Ug("startAt",t,!0)}).apply(void 0,t)))}catch(t){throw gm(t,"startAt()","Query.startAt()")}},e.prototype.startAfter=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return new e(this.firestore,Lg(this._,(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new Ug("startAfter",t,!1)}).apply(void 0,t)))}catch(t){throw gm(t,"startAfter()","Query.startAfter()")}},e.prototype.endBefore=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return new e(this.firestore,Lg(this._,(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new qg("endBefore",t,!0)}).apply(void 0,t)))}catch(t){throw gm(t,"endBefore()","Query.endBefore()")}},e.prototype.endAt=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return new e(this.firestore,Lg(this._,(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new qg("endAt",t,!1)}).apply(void 0,t)))}catch(t){throw gm(t,"endAt()","Query.endAt()")}},e.prototype.isEqual=function(t){return Lp(this._,t._)},e.prototype.get=function(t){var e=this;return("cache"===(null==t?void 0:t.source)?function(t){t=Cp(t,kp);var e=Cp(t.firestore,Cg),n=Tg(e),r=new em(e);return function(t,e){var n=this,r=new al;return t.fs.ys(function(){return Object(fo.b)(n,void 0,void 0,function(){var n;return Object(fo.d)(this,function(i){switch(i.label){case 0:return n=function(t,e,n){return Object(fo.b)(this,void 0,void 0,function(){var r,i,s,o,a;return Object(fo.d)(this,function(u){switch(u.label){case 0:return u.trys.push([0,2,,3]),[4,af(t,e,!0)];case 1:return a=u.sent(),r=new kd(e,a.Pc),i=r.dl(a.documents),s=r.Ti(i,!1),n.resolve(s.snapshot),[3,3];case 2:return o=u.sent(),a=bl(o,"Failed to execute query '"+e+" against cache"),n.reject(a),[3,3];case 3:return[2]}})})},[4,vg(t)];case 1:return[2,n.apply(void 0,[i.sent(),e,r])]}})})}),r.promise}(n,t.C_).then(function(n){return new Yg(e,r,t,n)})}(this._):"server"===(null==t?void 0:t.source)?function(t){t=Cp(t,kp);var e=Cp(t.firestore,Cg),n=Tg(e),r=new em(e);return Og(n,t.C_,{source:"server"}).then(function(n){return new Yg(e,r,t,n)})}(this._):function(t){t=Cp(t,kp);var e=Cp(t.firestore,Cg),n=Tg(e),r=new em(e);return Dg(t.C_),Og(n,t.C_).then(function(n){return new Yg(e,r,t,n)})}(this._)).then(function(t){return new Em(e.firestore,new Yg(e.firestore._,e.Hf,e._,t.ud))})},e.prototype.onSnapshot=function(){for(var t=this,e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=mm(e),i=ym(e,function(e){return new Em(t.firestore,new Yg(t.firestore._,t.Hf,t._,e.ud))});return rm(this._,r,i)},e.prototype.withConverter=function(t){return new e(this.firestore,this._.withConverter(t))},e}(No),wm=function(t){function e(e,n){var r=this;return(r=t.call(this,n)||this).zf=e,r}return Object(fo.c)(e,t),Object.defineProperty(e.prototype,"type",{get:function(){return this._.type},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"doc",{get:function(){return new bm(this.zf,this._.doc)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"oldIndex",{get:function(){return this._.oldIndex},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"newIndex",{get:function(){return this._.newIndex},enumerable:!1,configurable:!0}),e}(No),Em=function(t){function e(e,n){var r=this;return(r=t.call(this,n)||this).zf=e,r}return Object(fo.c)(e,t),Object.defineProperty(e.prototype,"query",{get:function(){return new _m(this.zf,this._.query)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"metadata",{get:function(){return this._.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"size",{get:function(){return this._.size},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"empty",{get:function(){return this._.empty},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"docs",{get:function(){var t=this;return this._.docs.map(function(e){return new bm(t.zf,e)})},enumerable:!1,configurable:!0}),e.prototype.docChanges=function(t){var e=this;return this._.docChanges(t).map(function(t){return new wm(e.zf,t)})},e.prototype.forEach=function(t,e){var n=this;this._.forEach(function(r){t.call(e,new bm(n.zf,r))})},e.prototype.isEqual=function(t){return tm(this._,t._)},e}(No),Om=function(t){function e(e,n){var r=this;return(r=t.call(this,e,n)||this).firestore=e,r._=n,r}return Object(fo.c)(e,t),Object.defineProperty(e.prototype,"id",{get:function(){return this._.id},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this._.path},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){var t=this._.parent;return t?new pm(this.firestore,t):null},enumerable:!1,configurable:!0}),e.prototype.doc=function(t){try{return new pm(this.firestore,void 0===t?Dp(this._):Dp(this._,t))}catch(t){throw gm(t,"doc()","CollectionReference.doc()")}},e.prototype.add=function(t){var e=this;return function(t,e){var n=Cp(t.firestore,Cg),r=Dp(t),i=$g(t.v_,e);return im(n,[Bp(Kp(t.firestore),"addDoc",r.S_,i,null!==t.v_,{}).F_(r.S_,Pu.exists(!1))]).then(function(){return r})}(this._,t).then(function(t){return new pm(e.firestore,t)})},e.prototype.isEqual=function(t){return Rp(this._,t._)},e.prototype.withConverter=function(t){return new e(this.firestore,this._.withConverter(t))},e}(_m);function Sm(t){return t instanceof No&&(t=t._),Cp(t,jp)}var Cm=function(t){function e(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return t.call(this,new(yp.bind.apply(yp,Object(fo.g)([void 0],e))))||this}return Object(fo.c)(e,t),e.documentId=function(){return new e(Qo.lt().ot())},e.prototype.isEqual=function(t){return t instanceof No&&(t=t._),t instanceof yp&&this._.d_.isEqual(t.d_)},e}(No),Tm=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(fo.c)(e,t),e.serverTimestamp=function(){var t=new Wp("serverTimestamp");return t._methodName="FieldValue.serverTimestamp",new e(t)},e.delete=function(){var t=new Gp("deleteField");return t._methodName="FieldValue.delete",new e(t)},e.arrayUnion=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var r=(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new Jp("arrayUnion",t)}).apply(void 0,t);return r._methodName="FieldValue.arrayUnion",new e(r)},e.arrayRemove=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var r=(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new Qp("arrayRemove",t)}).apply(void 0,t);return r._methodName="FieldValue.arrayRemove",new e(r)},e.increment=function(t){var n=function(t){return new Zp("increment",t)}(t);return n._methodName="FieldValue.increment",new e(n)},e.prototype.isEqual=function(t){return this._.isEqual(t._)},e}(No);!function(){function t(){this.Pd={},this.yd=new al,this.gd={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}t.prototype.onProgress=function(t,e,n){this.Pd={next:t,error:e,complete:n}},t.prototype.catch=function(t){return this.yd.promise.catch(t)},t.prototype.then=function(t,e){return this.yd.promise.then(t,e)},t.prototype.Ul=function(t){this.Ql(t),this.Pd.complete&&this.Pd.complete(),this.yd.resolve(t)},t.prototype.Wl=function(t){this.gd.taskState="Error",this.Pd.next&&this.Pd.next(this.gd),this.Pd.error&&this.Pd.error(t),this.yd.reject(t)},t.prototype.Ql=function(t){this.gd=t,this.Pd.next&&this.Pd.next(t)}}();var Im,xm=n("/6Yf"),Am={Firestore:lm,GeoPoint:Mp,Timestamp:Bo,Blob:Ro,Transaction:fm,WriteBatch:dm,DocumentReference:pm,DocumentSnapshot:vm,Query:_m,QueryDocumentSnapshot:bm,QuerySnapshot:Em,CollectionReference:Om,FieldPath:Cm,FieldValue:Tm,setLogLevel:function(t){po.setLogLevel(t)},CACHE_SIZE_UNLIMITED:-1};(function(t,e){t.INTERNAL.registerComponent(new xm.a("firestore",function(t){return function(t,e){return new lm(t,new Cg(t,e),new cm)}(t.getProvider("app").getImmediate(),t.getProvider("auth-internal"))},"PUBLIC").setServiceProps(Object.assign({},Am)))})(Im=un.a),Im.registerVersion("@firebase/firestore","2.1.1");var jm=n("XNiG"),km=n("VRyK"),Nm=n("zx2A");function Pm(t,e){return"function"==typeof e?n=>n.pipe(Pm((n,r)=>Object(B.a)(t(n,r)).pipe(Object(z.a)((t,i)=>e(n,t,r,i))))):e=>e.lift(new Dm(t))}class Dm{constructor(t){this.project=t}call(t,e){return e.subscribe(new Rm(t,this.project))}}class Rm extends Nm.b{constructor(t,e){super(t),this.project=e,this.index=0}_next(t){let e;const n=this.index++;try{e=this.project(t,n)}catch(r){return void this.destination.error(r)}this._innerSub(e)}_innerSub(t){const e=this.innerSubscription;e&&e.unsubscribe();const n=new Nm.a(this),r=this.destination;r.add(n),this.innerSubscription=Object(Nm.c)(t,n),this.innerSubscription!==n&&r.add(this.innerSubscription)}_complete(){const{innerSubscription:t}=this;t&&!t.closed||super._complete(),this.unsubscribe()}_unsubscribe(){this.innerSubscription=void 0}notifyComplete(){this.innerSubscription=void 0,this.isStopped&&super._complete()}notifyNext(t){this.destination.next(t)}}var Lm=n("qgXg"),Mm=n("quSY"),Fm=n("9ppp"),Vm=n("Ylt2");class Um extends jm.a{constructor(t=Number.POSITIVE_INFINITY,e=Number.POSITIVE_INFINITY,n){super(),this.scheduler=n,this._events=[],this._infiniteTimeWindow=!1,this._bufferSize=t<1?1:t,this._windowTime=e<1?1:e,e===Number.POSITIVE_INFINITY?(this._infiniteTimeWindow=!0,this.next=this.nextInfiniteTimeWindow):this.next=this.nextTimeWindow}nextInfiniteTimeWindow(t){if(!this.isStopped){const e=this._events;e.push(t),e.length>this._bufferSize&&e.shift()}super.next(t)}nextTimeWindow(t){this.isStopped||(this._events.push(new qm(this._getNow(),t)),this._trimBufferThenGetEvents()),super.next(t)}_subscribe(t){const e=this._infiniteTimeWindow,n=e?this._events:this._trimBufferThenGetEvents(),r=this.scheduler,i=n.length;let s;if(this.closed)throw new Fm.a;if(this.isStopped||this.hasError?s=Mm.a.EMPTY:(this.observers.push(t),s=new Vm.a(this,t)),r&&t.add(t=new sn.a(t,r)),e)for(let o=0;o<i&&!t.closed;o++)t.next(n[o]);else for(let o=0;o<i&&!t.closed;o++)t.next(n[o].value);return this.hasError?t.error(this.thrownError):this.isStopped&&t.complete(),s}_getNow(){return(this.scheduler||Lm.a).now()}_trimBufferThenGetEvents(){const t=this._getNow(),e=this._bufferSize,n=this._windowTime,r=this._events,i=r.length;let s=0;for(;s<i&&!(t-r[s].time<n);)s++;return i>e&&(s=Math.max(s,i-e)),s>0&&r.splice(0,s),r}}class qm{constructor(t,e){this.time=t,this.value=e}}function Hm(t,e,n){let r;return r=t&&"object"==typeof t?t:{bufferSize:t,windowTime:e,refCount:!1,scheduler:n},t=>t.lift(function({bufferSize:t=Number.POSITIVE_INFINITY,windowTime:e=Number.POSITIVE_INFINITY,refCount:n,scheduler:r}){let i,s,o=0,a=!1,u=!1;return function(c){let l;o++,!i||a?(a=!1,i=new Um(t,e,r),l=i.subscribe(this),s=c.subscribe({next(t){i.next(t)},error(t){a=!0,i.error(t)},complete(){u=!0,s=void 0,i.complete()}})):l=i.subscribe(this),this.add(()=>{o--,l.unsubscribe(),s&&!u&&n&&0===o&&(s.unsubscribe(),s=void 0,i=void 0)})}}(r))}const zm=(()=>{function t(){return Error.call(this),this.message="no elements in sequence",this.name="EmptyError",this}return t.prototype=Object.create(Error.prototype),t})(),Km=(()=>{function t(){return Error.call(this),this.message="argument out of range",this.name="ArgumentOutOfRangeError",this}return t.prototype=Object.create(Error.prototype),t})();var Bm=n("EY2u");function Gm(t){return e=>0===t?Object(Bm.b)():e.lift(new $m(t))}class $m{constructor(t){if(this.total=t,this.total<0)throw new Km}call(t,e){return e.subscribe(new Wm(t,this.total))}}class Wm extends Ge.a{constructor(t,e){super(t),this.total=e,this.count=0}_next(t){const e=this.total,n=++this.count;n<=e&&(this.destination.next(t),n===e&&(this.destination.complete(),this.unsubscribe()))}}function Jm(t=null){return e=>e.lift(new Qm(t))}class Qm{constructor(t){this.defaultValue=t}call(t,e){return e.subscribe(new Zm(t,this.defaultValue))}}class Zm extends Ge.a{constructor(t,e){super(t),this.defaultValue=e,this.isEmpty=!0}_next(t){this.isEmpty=!1,this.destination.next(t)}_complete(){this.isEmpty&&this.destination.next(this.defaultValue),this.destination.complete()}}function Ym(t=ey){return e=>e.lift(new Xm(t))}class Xm{constructor(t){this.errorFactory=t}call(t,e){return e.subscribe(new ty(t,this.errorFactory))}}class ty extends Ge.a{constructor(t,e){super(t),this.errorFactory=e,this.hasValue=!1}_next(t){this.hasValue=!0,this.destination.next(t)}_complete(){if(this.hasValue)return this.destination.complete();{let t;try{t=this.errorFactory()}catch(Im){t=Im}this.destination.error(t)}}}function ey(){return new zm}var ny=n("SpAZ");function ry(t,e){const n=arguments.length>=2;return r=>r.pipe(t?en((e,n)=>t(e,n,r)):ny.a,Gm(1),n?Jm(e):Ym(()=>new zm))}function iy(t,e){return e?Pm(()=>t,e):Pm(()=>t)}var sy=n("tf+s");const oy=new r.q("angularfire2.auth.use-emulator"),ay=new r.q("angularfire2.auth.settings"),uy=new r.q("angularfire2.auth.tenant-id"),cy=new r.q("angularfire2.auth.langugage-code"),ly=new r.q("angularfire2.auth.use-device-language"),hy=new r.q("angularfire.auth.persistence");let fy=(()=>{class t{constructor(t,e,r,i,s,o,a,u,c,l){const h=new on.d(i),f=Object(on.h)(h),d=new jm.a,p=Object(Ue.a)(void 0).pipe(Object(sn.b)(h.outsideAngular),Pm(()=>i.runOutsideAngular(()=>n.e(4).then(n.bind(null,"6nsN")))),Object(z.a)(()=>Object(on.g)(t,i,e)),Object(z.a)(t=>i.runOutsideAngular(()=>{const e=s,n=o;return Object(on.f)(t.name+".auth","AngularFireAuth",t,()=>{const r=i.runOutsideAngular(()=>t.auth());return e&&r.useEmulator("http://"+e.join(":")),a&&(r.tenantId=a),r.languageCode=u,c&&r.useDeviceLanguage(),n&&(r.settings=n),l&&r.setPersistence(l),r},[e,a,u,c,n,l])})),Hm({bufferSize:1,refCount:!1}));if(M(r))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=Object(Ue.a)(null);else{p.pipe(ry()).subscribe();const t=p.pipe(Pm(t=>t.getRedirectResult().then(t=>t,()=>null)),f,Hm({bufferSize:1,refCount:!1})),e=t=>new q.a(e=>({unsubscribe:i.runOutsideAngular(()=>t(e))})),n=p.pipe(Pm(t=>e(t.onAuthStateChanged.bind(t)))),r=p.pipe(Pm(t=>e(t.onIdTokenChanged.bind(t))));this.authState=t.pipe(iy(n),Object(sy.a)(h.outsideAngular),Object(sn.b)(h.insideAngular)),this.user=t.pipe(iy(r),Object(sy.a)(h.outsideAngular),Object(sn.b)(h.insideAngular)),this.idToken=this.user.pipe(Pm(t=>t?Object(B.a)(t.getIdToken()):Object(Ue.a)(null))),this.idTokenResult=this.user.pipe(Pm(t=>t?Object(B.a)(t.getIdTokenResult()):Object(Ue.a)(null))),this.credential=Object(km.a)(t,d,this.authState.pipe(en(t=>!t))).pipe(Object(z.a)(t=>(null==t?void 0:t.user)?t:null),Object(sy.a)(h.outsideAngular),Object(sn.b)(h.insideAngular))}return Object(on.i)(this,p,i,{spy:{apply:(t,e,n)=>{(t.startsWith("signIn")||t.startsWith("createUser"))&&n.then(t=>d.next(t))}}})}}return t.\u0275fac=function(e){return new(e||t)(r.Ob(on.c),r.Ob(on.b,8),r.Ob(r.B),r.Ob(r.z),r.Ob(oy,8),r.Ob(ay,8),r.Ob(uy,8),r.Ob(cy,8),r.Ob(ly,8),r.Ob(hy,8))},t.\u0275prov=Object(r.Eb)({factory:function(){return new t(Object(r.Ob)(on.c),Object(r.Ob)(on.b,8),Object(r.Ob)(r.B),Object(r.Ob)(r.z),Object(r.Ob)(oy,8),Object(r.Ob)(ay,8),Object(r.Ob)(uy,8),Object(r.Ob)(cy,8),Object(r.Ob)(ly,8),Object(r.Ob)(hy,8))},token:t,providedIn:"any"}),t})();function dy(t,e){return function(t,e=Ve.a){return new q.a(n=>{let r;return null!=e?e.schedule(()=>{r=t.onSnapshot({includeMetadataChanges:!0},n)}):r=t.onSnapshot({includeMetadataChanges:!0},n),()=>{null!=r&&r()}})}(t,e)}function py(t,e){return dy(t,e).pipe(Object(z.a)(t=>({payload:t,type:"query"})))}function gy(t,e){return py(t,e).pipe(Be(void 0),$e(),Object(z.a)(([t,e])=>{const n=e.payload.docChanges(),r=n.map(t=>({type:t.type,payload:t}));return t&&JSON.stringify(t.payload.metadata)!==JSON.stringify(e.payload.metadata)&&e.payload.docs.forEach((e,i)=>{const s=n.find(t=>t.doc.ref.isEqual(e.ref)),o=null==t?void 0:t.payload.docs.find(t=>t.ref.isEqual(e.ref));s&&JSON.stringify(s.doc.metadata)===JSON.stringify(e.metadata)||!s&&o&&JSON.stringify(o.metadata)===JSON.stringify(e.metadata)||r.push({type:"modified",payload:{oldIndex:i,newIndex:i,type:"modified",doc:e}})}),r}))}function my(t,e,n){return gy(t,n).pipe(Qe((t,n)=>function(t,e,n){return e.forEach(e=>{n.indexOf(e.type)>-1&&(t=function(t,e){switch(e.type){case"added":if(!t[e.newIndex]||!t[e.newIndex].doc.ref.isEqual(e.doc.ref))return yy(t,e.newIndex,0,e);break;case"modified":if(null==t[e.oldIndex]||t[e.oldIndex].doc.ref.isEqual(e.doc.ref)){if(e.oldIndex!==e.newIndex){const n=t.slice();return n.splice(e.oldIndex,1),n.splice(e.newIndex,0,e),n}return yy(t,e.newIndex,1,e)}break;case"removed":if(t[e.oldIndex]&&t[e.oldIndex].doc.ref.isEqual(e.doc.ref))return yy(t,e.oldIndex,1)}return t}(t,e))}),t}(t,n.map(t=>t.payload),e),[]),t=>t.lift(new Xe(void 0,void 0)),Object(z.a)(t=>t.map(t=>({type:t.type,payload:t}))))}function yy(t,e,n,...r){const i=t.slice();return i.splice(e,n,...r),i}function vy(t){return t&&0!==t.length||(t=["added","removed","modified"]),t}Object(on.e)(fy,[{app:null,applyActionCode:null,checkActionCode:null,confirmPasswordReset:null,createUserWithEmailAndPassword:null,currentUser:null,fetchSignInMethodsForEmail:null,isSignInWithEmailLink:null,getRedirectResult:null,languageCode:null,settings:null,onAuthStateChanged:null,onIdTokenChanged:null,sendSignInLinkToEmail:null,sendPasswordResetEmail:null,setPersistence:null,signInAndRetrieveDataWithCredential:null,signInAnonymously:null,signInWithCredential:null,signInWithCustomToken:null,signInWithEmailAndPassword:null,signInWithPhoneNumber:null,signInWithEmailLink:null,signInWithPopup:null,signInWithRedirect:null,signOut:null,tenantId:null,updateCurrentUser:null,useDeviceLanguage:null,useEmulator:null,verifyPasswordResetCode:null}]);class by{constructor(t,e,n){this.ref=t,this.query=e,this.afs=n}stateChanges(t){let e=gy(this.query,this.afs.schedulers.outsideAngular);return t&&t.length>0&&(e=e.pipe(Object(z.a)(e=>e.filter(e=>t.indexOf(e.type)>-1)))),e.pipe(Be(void 0),$e(),en(([t,e])=>e.length>0||!t),Object(z.a)(([t,e])=>e),this.afs.keepUnstableUntilFirst)}auditTrail(t){return this.stateChanges(t).pipe(Qe((t,e)=>[...t,...e],[]))}snapshotChanges(t){const e=vy(t);return my(this.query,e,this.afs.schedulers.outsideAngular).pipe(this.afs.keepUnstableUntilFirst)}valueChanges(t={}){return py(this.query,this.afs.schedulers.outsideAngular).pipe(Object(z.a)(e=>e.payload.docs.map(e=>t.idField?Object.assign(Object.assign({},e.data()),{[t.idField]:e.id}):e.data())),this.afs.keepUnstableUntilFirst)}get(t){return Object(B.a)(this.query.get(t)).pipe(Object(sn.b)(this.afs.schedulers.insideAngular))}add(t){return this.ref.add(t)}doc(t){return new _y(this.ref.doc(t),this.afs)}}class _y{constructor(t,e){this.ref=t,this.afs=e}set(t,e){return this.ref.set(t,e)}update(t){return this.ref.update(t)}delete(){return this.ref.delete()}collection(t,e){const n=this.ref.collection(t),{ref:r,query:i}=Ty(n,e);return new by(r,i,this.afs)}snapshotChanges(){return dy(this.ref,this.afs.schedulers.outsideAngular).pipe(Be(void 0),$e(),Object(z.a)(([t,e])=>e.exists?(null==t?void 0:t.exists)?{payload:e,type:"modified"}:{payload:e,type:"added"}:{payload:e,type:"removed"})).pipe(this.afs.keepUnstableUntilFirst)}valueChanges(t={}){return this.snapshotChanges().pipe(Object(z.a)(({payload:e})=>t.idField?Object.assign(Object.assign({},e.data()),{[t.idField]:e.id}):e.data()))}get(t){return Object(B.a)(this.ref.get(t)).pipe(Object(sn.b)(this.afs.schedulers.insideAngular))}}class wy{constructor(t,e){this.query=t,this.afs=e}stateChanges(t){return t&&0!==t.length?gy(this.query,this.afs.schedulers.outsideAngular).pipe(Object(z.a)(e=>e.filter(e=>t.indexOf(e.type)>-1)),en(t=>t.length>0),this.afs.keepUnstableUntilFirst):gy(this.query,this.afs.schedulers.outsideAngular).pipe(this.afs.keepUnstableUntilFirst)}auditTrail(t){return this.stateChanges(t).pipe(Qe((t,e)=>[...t,...e],[]))}snapshotChanges(t){const e=vy(t);return my(this.query,e,this.afs.schedulers.outsideAngular).pipe(this.afs.keepUnstableUntilFirst)}valueChanges(t={}){return py(this.query,this.afs.schedulers.outsideAngular).pipe(Object(z.a)(e=>e.payload.docs.map(e=>t.idField?Object.assign({[t.idField]:e.id},e.data()):e.data())),this.afs.keepUnstableUntilFirst)}get(t){return Object(B.a)(this.query.get(t)).pipe(Object(sn.b)(this.afs.schedulers.insideAngular))}}const Ey=new r.q("angularfire2.enableFirestorePersistence"),Oy=new r.q("angularfire2.firestore.persistenceSettings"),Sy=new r.q("angularfire2.firestore.settings"),Cy=new r.q("angularfire2.firestore.use-emulator");function Ty(t,e=(t=>t)){return{query:e(t),ref:t}}let Iy=(()=>{class t{constructor(t,e,n,r,i,s,o,a,u){this.schedulers=new on.d(s),this.keepUnstableUntilFirst=Object(on.h)(this.schedulers);const c=Object(on.g)(t,s,e);!an.a.auth&&u&&Object(on.j)();const l=a;[this.firestore,this.persistenceEnabled$]=Object(on.f)(c.name+".firestore","AngularFirestore",c,()=>{const t=s.runOutsideAngular(()=>c.firestore());if(r&&t.settings(r),l&&t.useEmulator(...l),n&&!M(i)){const e=()=>{try{return Object(B.a)(t.enablePersistence(o||void 0).then(()=>!0,()=>!1))}catch(Im){return"undefined"!=typeof console&&console.warn(Im),Object(Ue.a)(!1)}};return[t,s.runOutsideAngular(e)]}return[t,Object(Ue.a)(!1)]},[r,l,n])}collection(t,e){let n;n="string"==typeof t?this.firestore.collection(t):t;const{ref:r,query:i}=Ty(n,e),s=this.schedulers.ngZone.run(()=>r);return new by(s,i,this)}collectionGroup(t,e){const n=e||(t=>t),r=this.firestore.collectionGroup(t);return new wy(n(r),this)}doc(t){let e;e="string"==typeof t?this.firestore.doc(t):t;const n=this.schedulers.ngZone.run(()=>e);return new _y(n,this)}createId(){return this.firestore.collection("_").doc().id}}return t.\u0275fac=function(e){return new(e||t)(r.Ob(on.c),r.Ob(on.b,8),r.Ob(Ey,8),r.Ob(Sy,8),r.Ob(r.B),r.Ob(r.z),r.Ob(Oy,8),r.Ob(Cy,8),r.Ob(oy,8))},t.\u0275prov=Object(r.Eb)({factory:function(){return new t(Object(r.Ob)(on.c),Object(r.Ob)(on.b,8),Object(r.Ob)(Ey,8),Object(r.Ob)(Sy,8),Object(r.Ob)(r.B),Object(r.Ob)(r.z),Object(r.Ob)(Oy,8),Object(r.Ob)(Cy,8),Object(r.Ob)(oy,8))},token:t,providedIn:"any"}),t})(),xy=(()=>{class t{static enablePersistence(e){return{ngModule:t,providers:[{provide:Ey,useValue:!0},{provide:Oy,useValue:e}]}}}return t.\u0275mod=r.Gb({type:t}),t.\u0275inj=r.Fb({factory:function(e){return new(e||t)},providers:[Iy]}),t})(),Ay=(()=>{class t{constructor(t){this.contactCollection=t.collection("contacts")}saveMessage(t){this.contactCollection.add(t)}}return t.\u0275fac=function(e){return new(e||t)(r.Ob(Iy))},t.\u0275prov=r.Eb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();class jy extends jm.a{constructor(t){super(),this._value=t}get value(){return this.getValue()}_subscribe(t){const e=super._subscribe(t);return e&&!e.closed&&t.next(this._value),e}getValue(){if(this.hasError)throw this.thrownError;if(this.closed)throw new Fm.a;return this._value}next(t){super.next(this._value=t)}}class ky extends Ge.a{notifyNext(t,e,n,r,i){this.destination.next(e)}notifyError(t,e){this.destination.error(t)}notifyComplete(t){this.destination.complete()}}class Ny extends Ge.a{constructor(t,e,n){super(),this.parent=t,this.outerValue=e,this.outerIndex=n,this.index=0}_next(t){this.parent.notifyNext(this.outerValue,t,this.outerIndex,this.index++,this)}_error(t){this.parent.notifyError(t,this),this.unsubscribe()}_complete(){this.parent.notifyComplete(this),this.unsubscribe()}}var Py=n("SeVD");function Dy(t,e,n,r,i=new Ny(t,n,r)){if(!i.closed)return e instanceof q.a?e.subscribe(i):Object(Py.a)(e)(i)}var Ry=n("yCtX");const Ly={};class My{constructor(t){this.resultSelector=t}call(t,e){return e.subscribe(new Fy(t,this.resultSelector))}}class Fy extends ky{constructor(t,e){super(t),this.resultSelector=e,this.active=0,this.values=[],this.observables=[]}_next(t){this.values.push(Ly),this.observables.push(t)}_complete(){const t=this.observables,e=t.length;if(0===e)this.destination.complete();else{this.active=e,this.toRespond=e;for(let n=0;n<e;n++)this.add(Dy(this,t[n],void 0,n))}}notifyComplete(t){0==(this.active-=1)&&this.destination.complete()}notifyNext(t,e,n){const r=this.values,i=this.toRespond?r[n]===Ly?--this.toRespond:this.toRespond:0;r[n]=e,0===i&&(this.resultSelector?this._tryResultSelector(r):this.destination.next(r.slice()))}_tryResultSelector(t){let e;try{e=this.resultSelector.apply(this,t)}catch(n){return void this.destination.error(n)}this.destination.next(e)}}function Vy(t){return new q.a(e=>{let n;try{n=t()}catch(r){return void e.error(r)}return(n?Object(B.a)(n):Object(Bm.b)()).subscribe(e)})}function Uy(t){return function(e){return 0===t?Object(Bm.b)():e.lift(new qy(t))}}class qy{constructor(t){if(this.total=t,this.total<0)throw new Km}call(t,e){return e.subscribe(new Hy(t,this.total))}}class Hy extends Ge.a{constructor(t,e){super(t),this.total=e,this.ring=new Array,this.count=0}_next(t){const e=this.ring,n=this.total,r=this.count++;e.length<n?e.push(t):e[r%n]=t}_complete(){const t=this.destination;let e=this.count;if(e>0){const n=this.count>=this.total?this.total:this.count,r=this.ring;for(let i=0;i<n;i++){const i=e++%n;t.next(r[i])}}t.complete()}}function zy(t){return function(e){const n=new Ky(t),r=e.lift(n);return n.caught=r}}class Ky{constructor(t){this.selector=t}call(t,e){return e.subscribe(new By(t,this.selector,this.caught))}}class By extends Nm.b{constructor(t,e,n){super(t),this.selector=e,this.caught=n}error(t){if(!this.isStopped){let n;try{n=this.selector(t,this.caught)}catch(e){return void super.error(e)}this._unsubscribeAndRecycle();const r=new Nm.a(this);this.add(r);const i=Object(Nm.c)(n,r);i!==r&&this.add(i)}}}var Gy=n("5+tZ");function $y(t,e){return Object(Gy.a)(t,e,1)}var Wy=n("vkgz");class Jy{constructor(t){this.callback=t}call(t,e){return e.subscribe(new Qy(t,this.callback))}}class Qy extends Ge.a{constructor(t,e){super(t),this.add(new Mm.a(e))}}class Zy{constructor(t,e){this.id=t,this.url=e}}class Yy extends Zy{constructor(t,e,n="imperative",r=null){super(t,e),this.navigationTrigger=n,this.restoredState=r}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class Xy extends Zy{constructor(t,e,n){super(t,e),this.urlAfterRedirects=n}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class tv extends Zy{constructor(t,e,n){super(t,e),this.reason=n}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class ev extends Zy{constructor(t,e,n){super(t,e),this.error=n}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class nv extends Zy{constructor(t,e,n,r){super(t,e),this.urlAfterRedirects=n,this.state=r}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class rv extends Zy{constructor(t,e,n,r){super(t,e),this.urlAfterRedirects=n,this.state=r}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class iv extends Zy{constructor(t,e,n,r,i){super(t,e),this.urlAfterRedirects=n,this.state=r,this.shouldActivate=i}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class sv extends Zy{constructor(t,e,n,r){super(t,e),this.urlAfterRedirects=n,this.state=r}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class ov extends Zy{constructor(t,e,n,r){super(t,e),this.urlAfterRedirects=n,this.state=r}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class av{constructor(t){this.route=t}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class uv{constructor(t){this.route=t}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class cv{constructor(t){this.snapshot=t}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class lv{constructor(t){this.snapshot=t}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class hv{constructor(t){this.snapshot=t}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class fv{constructor(t){this.snapshot=t}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class dv{constructor(t,e,n){this.routerEvent=t,this.position=e,this.anchor=n}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}const pv="primary";class gv{constructor(t){this.params=t||{}}has(t){return Object.prototype.hasOwnProperty.call(this.params,t)}get(t){if(this.has(t)){const e=this.params[t];return Array.isArray(e)?e[0]:e}return null}getAll(t){if(this.has(t)){const e=this.params[t];return Array.isArray(e)?e:[e]}return[]}get keys(){return Object.keys(this.params)}}function mv(t){return new gv(t)}function yv(t){const e=Error("NavigationCancelingError: "+t);return e.ngNavigationCancelingError=!0,e}function vv(t,e,n){const r=n.path.split("/");if(r.length>t.length)return null;if("full"===n.pathMatch&&(e.hasChildren()||r.length<t.length))return null;const i={};for(let s=0;s<r.length;s++){const e=r[s],n=t[s];if(e.startsWith(":"))i[e.substring(1)]=n;else if(e!==n.path)return null}return{consumed:t.slice(0,r.length),posParams:i}}function bv(t,e){const n=Object.keys(t),r=Object.keys(e);if(!n||!r||n.length!=r.length)return!1;let i;for(let s=0;s<n.length;s++)if(i=n[s],!_v(t[i],e[i]))return!1;return!0}function _v(t,e){if(Array.isArray(t)&&Array.isArray(e)){if(t.length!==e.length)return!1;const n=[...t].sort(),r=[...e].sort();return n.every((t,e)=>r[e]===t)}return t===e}function wv(t){return Array.prototype.concat.apply([],t)}function Ev(t){return t.length>0?t[t.length-1]:null}function Ov(t,e){for(const n in t)t.hasOwnProperty(n)&&e(t[n],n)}function Sv(t){return Object(r.pb)(t)?t:Object(r.qb)(t)?Object(B.a)(Promise.resolve(t)):Object(Ue.a)(t)}function Cv(t,e,n){return n?function(t,e){return bv(t,e)}(t.queryParams,e.queryParams)&&Tv(t.root,e.root):function(t,e){return Object.keys(e).length<=Object.keys(t).length&&Object.keys(e).every(n=>_v(t[n],e[n]))}(t.queryParams,e.queryParams)&&Iv(t.root,e.root)}function Tv(t,e){if(!Nv(t.segments,e.segments))return!1;if(t.numberOfChildren!==e.numberOfChildren)return!1;for(const n in e.children){if(!t.children[n])return!1;if(!Tv(t.children[n],e.children[n]))return!1}return!0}function Iv(t,e){return xv(t,e,e.segments)}function xv(t,e,n){if(t.segments.length>n.length)return!!Nv(t.segments.slice(0,n.length),n)&&!e.hasChildren();if(t.segments.length===n.length){if(!Nv(t.segments,n))return!1;for(const n in e.children){if(!t.children[n])return!1;if(!Iv(t.children[n],e.children[n]))return!1}return!0}{const r=n.slice(0,t.segments.length),i=n.slice(t.segments.length);return!!Nv(t.segments,r)&&!!t.children.primary&&xv(t.children.primary,e,i)}}class Av{constructor(t,e,n){this.root=t,this.queryParams=e,this.fragment=n}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=mv(this.queryParams)),this._queryParamMap}toString(){return Lv.serialize(this)}}class jv{constructor(t,e){this.segments=t,this.children=e,this.parent=null,Ov(e,(t,e)=>t.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Mv(this)}}class kv{constructor(t,e){this.path=t,this.parameters=e}get parameterMap(){return this._parameterMap||(this._parameterMap=mv(this.parameters)),this._parameterMap}toString(){return Kv(this)}}function Nv(t,e){return t.length===e.length&&t.every((t,n)=>t.path===e[n].path)}function Pv(t,e){let n=[];return Ov(t.children,(t,r)=>{r===pv&&(n=n.concat(e(t,r)))}),Ov(t.children,(t,r)=>{r!==pv&&(n=n.concat(e(t,r)))}),n}class Dv{}class Rv{parse(t){const e=new Jv(t);return new Av(e.parseRootSegment(),e.parseQueryParams(),e.parseFragment())}serialize(t){return`${"/"+Fv(t.root,!0)}${function(t){const e=Object.keys(t).map(e=>{const n=t[e];return Array.isArray(n)?n.map(t=>`${Uv(e)}=${Uv(t)}`).join("&"):`${Uv(e)}=${Uv(n)}`});return e.length?"?"+e.join("&"):""}(t.queryParams)}${"string"==typeof t.fragment?"#"+encodeURI(t.fragment):""}`}}const Lv=new Rv;function Mv(t){return t.segments.map(t=>Kv(t)).join("/")}function Fv(t,e){if(!t.hasChildren())return Mv(t);if(e){const e=t.children.primary?Fv(t.children.primary,!1):"",n=[];return Ov(t.children,(t,e)=>{e!==pv&&n.push(`${e}:${Fv(t,!1)}`)}),n.length>0?`${e}(${n.join("//")})`:e}{const e=Pv(t,(e,n)=>n===pv?[Fv(t.children.primary,!1)]:[`${n}:${Fv(e,!1)}`]);return 1===Object.keys(t.children).length&&null!=t.children.primary?`${Mv(t)}/${e[0]}`:`${Mv(t)}/(${e.join("//")})`}}function Vv(t){return encodeURIComponent(t).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Uv(t){return Vv(t).replace(/%3B/gi,";")}function qv(t){return Vv(t).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Hv(t){return decodeURIComponent(t)}function zv(t){return Hv(t.replace(/\+/g,"%20"))}function Kv(t){return`${qv(t.path)}${e=t.parameters,Object.keys(e).map(t=>`;${qv(t)}=${qv(e[t])}`).join("")}`;var e}const Bv=/^[^\/()?;=#]+/;function Gv(t){const e=t.match(Bv);return e?e[0]:""}const $v=/^[^=?&#]+/,Wv=/^[^?&#]+/;class Jv{constructor(t){this.url=t,this.remaining=t}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new jv([],{}):new jv([],this.parseChildren())}parseQueryParams(){const t={};if(this.consumeOptional("?"))do{this.parseQueryParam(t)}while(this.consumeOptional("&"));return t}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const t=[];for(this.peekStartsWith("(")||t.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),t.push(this.parseSegment());let e={};this.peekStartsWith("/(")&&(this.capture("/"),e=this.parseParens(!0));let n={};return this.peekStartsWith("(")&&(n=this.parseParens(!1)),(t.length>0||Object.keys(e).length>0)&&(n.primary=new jv(t,e)),n}parseSegment(){const t=Gv(this.remaining);if(""===t&&this.peekStartsWith(";"))throw new Error(`Empty path url segment cannot have parameters: '${this.remaining}'.`);return this.capture(t),new kv(Hv(t),this.parseMatrixParams())}parseMatrixParams(){const t={};for(;this.consumeOptional(";");)this.parseParam(t);return t}parseParam(t){const e=Gv(this.remaining);if(!e)return;this.capture(e);let n="";if(this.consumeOptional("=")){const t=Gv(this.remaining);t&&(n=t,this.capture(n))}t[Hv(e)]=Hv(n)}parseQueryParam(t){const e=function(t){const e=t.match($v);return e?e[0]:""}(this.remaining);if(!e)return;this.capture(e);let n="";if(this.consumeOptional("=")){const t=function(t){const e=t.match(Wv);return e?e[0]:""}(this.remaining);t&&(n=t,this.capture(n))}const r=zv(e),i=zv(n);if(t.hasOwnProperty(r)){let e=t[r];Array.isArray(e)||(e=[e],t[r]=e),e.push(i)}else t[r]=i}parseParens(t){const e={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const n=Gv(this.remaining),r=this.remaining[n.length];if("/"!==r&&")"!==r&&";"!==r)throw new Error(`Cannot parse url '${this.url}'`);let i=void 0;n.indexOf(":")>-1?(i=n.substr(0,n.indexOf(":")),this.capture(i),this.capture(":")):t&&(i=pv);const s=this.parseChildren();e[i]=1===Object.keys(s).length?s.primary:new jv([],s),this.consumeOptional("//")}return e}peekStartsWith(t){return this.remaining.startsWith(t)}consumeOptional(t){return!!this.peekStartsWith(t)&&(this.remaining=this.remaining.substring(t.length),!0)}capture(t){if(!this.consumeOptional(t))throw new Error(`Expected "${t}".`)}}class Qv{constructor(t){this._root=t}get root(){return this._root.value}parent(t){const e=this.pathFromRoot(t);return e.length>1?e[e.length-2]:null}children(t){const e=Zv(t,this._root);return e?e.children.map(t=>t.value):[]}firstChild(t){const e=Zv(t,this._root);return e&&e.children.length>0?e.children[0].value:null}siblings(t){const e=Yv(t,this._root);return e.length<2?[]:e[e.length-2].children.map(t=>t.value).filter(e=>e!==t)}pathFromRoot(t){return Yv(t,this._root).map(t=>t.value)}}function Zv(t,e){if(t===e.value)return e;for(const n of e.children){const e=Zv(t,n);if(e)return e}return null}function Yv(t,e){if(t===e.value)return[e];for(const n of e.children){const r=Yv(t,n);if(r.length)return r.unshift(e),r}return[]}class Xv{constructor(t,e){this.value=t,this.children=e}toString(){return`TreeNode(${this.value})`}}function tb(t){const e={};return t&&t.children.forEach(t=>e[t.value.outlet]=t),e}class eb extends Qv{constructor(t,e){super(t),this.snapshot=e,ab(this,t)}toString(){return this.snapshot.toString()}}function nb(t,e){const n=function(t,e){const n=new sb([],{},{},"",{},pv,e,null,t.root,-1,{});return new ob("",new Xv(n,[]))}(t,e),r=new jy([new kv("",{})]),i=new jy({}),s=new jy({}),o=new jy({}),a=new jy(""),u=new rb(r,i,o,a,s,pv,e,n.root);return u.snapshot=n.root,new eb(new Xv(u,[]),n)}class rb{constructor(t,e,n,r,i,s,o,a){this.url=t,this.params=e,this.queryParams=n,this.fragment=r,this.data=i,this.outlet=s,this.component=o,this._futureSnapshot=a}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe(Object(z.a)(t=>mv(t)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe(Object(z.a)(t=>mv(t)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function ib(t,e="emptyOnly"){const n=t.pathFromRoot;let r=0;if("always"!==e)for(r=n.length-1;r>=1;){const t=n[r],e=n[r-1];if(t.routeConfig&&""===t.routeConfig.path)r--;else{if(e.component)break;r--}}return function(t){return t.reduce((t,e)=>({params:Object.assign(Object.assign({},t.params),e.params),data:Object.assign(Object.assign({},t.data),e.data),resolve:Object.assign(Object.assign({},t.resolve),e._resolvedData)}),{params:{},data:{},resolve:{}})}(n.slice(r))}class sb{constructor(t,e,n,r,i,s,o,a,u,c,l){this.url=t,this.params=e,this.queryParams=n,this.fragment=r,this.data=i,this.outlet=s,this.component=o,this.routeConfig=a,this._urlSegment=u,this._lastPathIndex=c,this._resolve=l}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=mv(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=mv(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(t=>t.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class ob extends Qv{constructor(t,e){super(e),this.url=t,ab(this,e)}toString(){return ub(this._root)}}function ab(t,e){e.value._routerState=t,e.children.forEach(e=>ab(t,e))}function ub(t){const e=t.children.length>0?` { ${t.children.map(ub).join(", ")} } `:"";return`${t.value}${e}`}function cb(t){if(t.snapshot){const e=t.snapshot,n=t._futureSnapshot;t.snapshot=n,bv(e.queryParams,n.queryParams)||t.queryParams.next(n.queryParams),e.fragment!==n.fragment&&t.fragment.next(n.fragment),bv(e.params,n.params)||t.params.next(n.params),function(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;++n)if(!bv(t[n],e[n]))return!1;return!0}(e.url,n.url)||t.url.next(n.url),bv(e.data,n.data)||t.data.next(n.data)}else t.snapshot=t._futureSnapshot,t.data.next(t._futureSnapshot.data)}function lb(t,e){return bv(t.params,e.params)&&function(t,e){return Nv(t,e)&&t.every((t,n)=>bv(t.parameters,e[n].parameters))}(t.url,e.url)&&!(!t.parent!=!e.parent)&&(!t.parent||lb(t.parent,e.parent))}function hb(t,e,n){if(n&&t.shouldReuseRoute(e.value,n.value.snapshot)){const r=n.value;r._futureSnapshot=e.value;const i=function(t,e,n){return e.children.map(e=>{for(const r of n.children)if(t.shouldReuseRoute(e.value,r.value.snapshot))return hb(t,e,r);return hb(t,e)})}(t,e,n);return new Xv(r,i)}{const n=t.retrieve(e.value);if(n){const t=n.route;return fb(e,t),t}{const n=new rb(new jy((r=e.value).url),new jy(r.params),new jy(r.queryParams),new jy(r.fragment),new jy(r.data),r.outlet,r.component,r),i=e.children.map(e=>hb(t,e));return new Xv(n,i)}}var r}function fb(t,e){if(t.value.routeConfig!==e.value.routeConfig)throw new Error("Cannot reattach ActivatedRouteSnapshot created from a different route");if(t.children.length!==e.children.length)throw new Error("Cannot reattach ActivatedRouteSnapshot with a different number of children");e.value._futureSnapshot=t.value;for(let n=0;n<t.children.length;++n)fb(t.children[n],e.children[n])}function db(t){return"object"==typeof t&&null!=t&&!t.outlets&&!t.segmentPath}function pb(t){return"object"==typeof t&&null!=t&&t.outlets}function gb(t,e,n,r,i){let s={};return r&&Ov(r,(t,e)=>{s[e]=Array.isArray(t)?t.map(t=>""+t):""+t}),new Av(n.root===t?e:mb(n.root,t,e),s,i)}function mb(t,e,n){const r={};return Ov(t.children,(t,i)=>{r[i]=t===e?n:mb(t,e,n)}),new jv(t.segments,r)}class yb{constructor(t,e,n){if(this.isAbsolute=t,this.numberOfDoubleDots=e,this.commands=n,t&&n.length>0&&db(n[0]))throw new Error("Root segment cannot have matrix parameters");const r=n.find(pb);if(r&&r!==Ev(n))throw new Error("{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class vb{constructor(t,e,n){this.segmentGroup=t,this.processChildren=e,this.index=n}}function bb(t,e,n){if(t||(t=new jv([],{})),0===t.segments.length&&t.hasChildren())return _b(t,e,n);const r=function(t,e,n){let r=0,i=e;const s={match:!1,pathIndex:0,commandIndex:0};for(;i<t.segments.length;){if(r>=n.length)return s;const e=t.segments[i],o=n[r];if(pb(o))break;const a=""+o,u=r<n.length-1?n[r+1]:null;if(i>0&&void 0===a)break;if(a&&u&&"object"==typeof u&&void 0===u.outlets){if(!Sb(a,u,e))return s;r+=2}else{if(!Sb(a,{},e))return s;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}(t,e,n),i=n.slice(r.commandIndex);if(r.match&&r.pathIndex<t.segments.length){const e=new jv(t.segments.slice(0,r.pathIndex),{});return e.children.primary=new jv(t.segments.slice(r.pathIndex),t.children),_b(e,0,i)}return r.match&&0===i.length?new jv(t.segments,{}):r.match&&!t.hasChildren()?wb(t,e,n):r.match?_b(t,0,i):wb(t,e,n)}function _b(t,e,n){if(0===n.length)return new jv(t.segments,{});{const r=function(t){return pb(t[0])?t[0].outlets:{[pv]:t}}(n),i={};return Ov(r,(n,r)=>{"string"==typeof n&&(n=[n]),null!==n&&(i[r]=bb(t.children[r],e,n))}),Ov(t.children,(t,e)=>{void 0===r[e]&&(i[e]=t)}),new jv(t.segments,i)}}function wb(t,e,n){const r=t.segments.slice(0,e);let i=0;for(;i<n.length;){const s=n[i];if(pb(s)){const t=Eb(s.outlets);return new jv(r,t)}if(0===i&&db(n[0])){r.push(new kv(t.segments[e].path,n[0])),i++;continue}const o=pb(s)?s.outlets.primary:""+s,a=i<n.length-1?n[i+1]:null;o&&a&&db(a)?(r.push(new kv(o,Ob(a))),i+=2):(r.push(new kv(o,{})),i++)}return new jv(r,{})}function Eb(t){const e={};return Ov(t,(t,n)=>{"string"==typeof t&&(t=[t]),null!==t&&(e[n]=wb(new jv([],{}),0,t))}),e}function Ob(t){const e={};return Ov(t,(t,n)=>e[n]=""+t),e}function Sb(t,e,n){return t==n.path&&bv(e,n.parameters)}class Cb{constructor(t,e,n,r){this.routeReuseStrategy=t,this.futureState=e,this.currState=n,this.forwardEvent=r}activate(t){const e=this.futureState._root,n=this.currState?this.currState._root:null;this.deactivateChildRoutes(e,n,t),cb(this.futureState.root),this.activateChildRoutes(e,n,t)}deactivateChildRoutes(t,e,n){const r=tb(e);t.children.forEach(t=>{const e=t.value.outlet;this.deactivateRoutes(t,r[e],n),delete r[e]}),Ov(r,(t,e)=>{this.deactivateRouteAndItsChildren(t,n)})}deactivateRoutes(t,e,n){const r=t.value,i=e?e.value:null;if(r===i)if(r.component){const i=n.getContext(r.outlet);i&&this.deactivateChildRoutes(t,e,i.children)}else this.deactivateChildRoutes(t,e,n);else i&&this.deactivateRouteAndItsChildren(e,n)}deactivateRouteAndItsChildren(t,e){this.routeReuseStrategy.shouldDetach(t.value.snapshot)?this.detachAndStoreRouteSubtree(t,e):this.deactivateRouteAndOutlet(t,e)}detachAndStoreRouteSubtree(t,e){const n=e.getContext(t.value.outlet);if(n&&n.outlet){const e=n.outlet.detach(),r=n.children.onOutletDeactivated();this.routeReuseStrategy.store(t.value.snapshot,{componentRef:e,route:t,contexts:r})}}deactivateRouteAndOutlet(t,e){const n=e.getContext(t.value.outlet);if(n){const r=tb(t),i=t.value.component?n.children:e;Ov(r,(t,e)=>this.deactivateRouteAndItsChildren(t,i)),n.outlet&&(n.outlet.deactivate(),n.children.onOutletDeactivated())}}activateChildRoutes(t,e,n){const r=tb(e);t.children.forEach(t=>{this.activateRoutes(t,r[t.value.outlet],n),this.forwardEvent(new fv(t.value.snapshot))}),t.children.length&&this.forwardEvent(new lv(t.value.snapshot))}activateRoutes(t,e,n){const r=t.value,i=e?e.value:null;if(cb(r),r===i)if(r.component){const i=n.getOrCreateContext(r.outlet);this.activateChildRoutes(t,e,i.children)}else this.activateChildRoutes(t,e,n);else if(r.component){const e=n.getOrCreateContext(r.outlet);if(this.routeReuseStrategy.shouldAttach(r.snapshot)){const t=this.routeReuseStrategy.retrieve(r.snapshot);this.routeReuseStrategy.store(r.snapshot,null),e.children.onOutletReAttached(t.contexts),e.attachRef=t.componentRef,e.route=t.route.value,e.outlet&&e.outlet.attach(t.componentRef,t.route.value),Tb(t.route)}else{const n=function(t){for(let e=t.parent;e;e=e.parent){const t=e.routeConfig;if(t&&t._loadedConfig)return t._loadedConfig;if(t&&t.component)return null}return null}(r.snapshot),i=n?n.module.componentFactoryResolver:null;e.attachRef=null,e.route=r,e.resolver=i,e.outlet&&e.outlet.activateWith(r,i),this.activateChildRoutes(t,null,e.children)}}else this.activateChildRoutes(t,null,n)}}function Tb(t){cb(t.value),t.children.forEach(Tb)}class Ib{constructor(t,e){this.routes=t,this.module=e}}function xb(t){return"function"==typeof t}function Ab(t){return t instanceof Av}const jb=Symbol("INITIAL_VALUE");function kb(){return Pm(t=>function(...t){let e=void 0,n=void 0;return Object(Ke.a)(t[t.length-1])&&(n=t.pop()),"function"==typeof t[t.length-1]&&(e=t.pop()),1===t.length&&Object(H.a)(t[0])&&(t=t[0]),Object(Ry.a)(t,n).lift(new My(e))}(...t.map(t=>t.pipe(Gm(1),Be(jb)))).pipe(Qe((t,e)=>{let n=!1;return e.reduce((t,r,i)=>{if(t!==jb)return t;if(r===jb&&(n=!0),!n){if(!1===r)return r;if(i===e.length-1||Ab(r))return r}return t},t)},jb),en(t=>t!==jb),Object(z.a)(t=>Ab(t)?t:!0===t),Gm(1)))}let Nb=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=r.Cb({type:t,selectors:[["ng-component"]],decls:1,vars:0,template:function(t,e){1&t&&r.Jb(0,"router-outlet")},directives:function(){return[C_]},encapsulation:2}),t})();function Pb(t,e=""){for(let n=0;n<t.length;n++){const r=t[n];Db(r,Rb(e,r))}}function Db(t,e){t.children&&Pb(t.children,e)}function Rb(t,e){return e?t||e.path?t&&!e.path?t+"/":!t&&e.path?e.path:`${t}/${e.path}`:"":t}function Lb(t){const e=t.children&&t.children.map(Lb),n=e?Object.assign(Object.assign({},t),{children:e}):Object.assign({},t);return!n.component&&(e||n.loadChildren)&&n.outlet&&n.outlet!==pv&&(n.component=Nb),n}function Mb(t){return t.outlet||pv}class Fb{constructor(t){this.segmentGroup=t||null}}class Vb{constructor(t){this.urlTree=t}}function Ub(t){return new q.a(e=>e.error(new Fb(t)))}function qb(t){return new q.a(e=>e.error(new Vb(t)))}function Hb(t){return new q.a(e=>e.error(new Error(`Only absolute redirects can have named outlets. redirectTo: '${t}'`)))}class zb{constructor(t,e,n,i,s){this.configLoader=e,this.urlSerializer=n,this.urlTree=i,this.config=s,this.allowRedirects=!0,this.ngModule=t.get(r.x)}apply(){return this.expandSegmentGroup(this.ngModule,this.config,this.urlTree.root,pv).pipe(Object(z.a)(t=>this.createUrlTree(t,this.urlTree.queryParams,this.urlTree.fragment))).pipe(zy(t=>{if(t instanceof Vb)return this.allowRedirects=!1,this.match(t.urlTree);if(t instanceof Fb)throw this.noMatchError(t);throw t}))}match(t){return this.expandSegmentGroup(this.ngModule,this.config,t.root,pv).pipe(Object(z.a)(e=>this.createUrlTree(e,t.queryParams,t.fragment))).pipe(zy(t=>{if(t instanceof Fb)throw this.noMatchError(t);throw t}))}noMatchError(t){return new Error(`Cannot match any routes. URL Segment: '${t.segmentGroup}'`)}createUrlTree(t,e,n){const r=t.segments.length>0?new jv([],{[pv]:t}):t;return new Av(r,e,n)}expandSegmentGroup(t,e,n,r){return 0===n.segments.length&&n.hasChildren()?this.expandChildren(t,e,n).pipe(Object(z.a)(t=>new jv([],t))):this.expandSegment(t,n,e,n.segments,r,!0)}expandChildren(t,e,n){return function(t,e){if(0===Object.keys(t).length)return Object(Ue.a)({});const n=[],r=[],i={};return Ov(t,(t,s)=>{const o=e(s,t).pipe(Object(z.a)(t=>i[s]=t));s===pv?n.push(o):r.push(o)}),Ue.a.apply(null,n.concat(r)).pipe(He(),function(t,e){const n=arguments.length>=2;return r=>r.pipe(t?en((e,n)=>t(e,n,r)):ny.a,Uy(1),n?Jm(e):Ym(()=>new zm))}(),Object(z.a)(()=>i))}(n.children,(n,r)=>this.expandSegmentGroup(t,e,r,n))}expandSegment(t,e,n,r,i,s){const o=function(t){return t.reduce((t,e)=>{const n=Mb(e);return t.has(n)?t.get(n).push(e):t.set(n,[e]),t},new Map)}(n);o.has(i)||o.set(i,[]);const a=n=>Object(B.a)(n).pipe($y(o=>this.expandSegmentAgainstRoute(t,e,n,o,r,i,s).pipe(zy(t=>{if(t instanceof Fb)return Object(Ue.a)(null);throw t}))),ry(t=>null!==t),zy(t=>{if(t instanceof zm||"EmptyError"===t.name){if(this.noLeftoversInUrl(e,r,i))return Object(Ue.a)(new jv([],{}));throw new Fb(e)}throw t})),u=Array.from(o.entries()).map(([t,e])=>{const n=a(e);return t===i?n:n.pipe(Object(z.a)(()=>null),zy(()=>Object(Ue.a)(null)))});return Object(B.a)(u).pipe(t=>t.lift(new My(void 0)),ry(),Object(z.a)(t=>t.find(t=>null!==t)))}noLeftoversInUrl(t,e,n){return 0===e.length&&!t.children[n]}expandSegmentAgainstRoute(t,e,n,r,i,s,o){return Mb(r)!==s&&""!==r.path?Ub(e):void 0===r.redirectTo?this.matchSegmentAgainstRoute(t,e,r,i):o&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(t,e,n,r,i,s):Ub(e)}expandSegmentAgainstRouteUsingRedirect(t,e,n,r,i,s){return"**"===r.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(t,n,r,s):this.expandRegularSegmentAgainstRouteUsingRedirect(t,e,n,r,i,s)}expandWildCardWithParamsAgainstRouteUsingRedirect(t,e,n,r){const i=this.applyRedirectCommands([],n.redirectTo,{});return n.redirectTo.startsWith("/")?qb(i):this.lineralizeSegments(n,i).pipe(Object(Gy.a)(n=>{const i=new jv(n,{});return this.expandSegment(t,i,e,n,r,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(t,e,n,r,i,s){const{matched:o,consumedSegments:a,lastChild:u,positionalParamSegments:c}=Kb(e,r,i);if(!o)return Ub(e);const l=this.applyRedirectCommands(a,r.redirectTo,c);return r.redirectTo.startsWith("/")?qb(l):this.lineralizeSegments(r,l).pipe(Object(Gy.a)(r=>this.expandSegment(t,e,n,r.concat(i.slice(u)),s,!1)))}matchSegmentAgainstRoute(t,e,n,r){if("**"===n.path)return n.loadChildren?this.configLoader.load(t.injector,n).pipe(Object(z.a)(t=>(n._loadedConfig=t,new jv(r,{})))):Object(Ue.a)(new jv(r,{}));const{matched:i,consumedSegments:s,lastChild:o}=Kb(e,n,r);if(!i)return Ub(e);const a=r.slice(o);return this.getChildConfig(t,n,r).pipe(Object(Gy.a)(t=>{const n=t.module,r=t.routes,{segmentGroup:i,slicedSegments:o}=function(t,e,n,r){return n.length>0&&function(t,e,n){return n.some(n=>Gb(t,e,n)&&Mb(n)!==pv)}(t,n,r)?{segmentGroup:Bb(new jv(e,function(t,e){const n={};n.primary=e;for(const r of t)""===r.path&&Mb(r)!==pv&&(n[Mb(r)]=new jv([],{}));return n}(r,new jv(n,t.children)))),slicedSegments:[]}:0===n.length&&function(t,e,n){return n.some(n=>Gb(t,e,n))}(t,n,r)?{segmentGroup:Bb(new jv(t.segments,function(t,e,n,r){const i={};for(const s of n)Gb(t,e,s)&&!r[Mb(s)]&&(i[Mb(s)]=new jv([],{}));return Object.assign(Object.assign({},r),i)}(t,n,r,t.children))),slicedSegments:n}:{segmentGroup:t,slicedSegments:n}}(e,s,a,r);return 0===o.length&&i.hasChildren()?this.expandChildren(n,r,i).pipe(Object(z.a)(t=>new jv(s,t))):0===r.length&&0===o.length?Object(Ue.a)(new jv(s,{})):this.expandSegment(n,i,r,o,pv,!0).pipe(Object(z.a)(t=>new jv(s.concat(t.segments),t.children)))}))}getChildConfig(t,e,n){return e.children?Object(Ue.a)(new Ib(e.children,t)):e.loadChildren?void 0!==e._loadedConfig?Object(Ue.a)(e._loadedConfig):this.runCanLoadGuards(t.injector,e,n).pipe(Object(Gy.a)(n=>n?this.configLoader.load(t.injector,e).pipe(Object(z.a)(t=>(e._loadedConfig=t,t))):function(t){return new q.a(e=>e.error(yv(`Cannot load children because the guard of the route "path: '${t.path}'" returned false`)))}(e))):Object(Ue.a)(new Ib([],t))}runCanLoadGuards(t,e,n){const r=e.canLoad;if(!r||0===r.length)return Object(Ue.a)(!0);const i=r.map(r=>{const i=t.get(r);let s;if(function(t){return t&&xb(t.canLoad)}(i))s=i.canLoad(e,n);else{if(!xb(i))throw new Error("Invalid CanLoad guard");s=i(e,n)}return Sv(s)});return Object(Ue.a)(i).pipe(kb(),Object(Wy.a)(t=>{if(!Ab(t))return;const e=yv(`Redirecting to "${this.urlSerializer.serialize(t)}"`);throw e.url=t,e}),Object(z.a)(t=>!0===t))}lineralizeSegments(t,e){let n=[],r=e.root;for(;;){if(n=n.concat(r.segments),0===r.numberOfChildren)return Object(Ue.a)(n);if(r.numberOfChildren>1||!r.children.primary)return Hb(t.redirectTo);r=r.children.primary}}applyRedirectCommands(t,e,n){return this.applyRedirectCreatreUrlTree(e,this.urlSerializer.parse(e),t,n)}applyRedirectCreatreUrlTree(t,e,n,r){const i=this.createSegmentGroup(t,e.root,n,r);return new Av(i,this.createQueryParams(e.queryParams,this.urlTree.queryParams),e.fragment)}createQueryParams(t,e){const n={};return Ov(t,(t,r)=>{if("string"==typeof t&&t.startsWith(":")){const i=t.substring(1);n[r]=e[i]}else n[r]=t}),n}createSegmentGroup(t,e,n,r){const i=this.createSegments(t,e.segments,n,r);let s={};return Ov(e.children,(e,i)=>{s[i]=this.createSegmentGroup(t,e,n,r)}),new jv(i,s)}createSegments(t,e,n,r){return e.map(e=>e.path.startsWith(":")?this.findPosParam(t,e,r):this.findOrReturn(e,n))}findPosParam(t,e,n){const r=n[e.path.substring(1)];if(!r)throw new Error(`Cannot redirect to '${t}'. Cannot find '${e.path}'.`);return r}findOrReturn(t,e){let n=0;for(const r of e){if(r.path===t.path)return e.splice(n),r;n++}return t}}function Kb(t,e,n){if(""===e.path)return"full"===e.pathMatch&&(t.hasChildren()||n.length>0)?{matched:!1,consumedSegments:[],lastChild:0,positionalParamSegments:{}}:{matched:!0,consumedSegments:[],lastChild:0,positionalParamSegments:{}};const r=(e.matcher||vv)(n,t,e);return r?{matched:!0,consumedSegments:r.consumed,lastChild:r.consumed.length,positionalParamSegments:r.posParams}:{matched:!1,consumedSegments:[],lastChild:0,positionalParamSegments:{}}}function Bb(t){if(1===t.numberOfChildren&&t.children.primary){const e=t.children.primary;return new jv(t.segments.concat(e.segments),e.children)}return t}function Gb(t,e,n){return(!(t.hasChildren()||e.length>0)||"full"!==n.pathMatch)&&""===n.path&&void 0!==n.redirectTo}class $b{constructor(t){this.path=t,this.route=this.path[this.path.length-1]}}class Wb{constructor(t,e){this.component=t,this.route=e}}function Jb(t,e,n){const r=t._root;return Zb(r,e?e._root:null,n,[r.value])}function Qb(t,e,n){const r=function(t){if(!t)return null;for(let e=t.parent;e;e=e.parent){const t=e.routeConfig;if(t&&t._loadedConfig)return t._loadedConfig}return null}(e);return(r?r.module.injector:n).get(t)}function Zb(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const s=tb(e);return t.children.forEach(t=>{!function(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const s=t.value,o=e?e.value:null,a=n?n.getContext(t.value.outlet):null;if(o&&s.routeConfig===o.routeConfig){const u=function(t,e,n){if("function"==typeof n)return n(t,e);switch(n){case"pathParamsChange":return!Nv(t.url,e.url);case"pathParamsOrQueryParamsChange":return!Nv(t.url,e.url)||!bv(t.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!lb(t,e)||!bv(t.queryParams,e.queryParams);case"paramsChange":default:return!lb(t,e)}}(o,s,s.routeConfig.runGuardsAndResolvers);u?i.canActivateChecks.push(new $b(r)):(s.data=o.data,s._resolvedData=o._resolvedData),Zb(t,e,s.component?a?a.children:null:n,r,i),u&&a&&a.outlet&&a.outlet.isActivated&&i.canDeactivateChecks.push(new Wb(a.outlet.component,o))}else o&&Yb(e,a,i),i.canActivateChecks.push(new $b(r)),Zb(t,null,s.component?a?a.children:null:n,r,i)}(t,s[t.value.outlet],n,r.concat([t.value]),i),delete s[t.value.outlet]}),Ov(s,(t,e)=>Yb(t,n.getContext(e),i)),i}function Yb(t,e,n){const r=tb(t),i=t.value;Ov(r,(t,r)=>{Yb(t,i.component?e?e.children.getContext(r):null:e,n)}),n.canDeactivateChecks.push(new Wb(i.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,i))}function Xb(t,e){return null!==t&&e&&e(new hv(t)),Object(Ue.a)(!0)}function t_(t,e){return null!==t&&e&&e(new cv(t)),Object(Ue.a)(!0)}function e_(t,e,n){const r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||0===r.length)return Object(Ue.a)(!0);const i=r.map(r=>Vy(()=>{const i=Qb(r,e,n);let s;if(function(t){return t&&xb(t.canActivate)}(i))s=Sv(i.canActivate(e,t));else{if(!xb(i))throw new Error("Invalid CanActivate guard");s=Sv(i(e,t))}return s.pipe(ry())}));return Object(Ue.a)(i).pipe(kb())}function n_(t,e,n){const r=e[e.length-1],i=e.slice(0,e.length-1).reverse().map(t=>function(t){const e=t.routeConfig?t.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:t,guards:e}:null}(t)).filter(t=>null!==t).map(e=>Vy(()=>{const i=e.guards.map(i=>{const s=Qb(i,e.node,n);let o;if(function(t){return t&&xb(t.canActivateChild)}(s))o=Sv(s.canActivateChild(r,t));else{if(!xb(s))throw new Error("Invalid CanActivateChild guard");o=Sv(s(r,t))}return o.pipe(ry())});return Object(Ue.a)(i).pipe(kb())}));return Object(Ue.a)(i).pipe(kb())}class r_{}class i_{constructor(t,e,n,r,i,s){this.rootComponentType=t,this.config=e,this.urlTree=n,this.url=r,this.paramsInheritanceStrategy=i,this.relativeLinkResolution=s}recognize(){try{const t=a_(this.urlTree.root,[],[],this.config,this.relativeLinkResolution).segmentGroup,e=this.processSegmentGroup(this.config,t,pv),n=new sb([],Object.freeze({}),Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,{},pv,this.rootComponentType,null,this.urlTree.root,-1,{}),r=new Xv(n,e),i=new ob(this.url,r);return this.inheritParamsAndData(i._root),Object(Ue.a)(i)}catch(Im){return new q.a(e=>e.error(Im))}}inheritParamsAndData(t){const e=t.value,n=ib(e,this.paramsInheritanceStrategy);e.params=Object.freeze(n.params),e.data=Object.freeze(n.data),t.children.forEach(t=>this.inheritParamsAndData(t))}processSegmentGroup(t,e,n){return 0===e.segments.length&&e.hasChildren()?this.processChildren(t,e):this.processSegment(t,e,e.segments,n)}processChildren(t,e){const n=Pv(e,(e,n)=>this.processSegmentGroup(t,e,n));return function(t){const e={};t.forEach(t=>{const n=e[t.value.outlet];if(n){const e=n.url.map(t=>t.toString()).join("/"),r=t.value.url.map(t=>t.toString()).join("/");throw new Error(`Two segments cannot have the same outlet name: '${e}' and '${r}'.`)}e[t.value.outlet]=t.value})}(n),n.sort((t,e)=>t.value.outlet===pv?-1:e.value.outlet===pv?1:t.value.outlet.localeCompare(e.value.outlet)),n}processSegment(t,e,n,r){for(const i of t)try{return this.processSegmentAgainstRoute(i,e,n,r)}catch(Im){if(!(Im instanceof r_))throw Im}if(this.noLeftoversInUrl(e,n,r))return[];throw new r_}noLeftoversInUrl(t,e,n){return 0===e.length&&!t.children[n]}processSegmentAgainstRoute(t,e,n,r){if(t.redirectTo)throw new r_;if((t.outlet||pv)!==r)throw new r_;let i,s=[],o=[];if("**"===t.path){const s=n.length>0?Ev(n).parameters:{};i=new sb(n,s,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,c_(t),r,t.component,t,s_(e),o_(e)+n.length,l_(t))}else{const a=function(t,e,n){if(""===e.path){if("full"===e.pathMatch&&(t.hasChildren()||n.length>0))throw new r_;return{consumedSegments:[],lastChild:0,parameters:{}}}const r=(e.matcher||vv)(n,t,e);if(!r)throw new r_;const i={};Ov(r.posParams,(t,e)=>{i[e]=t.path});const s=r.consumed.length>0?Object.assign(Object.assign({},i),r.consumed[r.consumed.length-1].parameters):i;return{consumedSegments:r.consumed,lastChild:r.consumed.length,parameters:s}}(e,t,n);s=a.consumedSegments,o=n.slice(a.lastChild),i=new sb(s,a.parameters,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,c_(t),r,t.component,t,s_(e),o_(e)+s.length,l_(t))}const a=function(t){return t.children?t.children:t.loadChildren?t._loadedConfig.routes:[]}(t),{segmentGroup:u,slicedSegments:c}=a_(e,s,o,a,this.relativeLinkResolution);if(0===c.length&&u.hasChildren()){const t=this.processChildren(a,u);return[new Xv(i,t)]}if(0===a.length&&0===c.length)return[new Xv(i,[])];const l=this.processSegment(a,u,c,pv);return[new Xv(i,l)]}}function s_(t){let e=t;for(;e._sourceSegment;)e=e._sourceSegment;return e}function o_(t){let e=t,n=e._segmentIndexShift?e._segmentIndexShift:0;for(;e._sourceSegment;)e=e._sourceSegment,n+=e._segmentIndexShift?e._segmentIndexShift:0;return n-1}function a_(t,e,n,r,i){if(n.length>0&&function(t,e,n){return n.some(n=>u_(t,e,n)&&Mb(n)!==pv)}(t,n,r)){const i=new jv(e,function(t,e,n,r){const i={};i.primary=r,r._sourceSegment=t,r._segmentIndexShift=e.length;for(const s of n)if(""===s.path&&Mb(s)!==pv){const n=new jv([],{});n._sourceSegment=t,n._segmentIndexShift=e.length,i[Mb(s)]=n}return i}(t,e,r,new jv(n,t.children)));return i._sourceSegment=t,i._segmentIndexShift=e.length,{segmentGroup:i,slicedSegments:[]}}if(0===n.length&&function(t,e,n){return n.some(n=>u_(t,e,n))}(t,n,r)){const s=new jv(t.segments,function(t,e,n,r,i,s){const o={};for(const a of r)if(u_(t,n,a)&&!i[Mb(a)]){const n=new jv([],{});n._sourceSegment=t,n._segmentIndexShift="legacy"===s?t.segments.length:e.length,o[Mb(a)]=n}return Object.assign(Object.assign({},i),o)}(t,e,n,r,t.children,i));return s._sourceSegment=t,s._segmentIndexShift=e.length,{segmentGroup:s,slicedSegments:n}}const s=new jv(t.segments,t.children);return s._sourceSegment=t,s._segmentIndexShift=e.length,{segmentGroup:s,slicedSegments:n}}function u_(t,e,n){return(!(t.hasChildren()||e.length>0)||"full"!==n.pathMatch)&&""===n.path&&void 0===n.redirectTo}function c_(t){return t.data||{}}function l_(t){return t.resolve||{}}function h_(t){return function(e){return e.pipe(Pm(e=>{const n=t(e);return n?Object(B.a)(n).pipe(Object(z.a)(()=>e)):Object(B.a)([e])}))}}class f_ extends class{shouldDetach(t){return!1}store(t,e){}shouldAttach(t){return!1}retrieve(t){return null}shouldReuseRoute(t,e){return t.routeConfig===e.routeConfig}}{}const d_=new r.q("ROUTES");class p_{constructor(t,e,n,r){this.loader=t,this.compiler=e,this.onLoadStartListener=n,this.onLoadEndListener=r}load(t,e){return this.onLoadStartListener&&this.onLoadStartListener(e),this.loadModuleFactory(e.loadChildren).pipe(Object(z.a)(n=>{this.onLoadEndListener&&this.onLoadEndListener(e);const r=n.create(t);return new Ib(wv(r.injector.get(d_)).map(Lb),r)}))}loadModuleFactory(t){return"string"==typeof t?Object(B.a)(this.loader.load(t)):Sv(t()).pipe(Object(Gy.a)(t=>t instanceof r.v?Object(Ue.a)(t):Object(B.a)(this.compiler.compileModuleAsync(t))))}}class g_{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.children=new m_,this.attachRef=null}}class m_{constructor(){this.contexts=new Map}onChildOutletCreated(t,e){const n=this.getOrCreateContext(t);n.outlet=e,this.contexts.set(t,n)}onChildOutletDestroyed(t){const e=this.getContext(t);e&&(e.outlet=null)}onOutletDeactivated(){const t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let e=this.getContext(t);return e||(e=new g_,this.contexts.set(t,e)),e}getContext(t){return this.contexts.get(t)||null}}class y_{shouldProcessUrl(t){return!0}extract(t){return t}merge(t,e){return t}}function v_(t){throw t}function b_(t,e,n){return e.parse("/")}function __(t,e){return Object(Ue.a)(null)}let w_=(()=>{class t{constructor(t,e,n,i,s,o,a,u){this.rootComponentType=t,this.urlSerializer=e,this.rootContexts=n,this.location=i,this.config=u,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.lastLocationChangeInfo=null,this.navigationId=0,this.isNgZoneEnabled=!1,this.events=new jm.a,this.errorHandler=v_,this.malformedUriErrorHandler=b_,this.navigated=!1,this.lastSuccessfulId=-1,this.hooks={beforePreactivation:__,afterPreactivation:__},this.urlHandlingStrategy=new y_,this.routeReuseStrategy=new f_,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.ngModule=s.get(r.x),this.console=s.get(r.X);const c=s.get(r.z);this.isNgZoneEnabled=c instanceof r.z,this.resetConfig(u),this.currentUrlTree=new Av(new jv([],{}),{},null),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.configLoader=new p_(o,a,t=>this.triggerEvent(new av(t)),t=>this.triggerEvent(new uv(t))),this.routerState=nb(this.currentUrlTree,this.rootComponentType),this.transitions=new jy({id:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}setupNavigations(t){const e=this.events;return t.pipe(en(t=>0!==t.id),Object(z.a)(t=>Object.assign(Object.assign({},t),{extractedUrl:this.urlHandlingStrategy.extract(t.rawUrl)})),Pm(t=>{let n=!1,r=!1;return Object(Ue.a)(t).pipe(Object(Wy.a)(t=>{this.currentNavigation={id:t.id,initialUrl:t.currentRawUrl,extractedUrl:t.extractedUrl,trigger:t.source,extras:t.extras,previousNavigation:this.lastSuccessfulNavigation?Object.assign(Object.assign({},this.lastSuccessfulNavigation),{previousNavigation:null}):null}}),Pm(t=>{const n=!this.navigated||t.extractedUrl.toString()!==this.browserUrlTree.toString();if(("reload"===this.onSameUrlNavigation||n)&&this.urlHandlingStrategy.shouldProcessUrl(t.rawUrl))return Object(Ue.a)(t).pipe(Pm(t=>{const n=this.transitions.getValue();return e.next(new Yy(t.id,this.serializeUrl(t.extractedUrl),t.source,t.restoredState)),n!==this.transitions.getValue()?Bm.a:[t]}),Pm(t=>Promise.resolve(t)),(r=this.ngModule.injector,i=this.configLoader,s=this.urlSerializer,o=this.config,function(t){return t.pipe(Pm(t=>function(t,e,n,r,i){return new zb(t,e,n,r,i).apply()}(r,i,s,t.extractedUrl,o).pipe(Object(z.a)(e=>Object.assign(Object.assign({},t),{urlAfterRedirects:e})))))}),Object(Wy.a)(t=>{this.currentNavigation=Object.assign(Object.assign({},this.currentNavigation),{finalUrl:t.urlAfterRedirects})}),function(t,e,n,r,i){return function(s){return s.pipe(Object(Gy.a)(s=>function(t,e,n,r,i="emptyOnly",s="legacy"){return new i_(t,e,n,r,i,s).recognize()}(t,e,s.urlAfterRedirects,n(s.urlAfterRedirects),r,i).pipe(Object(z.a)(t=>Object.assign(Object.assign({},s),{targetSnapshot:t})))))}}(this.rootComponentType,this.config,t=>this.serializeUrl(t),this.paramsInheritanceStrategy,this.relativeLinkResolution),Object(Wy.a)(t=>{"eager"===this.urlUpdateStrategy&&(t.extras.skipLocationChange||this.setBrowserUrl(t.urlAfterRedirects,!!t.extras.replaceUrl,t.id,t.extras.state),this.browserUrlTree=t.urlAfterRedirects)}),Object(Wy.a)(t=>{const n=new nv(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);e.next(n)}));var r,i,s,o;if(n&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:n,extractedUrl:r,source:i,restoredState:s,extras:o}=t,a=new Yy(n,this.serializeUrl(r),i,s);e.next(a);const u=nb(r,this.rootComponentType).snapshot;return Object(Ue.a)(Object.assign(Object.assign({},t),{targetSnapshot:u,urlAfterRedirects:r,extras:Object.assign(Object.assign({},o),{skipLocationChange:!1,replaceUrl:!1})}))}return this.rawUrlTree=t.rawUrl,this.browserUrlTree=t.urlAfterRedirects,t.resolve(null),Bm.a}),h_(t=>{const{targetSnapshot:e,id:n,extractedUrl:r,rawUrl:i,extras:{skipLocationChange:s,replaceUrl:o}}=t;return this.hooks.beforePreactivation(e,{navigationId:n,appliedUrlTree:r,rawUrlTree:i,skipLocationChange:!!s,replaceUrl:!!o})}),Object(Wy.a)(t=>{const e=new rv(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);this.triggerEvent(e)}),Object(z.a)(t=>Object.assign(Object.assign({},t),{guards:Jb(t.targetSnapshot,t.currentSnapshot,this.rootContexts)})),function(t,e){return function(n){return n.pipe(Object(Gy.a)(n=>{const{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:s,canDeactivateChecks:o}}=n;return 0===o.length&&0===s.length?Object(Ue.a)(Object.assign(Object.assign({},n),{guardsResult:!0})):function(t,e,n,r){return Object(B.a)(t).pipe(Object(Gy.a)(t=>function(t,e,n,r,i){const s=e&&e.routeConfig?e.routeConfig.canDeactivate:null;if(!s||0===s.length)return Object(Ue.a)(!0);const o=s.map(s=>{const o=Qb(s,e,i);let a;if(function(t){return t&&xb(t.canDeactivate)}(o))a=Sv(o.canDeactivate(t,e,n,r));else{if(!xb(o))throw new Error("Invalid CanDeactivate guard");a=Sv(o(t,e,n,r))}return a.pipe(ry())});return Object(Ue.a)(o).pipe(kb())}(t.component,t.route,n,e,r)),ry(t=>!0!==t,!0))}(o,r,i,t).pipe(Object(Gy.a)(n=>n&&"boolean"==typeof n?function(t,e,n,r){return Object(B.a)(e).pipe($y(e=>Object(B.a)([t_(e.route.parent,r),Xb(e.route,r),n_(t,e.path,n),e_(t,e.route,n)]).pipe(He(),ry(t=>!0!==t,!0))),ry(t=>!0!==t,!0))}(r,s,t,e):Object(Ue.a)(n)),Object(z.a)(t=>Object.assign(Object.assign({},n),{guardsResult:t})))}))}}(this.ngModule.injector,t=>this.triggerEvent(t)),Object(Wy.a)(t=>{if(Ab(t.guardsResult)){const e=yv(`Redirecting to "${this.serializeUrl(t.guardsResult)}"`);throw e.url=t.guardsResult,e}}),Object(Wy.a)(t=>{const e=new iv(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot,!!t.guardsResult);this.triggerEvent(e)}),en(t=>{if(!t.guardsResult){this.resetUrlToCurrentUrlTree();const n=new tv(t.id,this.serializeUrl(t.extractedUrl),"");return e.next(n),t.resolve(!1),!1}return!0}),h_(t=>{if(t.guards.canActivateChecks.length)return Object(Ue.a)(t).pipe(Object(Wy.a)(t=>{const e=new sv(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);this.triggerEvent(e)}),Pm(t=>{let n=!1;return Object(Ue.a)(t).pipe((r=this.paramsInheritanceStrategy,i=this.ngModule.injector,function(t){return t.pipe(Object(Gy.a)(t=>{const{targetSnapshot:e,guards:{canActivateChecks:n}}=t;if(!n.length)return Object(Ue.a)(t);let s=0;return Object(B.a)(n).pipe($y(t=>function(t,e,n,r){return function(t,e,n,r){const i=Object.keys(t);if(0===i.length)return Object(Ue.a)({});const s={};return Object(B.a)(i).pipe(Object(Gy.a)(i=>function(t,e,n,r){const i=Qb(t,e,r);return Sv(i.resolve?i.resolve(e,n):i(e,n))}(t[i],e,n,r).pipe(Object(Wy.a)(t=>{s[i]=t}))),Uy(1),Object(Gy.a)(()=>Object.keys(s).length===i.length?Object(Ue.a)(s):Bm.a))}(t._resolve,t,e,r).pipe(Object(z.a)(e=>(t._resolvedData=e,t.data=Object.assign(Object.assign({},t.data),ib(t,n).resolve),null)))}(t.route,e,r,i)),Object(Wy.a)(()=>s++),Uy(1),Object(Gy.a)(e=>s===n.length?Object(Ue.a)(t):Bm.a))}))}),Object(Wy.a)({next:()=>n=!0,complete:()=>{if(!n){const n=new tv(t.id,this.serializeUrl(t.extractedUrl),"At least one route resolver didn't emit any value.");e.next(n),t.resolve(!1)}}}));var r,i}),Object(Wy.a)(t=>{const e=new ov(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);this.triggerEvent(e)}))}),h_(t=>{const{targetSnapshot:e,id:n,extractedUrl:r,rawUrl:i,extras:{skipLocationChange:s,replaceUrl:o}}=t;return this.hooks.afterPreactivation(e,{navigationId:n,appliedUrlTree:r,rawUrlTree:i,skipLocationChange:!!s,replaceUrl:!!o})}),Object(z.a)(t=>{const e=function(t,e,n){const r=hb(t,e._root,n?n._root:void 0);return new eb(r,e)}(this.routeReuseStrategy,t.targetSnapshot,t.currentRouterState);return Object.assign(Object.assign({},t),{targetRouterState:e})}),Object(Wy.a)(t=>{this.currentUrlTree=t.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t.rawUrl),this.routerState=t.targetRouterState,"deferred"===this.urlUpdateStrategy&&(t.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,!!t.extras.replaceUrl,t.id,t.extras.state),this.browserUrlTree=t.urlAfterRedirects)}),(s=this.rootContexts,o=this.routeReuseStrategy,a=t=>this.triggerEvent(t),Object(z.a)(t=>(new Cb(o,t.targetRouterState,t.currentRouterState,a).activate(s),t))),Object(Wy.a)({next(){n=!0},complete(){n=!0}}),(i=()=>{if(!n&&!r){this.resetUrlToCurrentUrlTree();const n=new tv(t.id,this.serializeUrl(t.extractedUrl),`Navigation ID ${t.id} is not equal to the current navigation id ${this.navigationId}`);e.next(n),t.resolve(!1)}this.currentNavigation=null},t=>t.lift(new Jy(i))),zy(n=>{if(r=!0,(i=n)&&i.ngNavigationCancelingError){const r=Ab(n.url);r||(this.navigated=!0,this.resetStateAndUrl(t.currentRouterState,t.currentUrlTree,t.rawUrl));const i=new tv(t.id,this.serializeUrl(t.extractedUrl),n.message);e.next(i),r?setTimeout(()=>{const e=this.urlHandlingStrategy.merge(n.url,this.rawUrlTree);return this.scheduleNavigation(e,"imperative",null,{skipLocationChange:t.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy},{resolve:t.resolve,reject:t.reject,promise:t.promise})},0):t.resolve(!1)}else{this.resetStateAndUrl(t.currentRouterState,t.currentUrlTree,t.rawUrl);const r=new ev(t.id,this.serializeUrl(t.extractedUrl),n);e.next(r);try{t.resolve(this.errorHandler(n))}catch(Wa){t.reject(Wa)}}var i;return Bm.a}));var i,s,o,a}))}resetRootComponentType(t){this.rootComponentType=t,this.routerState.root.component=this.rootComponentType}getTransition(){const t=this.transitions.value;return t.urlAfterRedirects=this.browserUrlTree,t}setTransition(t){this.transitions.next(Object.assign(Object.assign({},this.getTransition()),t))}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(t=>{const e=this.extractLocationChangeInfoFromEvent(t);this.shouldScheduleNavigation(this.lastLocationChangeInfo,e)&&setTimeout(()=>{const{source:t,state:n,urlTree:r}=e,i={replaceUrl:!0};if(n){const t=Object.assign({},n);delete t.navigationId,0!==Object.keys(t).length&&(i.state=t)}this.scheduleNavigation(r,t,n,i)},0),this.lastLocationChangeInfo=e}))}extractLocationChangeInfoFromEvent(t){var e;return{source:"popstate"===t.type?"popstate":"hashchange",urlTree:this.parseUrl(t.url),state:(null===(e=t.state)||void 0===e?void 0:e.navigationId)?t.state:null,transitionId:this.getTransition().id}}shouldScheduleNavigation(t,e){if(!t)return!0;const n=e.urlTree.toString()===t.urlTree.toString();return!(e.transitionId===t.transitionId&&n&&("hashchange"===e.source&&"popstate"===t.source||"popstate"===e.source&&"hashchange"===t.source))}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(t){this.events.next(t)}resetConfig(t){Pb(t),this.config=t.map(Lb),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0)}createUrlTree(t,e={}){const{relativeTo:n,queryParams:r,fragment:i,queryParamsHandling:s,preserveFragment:o}=e,a=n||this.routerState.root,u=o?this.currentUrlTree.fragment:i;let c=null;switch(s){case"merge":c=Object.assign(Object.assign({},this.currentUrlTree.queryParams),r);break;case"preserve":c=this.currentUrlTree.queryParams;break;default:c=r||null}return null!==c&&(c=this.removeEmptyProps(c)),function(t,e,n,r,i){if(0===n.length)return gb(e.root,e.root,e,r,i);const s=function(t){if("string"==typeof t[0]&&1===t.length&&"/"===t[0])return new yb(!0,0,t);let e=0,n=!1;const r=t.reduce((t,r,i)=>{if("object"==typeof r&&null!=r){if(r.outlets){const e={};return Ov(r.outlets,(t,n)=>{e[n]="string"==typeof t?t.split("/"):t}),[...t,{outlets:e}]}if(r.segmentPath)return[...t,r.segmentPath]}return"string"!=typeof r?[...t,r]:0===i?(r.split("/").forEach((r,i)=>{0==i&&"."===r||(0==i&&""===r?n=!0:".."===r?e++:""!=r&&t.push(r))}),t):[...t,r]},[]);return new yb(n,e,r)}(n);if(s.toRoot())return gb(e.root,new jv([],{}),e,r,i);const o=function(t,e,n){if(t.isAbsolute)return new vb(e.root,!0,0);if(-1===n.snapshot._lastPathIndex){const t=n.snapshot._urlSegment;return new vb(t,t===e.root,0)}const r=db(t.commands[0])?0:1;return function(t,e,n){let r=t,i=e,s=n;for(;s>i;){if(s-=i,r=r.parent,!r)throw new Error("Invalid number of '../'");i=r.segments.length}return new vb(r,!1,i-s)}(n.snapshot._urlSegment,n.snapshot._lastPathIndex+r,t.numberOfDoubleDots)}(s,e,t),a=o.processChildren?_b(o.segmentGroup,o.index,s.commands):bb(o.segmentGroup,o.index,s.commands);return gb(o.segmentGroup,a,e,r,i)}(a,this.currentUrlTree,t,c,u)}navigateByUrl(t,e={skipLocationChange:!1}){const n=Ab(t)?t:this.parseUrl(t),r=this.urlHandlingStrategy.merge(n,this.rawUrlTree);return this.scheduleNavigation(r,"imperative",null,e)}navigate(t,e={skipLocationChange:!1}){return function(t){for(let e=0;e<t.length;e++){const n=t[e];if(null==n)throw new Error(`The requested path contains ${n} segment at index ${e}`)}}(t),this.navigateByUrl(this.createUrlTree(t,e),e)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){let e;try{e=this.urlSerializer.parse(t)}catch(Im){e=this.malformedUriErrorHandler(Im,this.urlSerializer,t)}return e}isActive(t,e){if(Ab(t))return Cv(this.currentUrlTree,t,e);const n=this.parseUrl(t);return Cv(this.currentUrlTree,n,e)}removeEmptyProps(t){return Object.keys(t).reduce((e,n)=>{const r=t[n];return null!=r&&(e[n]=r),e},{})}processNavigations(){this.navigations.subscribe(t=>{this.navigated=!0,this.lastSuccessfulId=t.id,this.events.next(new Xy(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,this.currentNavigation=null,t.resolve(!0)},t=>{this.console.warn("Unhandled Navigation Error: ")})}scheduleNavigation(t,e,n,r,i){const s=this.getTransition(),o="imperative"!==e&&"imperative"===(null==s?void 0:s.source),a=(this.lastSuccessfulId===s.id||this.currentNavigation?s.rawUrl:s.urlAfterRedirects).toString()===t.toString();if(o&&a)return Promise.resolve(!0);let u,c,l;i?(u=i.resolve,c=i.reject,l=i.promise):l=new Promise((t,e)=>{u=t,c=e});const h=++this.navigationId;return this.setTransition({id:h,source:e,restoredState:n,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:t,extras:r,resolve:u,reject:c,promise:l,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),l.catch(t=>Promise.reject(t))}setBrowserUrl(t,e,n,r){const i=this.urlSerializer.serialize(t);r=r||{},this.location.isCurrentPathEqualTo(i)||e?this.location.replaceState(i,"",Object.assign(Object.assign({},r),{navigationId:n})):this.location.go(i,"",Object.assign(Object.assign({},r),{navigationId:n}))}resetStateAndUrl(t,e,n){this.routerState=t,this.currentUrlTree=e,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,n),this.resetUrlToCurrentUrlTree()}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",{navigationId:this.lastSuccessfulId})}}return t.\u0275fac=function(e){return new(e||t)(r.Ob(r.M),r.Ob(Dv),r.Ob(m_),r.Ob(w),r.Ob(r.r),r.Ob(r.w),r.Ob(r.i),r.Ob(void 0))},t.\u0275prov=r.Eb({token:t,factory:t.\u0275fac}),t})(),E_=(()=>{class t{constructor(t,e,n,r,i){this.router=t,this.route=e,this.commands=[],this.onChanges=new jm.a,null==n&&r.setAttribute(i.nativeElement,"tabindex","0")}ngOnChanges(t){this.onChanges.next(this)}set routerLink(t){this.commands=null!=t?Array.isArray(t)?t:[t]:[]}onClick(){const t={skipLocationChange:S_(this.skipLocationChange),replaceUrl:S_(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,t),!0}get urlTree(){return this.router.createUrlTree(this.commands,{relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:S_(this.preserveFragment)})}}return t.\u0275fac=function(e){return new(e||t)(r.Ib(w_),r.Ib(rb),r.Pb("tabindex"),r.Ib(r.D),r.Ib(r.l))},t.\u0275dir=r.Db({type:t,selectors:[["","routerLink","",5,"a",5,"area"]],hostBindings:function(t,e){1&t&&r.Rb("click",function(){return e.onClick()})},inputs:{routerLink:"routerLink",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state"},features:[r.wb]}),t})(),O_=(()=>{class t{constructor(t,e,n){this.router=t,this.route=e,this.locationStrategy=n,this.commands=[],this.onChanges=new jm.a,this.subscription=t.events.subscribe(t=>{t instanceof Xy&&this.updateTargetUrlAndHref()})}set routerLink(t){this.commands=null!=t?Array.isArray(t)?t:[t]:[]}ngOnChanges(t){this.updateTargetUrlAndHref(),this.onChanges.next(this)}ngOnDestroy(){this.subscription.unsubscribe()}onClick(t,e,n,r,i){if(0!==t||e||n||r||i)return!0;if("string"==typeof this.target&&"_self"!=this.target)return!0;const s={skipLocationChange:S_(this.skipLocationChange),replaceUrl:S_(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,s),!1}updateTargetUrlAndHref(){this.href=this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.urlTree))}get urlTree(){return this.router.createUrlTree(this.commands,{relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:S_(this.preserveFragment)})}}return t.\u0275fac=function(e){return new(e||t)(r.Ib(w_),r.Ib(rb),r.Ib(m))},t.\u0275dir=r.Db({type:t,selectors:[["a","routerLink",""],["area","routerLink",""]],hostVars:2,hostBindings:function(t,e){1&t&&r.Rb("click",function(t){return e.onClick(t.button,t.ctrlKey,t.shiftKey,t.altKey,t.metaKey)}),2&t&&(r.Nb("href",e.href,r.Zb),r.zb("target",e.target))},inputs:{routerLink:"routerLink",target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state"},features:[r.wb]}),t})();function S_(t){return""===t||!!t}let C_=(()=>{class t{constructor(t,e,n,i,s){this.parentContexts=t,this.location=e,this.resolver=n,this.changeDetector=s,this.activated=null,this._activatedRoute=null,this.activateEvents=new r.n,this.deactivateEvents=new r.n,this.name=i||pv,t.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const t=this.parentContexts.getContext(this.name);t&&t.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.resolver||null))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Error("Outlet is not activated");this.location.detach();const t=this.activated;return this.activated=null,this._activatedRoute=null,t}attach(t,e){this.activated=t,this._activatedRoute=e,this.location.insert(t.hostView)}deactivate(){if(this.activated){const t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,e){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=t;const n=(e=e||this.resolver).resolveComponentFactory(t._futureSnapshot.routeConfig.component),r=this.parentContexts.getOrCreateContext(this.name).children,i=new T_(t,r,this.location.injector);this.activated=this.location.createComponent(n,this.location.length,i),this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return t.\u0275fac=function(e){return new(e||t)(r.Ib(m_),r.Ib(r.P),r.Ib(r.j),r.Pb("name"),r.Ib(r.h))},t.\u0275dir=r.Db({type:t,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate"},exportAs:["outlet"]}),t})();class T_{constructor(t,e,n){this.route=t,this.childContexts=e,this.parent=n}get(t,e){return t===rb?this.route:t===m_?this.childContexts:this.parent.get(t,e)}}class I_{}class x_{preload(t,e){return Object(Ue.a)(null)}}let A_=(()=>{class t{constructor(t,e,n,r,i){this.router=t,this.injector=r,this.preloadingStrategy=i,this.loader=new p_(e,n,e=>t.triggerEvent(new av(e)),e=>t.triggerEvent(new uv(e)))}setUpPreloading(){this.subscription=this.router.events.pipe(en(t=>t instanceof Xy),$y(()=>this.preload())).subscribe(()=>{})}preload(){const t=this.injector.get(r.x);return this.processRoutes(t,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(t,e){const n=[];for(const r of e)if(r.loadChildren&&!r.canLoad&&r._loadedConfig){const t=r._loadedConfig;n.push(this.processRoutes(t.module,t.routes))}else r.loadChildren&&!r.canLoad?n.push(this.preloadConfig(t,r)):r.children&&n.push(this.processRoutes(t,r.children));return Object(B.a)(n).pipe(Object(qe.a)(),Object(z.a)(t=>{}))}preloadConfig(t,e){return this.preloadingStrategy.preload(e,()=>this.loader.load(t.injector,e).pipe(Object(Gy.a)(t=>(e._loadedConfig=t,this.processRoutes(t.module,t.routes)))))}}return t.\u0275fac=function(e){return new(e||t)(r.Ob(w_),r.Ob(r.w),r.Ob(r.i),r.Ob(r.r),r.Ob(I_))},t.\u0275prov=r.Eb({token:t,factory:t.\u0275fac}),t})(),j_=(()=>{class t{constructor(t,e,n={}){this.router=t,this.viewportScroller=e,this.options=n,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},n.scrollPositionRestoration=n.scrollPositionRestoration||"disabled",n.anchorScrolling=n.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(t=>{t instanceof Yy?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof Xy&&(this.lastId=t.id,this.scheduleScrollEvent(t,this.router.parseUrl(t.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(t=>{t instanceof dv&&(t.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(t.position):t.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(t.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(t,e){this.router.triggerEvent(new dv(t,"popstate"===this.lastSource?this.store[this.restoredId]:null,e))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return t.\u0275fac=function(e){return new(e||t)(r.Ob(w_),r.Ob(F),r.Ob(void 0))},t.\u0275prov=r.Eb({token:t,factory:t.\u0275fac}),t})();const k_=new r.q("ROUTER_CONFIGURATION"),N_=new r.q("ROUTER_FORROOT_GUARD"),P_=[w,{provide:Dv,useClass:Rv},{provide:w_,useFactory:function(t,e,n,r,i,o,a,u={},c,l){const h=new w_(null,t,e,n,r,i,o,wv(a));if(c&&(h.urlHandlingStrategy=c),l&&(h.routeReuseStrategy=l),function(t,e){t.errorHandler&&(e.errorHandler=t.errorHandler),t.malformedUriErrorHandler&&(e.malformedUriErrorHandler=t.malformedUriErrorHandler),t.onSameUrlNavigation&&(e.onSameUrlNavigation=t.onSameUrlNavigation),t.paramsInheritanceStrategy&&(e.paramsInheritanceStrategy=t.paramsInheritanceStrategy),t.relativeLinkResolution&&(e.relativeLinkResolution=t.relativeLinkResolution),t.urlUpdateStrategy&&(e.urlUpdateStrategy=t.urlUpdateStrategy)}(u,h),u.enableTracing){const t=s();h.events.subscribe(e=>{t.logGroup("Router Event: "+e.constructor.name),t.log(e.toString()),t.log(e),t.logGroupEnd()})}return h},deps:[Dv,m_,w,r.r,r.w,r.i,d_,k_,[class{},new r.A],[class{},new r.A]]},m_,{provide:rb,useFactory:function(t){return t.routerState.root},deps:[w_]},{provide:r.w,useClass:r.J},A_,x_,class{preload(t,e){return e().pipe(zy(()=>Object(Ue.a)(null)))}},{provide:k_,useValue:{enableTracing:!1}}];function D_(){return new r.y("Router",w_)}let R_=(()=>{class t{constructor(t,e){}static forRoot(e,n){return{ngModule:t,providers:[P_,V_(e),{provide:N_,useFactory:F_,deps:[[w_,new r.A,new r.I]]},{provide:k_,useValue:n||{}},{provide:m,useFactory:M_,deps:[a,[new r.p(v),new r.A],k_]},{provide:j_,useFactory:L_,deps:[w_,F,k_]},{provide:I_,useExisting:n&&n.preloadingStrategy?n.preloadingStrategy:x_},{provide:r.y,multi:!0,useFactory:D_},[U_,{provide:r.d,multi:!0,useFactory:q_,deps:[U_]},{provide:z_,useFactory:H_,deps:[U_]},{provide:r.b,multi:!0,useExisting:z_}]]}}static forChild(e){return{ngModule:t,providers:[V_(e)]}}}return t.\u0275mod=r.Gb({type:t}),t.\u0275inj=r.Fb({factory:function(e){return new(e||t)(r.Ob(N_,8),r.Ob(w_,8))}}),t})();function L_(t,e,n){return n.scrollOffset&&e.setOffset(n.scrollOffset),new j_(t,e,n)}function M_(t,e,n={}){return n.useHash?new _(t,e):new b(t,e)}function F_(t){return"guarded"}function V_(t){return[{provide:r.a,multi:!0,useValue:t},{provide:d_,multi:!0,useValue:t}]}let U_=(()=>{class t{constructor(t){this.injector=t,this.initNavigation=!1,this.resultOfPreactivationDone=new jm.a}appInitializer(){return this.injector.get(c,Promise.resolve(null)).then(()=>{let t=null;const e=new Promise(e=>t=e),n=this.injector.get(w_),r=this.injector.get(k_);return"disabled"===r.initialNavigation?(n.setUpLocationChangeListener(),t(!0)):"enabled"===r.initialNavigation||"enabledBlocking"===r.initialNavigation?(n.hooks.afterPreactivation=()=>this.initNavigation?Object(Ue.a)(null):(this.initNavigation=!0,t(!0),this.resultOfPreactivationDone),n.initialNavigation()):t(!0),e})}bootstrapListener(t){const e=this.injector.get(k_),n=this.injector.get(A_),i=this.injector.get(j_),s=this.injector.get(w_),o=this.injector.get(r.g);t===o.components[0]&&("enabledNonBlocking"!==e.initialNavigation&&void 0!==e.initialNavigation||s.initialNavigation(),n.setUpPreloading(),i.init(),s.resetRootComponentType(o.componentTypes[0]),this.resultOfPreactivationDone.next(null),this.resultOfPreactivationDone.complete())}}return t.\u0275fac=function(e){return new(e||t)(r.Ob(r.r))},t.\u0275prov=r.Eb({token:t,factory:t.\u0275fac}),t})();function q_(t){return t.appInitializer.bind(t)}function H_(t){return t.bootstrapListener.bind(t)}const z_=new r.q("Router Initializer");let K_=(()=>{class t{constructor(){}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=r.Cb({type:t,selectors:[["app-header"]],decls:17,vars:0,consts:[["role","navigation","aria-label","main navigation",1,"navbar","is-info","is-fixed-top"],[1,"navbar-brand"],["id","logo","href","",1,"navbar-item"],["src","../../assets/logo.png","width","60"],["id","inicio",1,"navbar-start"],["routerLink","/home",1,"navbar-item","has-text-white"],["role","button","aria-label","menu","aria-expanded","false","data-target","navMenu","onclick","document.querySelector('.navbar-menu').classList.toggle('is-active');\n              document.querySelector('.navbar-burger').classList.toggle('is-active');",1,"navbar-burger"],["aria-hidden","true "],["aria-hidden","true"],["id","navMenu",1,"navbar-menu"],[1,"navbar-start"],["routerLink","/about",1,"navbar-item"],["routerLink","/contact",1,"navbar-item"]],template:function(t,e){1&t&&(r.Lb(0,"nav",0),r.Lb(1,"div",1),r.Lb(2,"a",2),r.Jb(3,"img",3),r.Kb(),r.Lb(4,"div",4),r.Lb(5,"a",5),r.cc(6," Inicio "),r.Kb(),r.Kb(),r.Lb(7,"a",6),r.Jb(8,"span",7),r.Jb(9,"span",8),r.Jb(10,"span",8),r.Kb(),r.Kb(),r.Lb(11,"div",9),r.Lb(12,"div",10),r.Lb(13,"a",11),r.cc(14," Sobre m\xed "),r.Kb(),r.Lb(15,"a",12),r.cc(16," Contacto "),r.Kb(),r.Kb(),r.Kb(),r.Kb())},directives:[O_],styles:["[_nghost-%COMP%]   nav[_ngcontent-%COMP%]{width:100%}[_nghost-%COMP%]   nav[_ngcontent-%COMP%]   #inicio[_ngcontent-%COMP%]{display:flex}"]}),t})(),B_=(()=>{class t{constructor(){}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=r.Cb({type:t,selectors:[["app-footer"]],decls:7,vars:0,consts:[[1,"footer"],[1,"content","has-text-centered"],[1,"has-text-primary-light"],["href","https://www.linkedin.com/in/lidia-garrig%C3%B3/","target","_blank"]],template:function(t,e){1&t&&(r.Lb(0,"footer",0),r.Lb(1,"div",1),r.Lb(2,"p",2),r.cc(3," Conecta conmigo en "),r.Lb(4,"strong"),r.Lb(5,"a",3),r.cc(6,"Linkedin"),r.Kb(),r.Kb(),r.Kb(),r.Kb(),r.Kb())},styles:["footer[_ngcontent-%COMP%]{background-color:#312b2b;padding:3rem 1.5rem}footer[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{color:#0a66c2}"]}),t})();function G_(t,e){1&t&&(r.Lb(0,"span"),r.cc(1,"Nombre requerido *"),r.Kb())}function $_(t,e){if(1&t&&(r.Lb(0,"p",39),r.bc(1,G_,2,0,"span",40),r.Kb()),2&t){const t=r.Tb();r.yb(1),r.Ub("ngIf",t.myForm.hasError("required","name"))}}function W_(t,e){1&t&&(r.Lb(0,"span"),r.cc(1,"Apellido requerido *"),r.Kb())}function J_(t,e){if(1&t&&(r.Lb(0,"p",39),r.bc(1,W_,2,0,"span",40),r.Kb()),2&t){const t=r.Tb();r.yb(1),r.Ub("ngIf",t.myForm.hasError("required","surname"))}}function Q_(t,e){1&t&&(r.Lb(0,"span"),r.cc(1,"Correo electr\xf3nico requerido *"),r.Kb())}function Z_(t,e){1&t&&(r.Lb(0,"span"),r.cc(1,"El correo electr\xf3nico indicado es inv\xe1lido *"),r.Kb())}function Y_(t,e){if(1&t&&(r.Lb(0,"p",39),r.bc(1,Q_,2,0,"span",40),r.bc(2,Z_,2,0,"span",40),r.Kb()),2&t){const t=r.Tb();r.yb(1),r.Ub("ngIf",t.myForm.hasError("required","email")),r.yb(1),r.Ub("ngIf",t.myForm.hasError("email","email"))}}function X_(t,e){1&t&&(r.Lb(0,"span"),r.cc(1,"Mensaje requerido *"),r.Kb())}function tw(t,e){1&t&&(r.Lb(0,"span"),r.cc(1,"Debe introducir un m\xednmo de 3 car\xe1cteres *"),r.Kb())}function ew(t,e){if(1&t&&(r.Lb(0,"p",39),r.bc(1,X_,2,0,"span",40),r.bc(2,tw,2,0,"span",40),r.Kb()),2&t){const t=r.Tb();r.yb(1),r.Ub("ngIf",t.myForm.hasError("required","subject")),r.yb(1),r.Ub("ngIf",t.myForm.controls.subject.hasError("minlength"))}}function nw(t,e){1&t&&(r.Lb(0,"span"),r.cc(1,"Mensaje requerido *"),r.Kb())}function rw(t,e){1&t&&(r.Lb(0,"span"),r.cc(1,"Debe introducir un m\xednmo de 10 car\xe1cteres *"),r.Kb())}function iw(t,e){if(1&t&&(r.Lb(0,"p",39),r.bc(1,nw,2,0,"span",40),r.bc(2,rw,2,0,"span",40),r.Kb()),2&t){const t=r.Tb();r.yb(1),r.Ub("ngIf",t.myForm.hasError("required","message")),r.yb(1),r.Ub("ngIf",t.myForm.controls.message.hasError("minlength"))}}const sw=function(t){return{"is-active":t}};let ow=(()=>{class t{constructor(t,e){this.fb=t,this.dbData=e,this.isModalActive=!1,this.myForm=this.createFrom()}ngOnInit(){this.myForm=this.fb.group({name:["",[it.required]],surname:["",[it.required]],email:["",[it.required,it.email]],subject:["",[it.required,it.minLength(3)]],message:["",[it.required,it.minLength(10)]]})}get name(){return this.myForm.get("name")}get surname(){return this.myForm.get("surname")}get email(){return this.myForm.get("email")}get subject(){return this.myForm.get("subject")}get message(){return this.myForm.get("message")}createFrom(){return new Yt({name:new Zt("",[it.required]),surname:new Zt("",[it.required]),email:new Zt("",[it.required,it.email]),subject:new Zt("",[it.required,it.minLength(3)]),message:new Zt("",[it.required,it.minLength(10)])})}onResetForm(){this.myForm.reset()}submit(){this.myForm.valid&&(this.dbData.saveMessage(this.myForm.value),this.onResetForm())}toggleModal(){this.isModalActive=!this.isModalActive}}return t.\u0275fac=function(e){return new(e||t)(r.Ib(ae),r.Ib(Ay))},t.\u0275cmp=r.Cb({type:t,selectors:[["app-contact"]],decls:69,vars:10,consts:[[1,"contact"],[1,"hero","is-medium","has-background-info-light"],["src","../../assets/contacto.jpg"],[1,"hero-body","has-text-centered"],[1,"container"],[1,"title"],[1,"subtitle"],[1,"contenido"],[1,"contenedor"],[1,"title","is-3","has-text-centered"],[1,"container",3,"formGroup","ngSubmit"],[1,"field"],[1,"label"],[1,"control","is-expanded","has-icons-left"],["type","text","placeholder","Nombre","formControlName","name",1,"input"],[1,"icon","is-small","is-left"],[1,"fas","fa-user"],["class","help is-danger",4,"ngIf"],["type","text","placeholder","Apellido","formControlName","surname",1,"input"],[1,"control","has-icons-left"],["type","email","placeholder","ejemplo@gmail.com","formControlName","email",1,"input","is-info"],[1,"fas","fa-envelope"],[1,"icon","is-small"],[1,"control"],["type","text","placeholder","Asunto","formControlName","subject",1,"input"],["placeholder","Mensaje","formControlName","message",1,"textarea"],["id","boton",1,"has-text-centered"],[1,"button","is-link",3,"disabled","click"],[1,"image","is-128x128"],["src","https://media-exp1.licdn.com/dms/image/C4E03AQGvs5LMapP1yA/profile-displayphoto-shrink_400_400/0/1603652037013?e=1614816000&v=beta&t=iVT7pIc-p_EpwsTMt_IkZc89vgTf4rGEwVDs7z3h_fQ",1,"is-rounded"],[1,"modal",3,"ngClass"],[1,"modal-background",3,"click"],[1,"modal-card"],[1,"modal-card-head"],[1,"modal-card-title"],["aria-label","close",1,"delete",3,"click"],[1,"modal-card-body"],[1,"modal-card-foot"],[1,"button",3,"click"],[1,"help","is-danger"],[4,"ngIf"]],template:function(t,e){1&t&&(r.Jb(0,"app-header"),r.Lb(1,"div",0),r.Lb(2,"section",1),r.Jb(3,"img",2),r.Lb(4,"div",3),r.Lb(5,"div",4),r.Lb(6,"h1",5),r.cc(7," Contacto "),r.Kb(),r.Lb(8,"h2",6),r.cc(9," Para contactar conmigo puedes enviarme un correo "),r.Kb(),r.Kb(),r.Kb(),r.Kb(),r.Kb(),r.Lb(10,"div",7),r.Lb(11,"div",8),r.Lb(12,"h1",9),r.cc(13,"\xa1Contacta conmigo!"),r.Kb(),r.Lb(14,"form",10),r.Rb("ngSubmit",function(){return e.submit()}),r.Lb(15,"div",11),r.Lb(16,"label",12),r.cc(17,"Nombre"),r.Kb(),r.Lb(18,"p",13),r.Jb(19,"input",14),r.Lb(20,"span",15),r.Jb(21,"i",16),r.Kb(),r.Kb(),r.bc(22,$_,2,1,"p",17),r.Kb(),r.Lb(23,"div",11),r.Lb(24,"p",13),r.Jb(25,"input",18),r.Lb(26,"span",15),r.Jb(27,"i",16),r.Kb(),r.Kb(),r.bc(28,J_,2,1,"p",17),r.Kb(),r.Lb(29,"div",11),r.Lb(30,"label",12),r.cc(31,"Correo electr\xf3nico"),r.Kb(),r.Lb(32,"p",19),r.Jb(33,"input",20),r.Lb(34,"span",15),r.Jb(35,"i",21),r.Kb(),r.Jb(36,"span",22),r.Kb(),r.bc(37,Y_,3,2,"p",17),r.Kb(),r.Lb(38,"div",11),r.Lb(39,"label",12),r.cc(40,"Asunto"),r.Kb(),r.Lb(41,"div",23),r.Jb(42,"input",24),r.Kb(),r.bc(43,ew,3,2,"p",17),r.Kb(),r.Lb(44,"div",11),r.Lb(45,"label",12),r.cc(46,"Mensaje"),r.Kb(),r.Lb(47,"div",23),r.Jb(48,"textarea",25),r.bc(49,iw,3,2,"p",17),r.Kb(),r.Kb(),r.Lb(50,"div",26),r.Lb(51,"button",27),r.Rb("click",function(){return e.toggleModal()}),r.cc(52," Enviar mensaje "),r.Kb(),r.Kb(),r.Kb(),r.Kb(),r.Lb(53,"figure",28),r.Jb(54,"img",29),r.Kb(),r.Kb(),r.Lb(55,"div",30),r.Lb(56,"div",31),r.Rb("click",function(){return e.toggleModal()}),r.Kb(),r.Lb(57,"div",32),r.Lb(58,"header",33),r.Lb(59,"p",34),r.cc(60,"Su mensaje ha sido enviado"),r.Kb(),r.Lb(61,"button",35),r.Rb("click",function(){return e.toggleModal()}),r.Kb(),r.Kb(),r.Lb(62,"section",36),r.Lb(63,"p"),r.cc(64,"Gracias por contactar conmigo."),r.Kb(),r.Kb(),r.Lb(65,"footer",37),r.Lb(66,"button",38),r.Rb("click",function(){return e.toggleModal()}),r.cc(67,"Close"),r.Kb(),r.Kb(),r.Kb(),r.Kb(),r.Jb(68,"app-footer")),2&t&&(r.yb(14),r.Ub("formGroup",e.myForm),r.yb(8),r.Ub("ngIf",e.myForm.controls.email.errors&&(e.myForm.controls.name.dirty||e.myForm.controls.name.touched)),r.yb(6),r.Ub("ngIf",e.myForm.controls.email.errors&&(e.myForm.controls.surname.dirty||e.myForm.controls.surname.touched)),r.yb(9),r.Ub("ngIf",e.myForm.controls.email.errors&&(e.myForm.controls.email.dirty||e.myForm.controls.email.touched)),r.yb(6),r.Ub("ngIf",e.myForm.controls.subject.errors&&(e.myForm.controls.subject.dirty||e.myForm.controls.subject.touched)),r.yb(6),r.Ub("ngIf",e.myForm.controls.message.errors&&(e.myForm.controls.message.dirty||e.myForm.controls.message.touched)),r.yb(2),r.Ub("disabled",!e.myForm.valid),r.yb(4),r.Ub("ngClass",r.Xb(8,sw,e.isModalActive)))},directives:[K_,te,wt,re,Y,_t,se,P,A,B_],styles:[".contact[_ngcontent-%COMP%]{margin-top:5.5vh}.contenido[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;padding:2vh}.contenido[_ngcontent-%COMP%]   .contenedor[_ngcontent-%COMP%]{width:80%;margin:6vh 0}.contenido[_ngcontent-%COMP%]   .contenedor[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]{padding:3vh}.contenido[_ngcontent-%COMP%]   .contenedor[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:disabled{cursor:not-allowed}.contenido[_ngcontent-%COMP%]   .contenedor[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   #boton[_ngcontent-%COMP%]{margin-top:3vh}"]}),t})();function aw(t,e){if(1&t&&(r.Lb(0,"div",22),r.Lb(1,"div",23),r.Lb(2,"p"),r.cc(3),r.Kb(),r.Kb(),r.Lb(4,"div",24),r.Lb(5,"progress",25),r.cc(6,"60%"),r.Kb(),r.Kb(),r.Kb()),2&t){const t=e.$implicit;r.yb(3),r.ec("",t.name,":"),r.yb(2),r.Vb("value",t.progress)}}let uw=(()=>{class t{constructor(){this.skills=[{name:"HTML",progress:70},{name:"CSS",progress:60},{name:"JavaScript",progress:50},{name:"TypeScript",progress:40}]}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=r.Cb({type:t,selectors:[["app-about"]],decls:35,vars:1,consts:[[1,"contenedor"],[1,"hero","is-medium","has-background-info-light"],["src","https://images.squarespace-cdn.com/content/v1/55268597e4b096c58441c5ef/1590177336859-S8KK1647E7OZCJ78BOOR/ke17ZwdGBToddI8pDm48kCrpjmJlxu0NxsJ9GKCsnogUqsxRUqqbr1mOJYKfIPR7LoDQ9mXPOjoJoqy81S2I8N_N4V1vUb5AoIIIbLZhVYy7Mythp_T-mtop-vrsUOmeInPi9iDjx9w8K4ZfjXt2dvDz6UmabSFEtDtv0kbLAw_asFw0V2wLxb_27zQ5g7o_W07ycm2Trb21kYhaLJjddA/About+me?format=1500w"],[1,"hero-body","has-text-centered"],[1,"container"],[1,"title"],[1,"subtitle"],[1,"tile","is-ancestor"],["id","marco",1,"tile","is-4","is-parent"],["id","caja","data-aos","fade-right","data-aos-duration","2000",1,"tile","is-child","box"],[1,"image","is-128x128"],["src","https://media-exp1.licdn.com/dms/image/C4E03AQGvs5LMapP1yA/profile-displayphoto-shrink_400_400/0/1603652037013?e=1614816000&v=beta&t=iVT7pIc-p_EpwsTMt_IkZc89vgTf4rGEwVDs7z3h_fQ"],["id","definition",1,"tile","is-parent"],["data-aos","fade-left","data-aos-duration","2000",1,"tile","is-child","box"],[1,"padre"],[1,"imagen","is-fixed"],["id","skills",1,"tile","is-ancestor"],[1,"tile","is-parent"],[1,"tile","is-child","notification","is-white"],[1,"subtitle","is-5"],["max","100",1,"progress","is-small","is-info"],["class","progreso",4,"ngFor","ngForOf"],[1,"progreso"],[1,"text"],[1,"barras"],["max","100",1,"progress","is-success",3,"value"]],template:function(t,e){1&t&&(r.Jb(0,"app-header"),r.Lb(1,"div",0),r.Lb(2,"div"),r.Lb(3,"section",1),r.Jb(4,"img",2),r.Lb(5,"div",3),r.Lb(6,"div",4),r.Lb(7,"h1",5),r.cc(8," Sobre m\xed "),r.Kb(),r.Lb(9,"h2",6),r.cc(10," Breve descripci\xf3n. "),r.Kb(),r.Kb(),r.Kb(),r.Kb(),r.Kb(),r.Lb(11,"div",7),r.Lb(12,"div",8),r.Lb(13,"div",9),r.Lb(14,"figure",10),r.Jb(15,"img",11),r.Kb(),r.Kb(),r.Kb(),r.Lb(16,"div",12),r.Lb(17,"div",13),r.Lb(18,"p",5),r.cc(19,"\xbfc\xf3mo me defino?"),r.Kb(),r.Lb(20,"p"),r.cc(21,"Breve introducci\xf3n, consectetur adipiscing elit. Etiam semper diam at erat pulvinar, at pulvinar felis blandit. Vestibulum volutpat tellus diam, consequat gravida libero rhoncus ut. Morbi maximus, leo sit amet vehicula eleifend, nunc dui porta orci, quis semper odio felis ut quam."),r.Kb(),r.Kb(),r.Kb(),r.Kb(),r.Lb(22,"div",14),r.Jb(23,"div",15),r.Kb(),r.Lb(24,"div",16),r.Lb(25,"div",17),r.Lb(26,"article",18),r.Lb(27,"h1",5),r.cc(28,"Skills"),r.Kb(),r.Lb(29,"p",19),r.cc(30," Lenguajes de programaci\xf3n. "),r.Kb(),r.Lb(31,"progress",20),r.cc(32,"15%"),r.Kb(),r.Kb(),r.Kb(),r.Kb(),r.bc(33,aw,7,2,"div",21),r.Kb(),r.Jb(34,"app-footer")),2&t&&(r.yb(33),r.Ub("ngForOf",e.skills))},directives:[K_,k,B_],styles:[".contenedor[_ngcontent-%COMP%]{margin-top:7vh;margin-bottom:2vh}.contenedor[_ngcontent-%COMP%]   .padre[_ngcontent-%COMP%]   .imagen[_ngcontent-%COMP%]{background-size:100%;height:300px;background-image:url(code.c1748cae98bfe677f742.jpg);margin:3% 0;background-attachment:fixed}.contenedor[_ngcontent-%COMP%]   .is-ancestor[_ngcontent-%COMP%]{margin-top:1vh;padding:2vh}.contenedor[_ngcontent-%COMP%]   .is-ancestor[_ngcontent-%COMP%]   #marco[_ngcontent-%COMP%]{width:170px;margin-left:1vh}.contenedor[_ngcontent-%COMP%]   .is-ancestor[_ngcontent-%COMP%]   #marco[_ngcontent-%COMP%]   #caja[_ngcontent-%COMP%]{width:170px}.contenedor[_ngcontent-%COMP%]   .is-ancestor[_ngcontent-%COMP%]   #definition[_ngcontent-%COMP%]{margin-left:1vh}.contenedor[_ngcontent-%COMP%]   #skills[_ngcontent-%COMP%]{text-align:center}.contenedor[_ngcontent-%COMP%]   .progreso[_ngcontent-%COMP%]{padding:3vh;display:flex;align-items:center;justify-content:center}.contenedor[_ngcontent-%COMP%]   .progreso[_ngcontent-%COMP%]   .text[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:flex-end;width:18vh}.contenedor[_ngcontent-%COMP%]   .progreso[_ngcontent-%COMP%]   .text[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin-right:1vh}.contenedor[_ngcontent-%COMP%]   .progreso[_ngcontent-%COMP%]   .barras[_ngcontent-%COMP%]{width:70vh}"]}),t})();function cw(t,e){if(1&t&&(r.Lb(0,"a",9),r.Lb(1,"div",10),r.Lb(2,"section",11),r.Lb(3,"div",12),r.Lb(4,"div",13),r.Lb(5,"figure",14),r.Jb(6,"img",15),r.Kb(),r.Lb(7,"div",16),r.Lb(8,"h2",6),r.cc(9),r.Kb(),r.Lb(10,"p"),r.cc(11),r.Kb(),r.Kb(),r.Kb(),r.Kb(),r.Kb(),r.Kb(),r.Kb()),2&t){const t=e.$implicit;r.Vb("href",t.link,r.Zb),r.yb(6),r.Vb("src",t.image,r.Zb),r.yb(3),r.ec(" ",t.title," "),r.yb(2),r.dc(t.description)}}let lw=(()=>{class t{constructor(){this.projects=[{title:"Dimension Time",description:"description project 1",image:"../../../assets/avatar-user.jpg",link:"https://dimension-time-73987.web.app/home",id:1},{title:"The Movie",description:"description project 2",image:"../../../assets/movies.png",link:"https://lidiagarrigo.github.io/the-movie/home",id:2},{title:"Superalimentos",description:"description project 3",image:"../../../assets/superalimento.png",link:"https://lidiagarrigo.github.io/superalimentos/",id:3}]}ngOnInit(){}card(){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=r.Cb({type:t,selectors:[["app-projects"]],decls:13,vars:1,consts:[[1,"intro"],[1,"hero","is-medium","has-background-info-light"],["src","../../../assets/projects.jpg"],[1,"hero-body","has-text-centered"],[1,"container"],[1,"title"],[1,"subtitle"],[1,"cartes"],["target","_blank",3,"href",4,"ngFor","ngForOf"],["target","_blank",3,"href"],[1,"card"],["id","card",1,"hero"],[1,"hero-body"],[1,"proyectos"],[1,"image","is-128x128"],[1,"is-rounded",3,"src"],[1,"descripcion"]],template:function(t,e){1&t&&(r.Jb(0,"app-header"),r.Lb(1,"div",0),r.Lb(2,"section",1),r.Jb(3,"img",2),r.Lb(4,"div",3),r.Lb(5,"div",4),r.Lb(6,"h1",5),r.cc(7," Proyectos "),r.Kb(),r.Lb(8,"h2",6),r.cc(9," Breu introducci\xf3. Lorem ipsum dolor, sit amet consectetur adipisicing elit. Sequi veniam animi quas culpa autem a amet nisi at modi porro, eius accusantium aliquam quibusdam, architecto id? Aliquam facilis neque expedita! "),r.Kb(),r.Kb(),r.Kb(),r.Kb(),r.Kb(),r.Lb(10,"div",7),r.bc(11,cw,12,4,"a",8),r.Kb(),r.Jb(12,"app-footer")),2&t&&(r.yb(11),r.Ub("ngForOf",e.projects))},directives:[K_,k,B_],styles:[".intro[_ngcontent-%COMP%]{margin-top:6vh}.cartes[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;margin:3vh 0}.cartes[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{width:80%}.cartes[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]:hover{opacity:1;transform:scale(1.1)}.cartes[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;margin:2vh 0;padding:2vh;transition:all .5s linear;opacity:.6}.cartes[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   #card[_ngcontent-%COMP%]{width:100%;background:#020024;background:linear-gradient(0deg,#020024,rgba(53,53,207,.8351715686) 0,#00d4ff)}.cartes[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   #card[_ngcontent-%COMP%]   .proyectos[_ngcontent-%COMP%]{display:flex;color:#fff}.cartes[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   #card[_ngcontent-%COMP%]   .proyectos[_ngcontent-%COMP%]   figure[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:center;height:auto}.cartes[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   #card[_ngcontent-%COMP%]   .proyectos[_ngcontent-%COMP%]   .descripcion[_ngcontent-%COMP%]{width:100%;padding:1vh}.cartes[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   #card[_ngcontent-%COMP%]   .proyectos[_ngcontent-%COMP%]   .descripcion[_ngcontent-%COMP%]   .subtitle[_ngcontent-%COMP%]{color:#fff;font-weight:700}"]}),t})();const hw=function(){return["/home/projects"]},fw=function(t){return{"is-active":t}};let dw=(()=>{class t{constructor(){this.isModalActive=!1}ngOnInit(){}toggleModal(){this.isModalActive=!this.isModalActive}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=r.Cb({type:t,selectors:[["app-home"]],decls:80,vars:5,consts:[[1,"contenedor"],[1,"hero","has-background-info-light"],["src","../../assets/home.jpg"],[1,"hero-body","has-text-centered"],[1,"container"],[1,"title"],[1,"subtitle"],[3,"click"],[1,"caja"],[1,"box","rotate"],[1,"icon","is-large","has-text-info"],[1,"fas","fa-info-circle"],[1,"tile","is-ancestor"],[1,"tile","is-parent"],[1,"tile","is-child","notification","is-white"],[1,"image","is-two-thirds"],["src","../../assets/trayectoria.jpg","data-aos","fade-up","data-aos-duration","3000"],[1,"subtitle","is-5","has-text-justified"],[1,"padre"],[1,"imagen","is-fixed"],[1,"boton"],[1,"button","is-rounded",3,"routerLink"],["data-aos","flip-left","data-aos-easing","ease-out-cubic","data-aos-duration","2000",1,"tile","is-parent"],["src","https://intl-blog.imgix.net/wp-content/uploads/2019/03/cinco-software-de-gesti%C3%B3n-de-proyectos-de-c%C3%B3digo-abierto.jpg?auto=format%2Cenhance","data-aos","flip-left"],["id","expectativas",1,"tile","is-ancestor"],["data-aos","fade-right","data-aos-duration","2000",1,"tile","is-4","is-vertical","is-parent"],[1,"tile","is-child","box"],[1,"image"],["src","https://www.mediasource.mx/hubfs/imagenes-blog/Los-objetivos-y-las-expectativas-del-cliente.png"],["data-aos","fade-left","data-aos-duration","2000",1,"tile","is-child","box"],[1,"modal",3,"ngClass"],[1,"modal-background",3,"click"],[1,"modal-card"],[1,"modal-card-head"],[1,"modal-card-title"],["aria-label","close",1,"delete",3,"click"],[1,"modal-card-body"],[1,"modal-card-foot"],[1,"button",3,"click"]],template:function(t,e){1&t&&(r.Jb(0,"app-header"),r.Lb(1,"div",0),r.Lb(2,"div"),r.Lb(3,"section",1),r.Jb(4,"img",2),r.Lb(5,"div",3),r.Lb(6,"div",4),r.Lb(7,"h1",5),r.cc(8," Lidia Garrig\xf3 "),r.Kb(),r.Lb(9,"h2",6),r.cc(10," Amante del aprendizaje constante "),r.Kb(),r.Lb(11,"a",7),r.Rb("click",function(){return e.toggleModal()}),r.Lb(12,"div",8),r.Lb(13,"div",9),r.Lb(14,"span",10),r.Jb(15,"i",11),r.Kb(),r.Kb(),r.Kb(),r.Kb(),r.Kb(),r.Kb(),r.Kb(),r.Kb(),r.Lb(16,"div",12),r.Lb(17,"div",13),r.Lb(18,"article",14),r.Lb(19,"figure",15),r.Jb(20,"img",16),r.Kb(),r.Kb(),r.Kb(),r.Lb(21,"div",13),r.Lb(22,"article",14),r.Lb(23,"h1",5),r.cc(24,"Trayectoria vida + laboral"),r.Kb(),r.Lb(25,"p",17),r.cc(26,"...Content... Lorem ipsum dolor sit amet consectetur adipisicing elit. Sint rerum minima adipisci earum illum corrupti cum non nulla commodi. Iure accusantium laboriosam molestiae reprehenderit, temporibus doloremque eius. Rerum, recusandae debitis? Lorem ipsum dolor sit amet consectetur adipisicing elit. Eveniet earum aliquam voluptatem dolore minus accusantium, molestiae quaerat, a doloribus esse, obcaecati impedit nulla quae dicta! Sequi tempore nulla dolor obcaecati? Lorem ipsum dolor sit amet consectetur adipisicing elit. "),r.Kb(),r.Kb(),r.Kb(),r.Kb(),r.Lb(27,"div",18),r.Jb(28,"div",19),r.Kb(),r.Lb(29,"div",12),r.Lb(30,"div",13),r.Lb(31,"article",14),r.Lb(32,"h1",5),r.cc(33,"Proyectos"),r.Kb(),r.Lb(34,"p",17),r.cc(35,"...Content... Lorem ipsum dolor sit amet consectetur adipisicing elit. Quisquam, distinctio. Ullam accusamus aperiam, blanditiis ex cupiditate, sed reiciendis, assumenda culpa vel accusantium quia? Magnam facilis dolor est reiciendis hic excepturi. "),r.Kb(),r.Lb(36,"p",20),r.Lb(37,"button",21),r.cc(38,"Ver m\xe1s"),r.Kb(),r.Kb(),r.Kb(),r.Kb(),r.Lb(39,"div",22),r.Lb(40,"article",14),r.Lb(41,"figure",15),r.Jb(42,"img",23),r.Kb(),r.Kb(),r.Kb(),r.Kb(),r.Lb(43,"div",24),r.Lb(44,"div",25),r.Lb(45,"div",26),r.Lb(46,"figure",27),r.Jb(47,"img",28),r.Kb(),r.Kb(),r.Kb(),r.Lb(48,"div",13),r.Lb(49,"div",29),r.Lb(50,"h1",5),r.cc(51,"Expectativas"),r.Kb(),r.Lb(52,"p",17),r.cc(53,"Lorem ipsum dolor sit amet, consectetur adipiscing elit. Etiam semper diam at erat pulvinar, at pulvinar felis blandit. Vestibulum volutpat tellus diam, consequat gravida libero rhoncus ut. Morbi maximus, leo sit amet vehicula eleifend, nunc dui porta orci, quis semper odio felis ut quam."),r.Kb(),r.Kb(),r.Kb(),r.Kb(),r.Kb(),r.Lb(54,"div",30),r.Lb(55,"div",31),r.Rb("click",function(){return e.toggleModal()}),r.Kb(),r.Lb(56,"div",32),r.Lb(57,"header",33),r.Lb(58,"p",34),r.cc(59,"Informaci\xf3n de este proyecto"),r.Kb(),r.Lb(60,"button",35),r.Rb("click",function(){return e.toggleModal()}),r.Kb(),r.Kb(),r.Lb(61,"section",36),r.Lb(62,"p"),r.cc(63,"Framework utilizado: Angular (versi\xf3n 11)"),r.Kb(),r.Lb(64,"p"),r.cc(65,"Framework CSS: Bulma"),r.Kb(),r.Lb(66,"p"),r.cc(67,"Animaciones: AOS (Animate On Scroll Library)"),r.Kb(),r.Lb(68,"p"),r.cc(69,"Hosting: Firebase"),r.Kb(),r.Lb(70,"p"),r.cc(71,"Sistema de control de versiones: Git"),r.Kb(),r.Lb(72,"p"),r.cc(73,"Editor de c\xf3digo: Visual Studio Code"),r.Kb(),r.Lb(74,"p"),r.cc(75,"Metodolog\xeda: Kanban (con Trello)"),r.Kb(),r.Kb(),r.Lb(76,"footer",37),r.Lb(77,"button",38),r.Rb("click",function(){return e.toggleModal()}),r.cc(78,"Close"),r.Kb(),r.Kb(),r.Kb(),r.Kb(),r.Jb(79,"app-footer")),2&t&&(r.yb(37),r.Ub("routerLink",r.Wb(2,hw)),r.yb(17),r.Ub("ngClass",r.Xb(3,fw,e.isModalActive)))},directives:[K_,E_,A,B_],styles:[".contenedor[_ngcontent-%COMP%]{width:100%;margin-top:4vh}.contenedor[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   .caja[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center}.contenedor[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   .caja[_ngcontent-%COMP%]   .box[_ngcontent-%COMP%]{background:rgba(53,53,207,.8351715686);width:100px;height:100px}.contenedor[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   .caja[_ngcontent-%COMP%]   .box[_ngcontent-%COMP%]:hover{transform:rotate(1turn);background:#00d4ff;border-radius:50%}.contenedor[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   .caja[_ngcontent-%COMP%]   .rotate[_ngcontent-%COMP%]{transition:all .5s ease-in-out}.contenedor[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   .caja[_ngcontent-%COMP%]   .rotate[_ngcontent-%COMP%]:hover{transition:all 1s ease-in-out}.contenedor[_ngcontent-%COMP%]   .padre[_ngcontent-%COMP%]   .imagen[_ngcontent-%COMP%]{background-size:100%;height:300px;background-image:url(code.c1748cae98bfe677f742.jpg);margin:3% 0;background-attachment:fixed}.contenedor[_ngcontent-%COMP%]   .boton[_ngcontent-%COMP%]{text-align:center}.contenedor[_ngcontent-%COMP%]   .boton[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{color:#fff;font-weight:700;background:#020024;background:linear-gradient(0deg,#020024,rgba(53,53,207,.8351715686) 0,#00d4ff)}.contenedor[_ngcontent-%COMP%]   .boton[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{transform:scale(1.2)}.contenedor[_ngcontent-%COMP%]   .boton[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:active{background-color:#00d4ff;box-shadow:0 5px rgba(158,158,207,.835);transform:translateY(3px)}.contenedor[_ngcontent-%COMP%]   #expectativas[_ngcontent-%COMP%]{margin-bottom:1vh;padding:2vh}"]}),t})();const pw=[{path:"home",component:dw},{path:"",redirectTo:"/home",pathMatch:"full"},{path:"home/projects",component:lw},{path:"about",component:uw},{path:"contact",component:ow},{path:"**",component:dw}];let gw=(()=>{class t{}return t.\u0275mod=r.Gb({type:t}),t.\u0275inj=r.Fb({factory:function(e){return new(e||t)},imports:[[R_.forRoot(pw,{onSameUrlNavigation:"reload",scrollPositionRestoration:"enabled"})],R_]}),t})(),mw=(()=>{class t{constructor(){this.title="Portfolio"}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=r.Cb({type:t,selectors:[["app-root"]],decls:1,vars:0,template:function(t,e){1&t&&r.Jb(0,"router-outlet")},directives:[C_],styles:[""]}),t})();class yw{}const vw="*";function bw(t,e=null){return{type:2,steps:t,options:e}}function _w(t){return{type:6,styles:t,offset:null}}function ww(t){Promise.resolve(null).then(t)}class Ew{constructor(t=0,e=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=t+e}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}onStart(t){this._onStartFns.push(t)}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){ww(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(t=>t()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}reset(){}setPosition(t){this._position=this.totalTime?t*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(t=>t()),e.length=0}}class Ow{constructor(t){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=t;let e=0,n=0,r=0;const i=this.players.length;0==i?ww(()=>this._onFinish()):this.players.forEach(t=>{t.onDone(()=>{++e==i&&this._onFinish()}),t.onDestroy(()=>{++n==i&&this._onDestroy()}),t.onStart(()=>{++r==i&&this._onStart()})}),this.totalTime=this.players.reduce((t,e)=>Math.max(t,e.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}init(){this.players.forEach(t=>t.init())}onStart(t){this._onStartFns.push(t)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(t=>t()),this._onStartFns=[])}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(t=>t.play())}pause(){this.players.forEach(t=>t.pause())}restart(){this.players.forEach(t=>t.restart())}finish(){this._onFinish(),this.players.forEach(t=>t.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(t=>t.destroy()),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}reset(){this.players.forEach(t=>t.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(t){const e=t*this.totalTime;this.players.forEach(t=>{const n=t.totalTime?Math.min(1,e/t.totalTime):1;t.setPosition(n)})}getPosition(){const t=this.players.reduce((t,e)=>null===t||e.totalTime>t.totalTime?e:t,null);return null!=t?t.getPosition():0}beforeDestroy(){this.players.forEach(t=>{t.beforeDestroy&&t.beforeDestroy()})}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(t=>t()),e.length=0}}function Sw(){return"undefined"!=typeof process&&"[object process]"==={}.toString.call(process)}function Cw(t){switch(t.length){case 0:return new Ew;case 1:return t[0];default:return new Ow(t)}}function Tw(t,e,n,r,i={},s={}){const o=[],a=[];let u=-1,c=null;if(r.forEach(t=>{const n=t.offset,r=n==u,l=r&&c||{};Object.keys(t).forEach(n=>{let r=n,a=t[n];if("offset"!==n)switch(r=e.normalizePropertyName(r,o),a){case"!":a=i[n];break;case vw:a=s[n];break;default:a=e.normalizeStyleValue(n,r,a,o)}l[r]=a}),r||a.push(l),c=l,u=n}),o.length){const t="\n - ";throw new Error(`Unable to animate due to the following errors:${t}${o.join(t)}`)}return a}function Iw(t,e,n,r){switch(e){case"start":t.onStart(()=>r(n&&xw(n,"start",t)));break;case"done":t.onDone(()=>r(n&&xw(n,"done",t)));break;case"destroy":t.onDestroy(()=>r(n&&xw(n,"destroy",t)))}}function xw(t,e,n){const r=n.totalTime,i=Aw(t.element,t.triggerName,t.fromState,t.toState,e||t.phaseName,null==r?t.totalTime:r,!!n.disabled),s=t._data;return null!=s&&(i._data=s),i}function Aw(t,e,n,r,i="",s=0,o){return{element:t,triggerName:e,fromState:n,toState:r,phaseName:i,totalTime:s,disabled:!!o}}function jw(t,e,n){let r;return t instanceof Map?(r=t.get(e),r||t.set(e,r=n)):(r=t[e],r||(r=t[e]=n)),r}function kw(t){const e=t.indexOf(":");return[t.substring(1,e),t.substr(e+1)]}let Nw=(t,e)=>!1,Pw=(t,e)=>!1,Dw=(t,e,n)=>[];const Rw=Sw();(Rw||"undefined"!=typeof Element)&&(Nw=(t,e)=>t.contains(e),Pw=(()=>{if(Rw||Element.prototype.matches)return(t,e)=>t.matches(e);{const t=Element.prototype,e=t.matchesSelector||t.mozMatchesSelector||t.msMatchesSelector||t.oMatchesSelector||t.webkitMatchesSelector;return e?(t,n)=>e.apply(t,[n]):Pw}})(),Dw=(t,e,n)=>{let r=[];if(n){const n=t.querySelectorAll(e);for(let t=0;t<n.length;t++)r.push(n[t])}else{const n=t.querySelector(e);n&&r.push(n)}return r});let Lw=null,Mw=!1;function Fw(t){Lw||(Lw=("undefined"!=typeof document?document.body:null)||{},Mw=!!Lw.style&&"WebkitAppearance"in Lw.style);let e=!0;return Lw.style&&!function(t){return"ebkit"==t.substring(1,6)}(t)&&(e=t in Lw.style,!e&&Mw)&&(e="Webkit"+t.charAt(0).toUpperCase()+t.substr(1)in Lw.style),e}const Vw=Pw,Uw=Nw,qw=Dw;function Hw(t){const e={};return Object.keys(t).forEach(n=>{const r=n.replace(/([a-z])([A-Z])/g,"$1-$2");e[r]=t[n]}),e}let zw=(()=>{class t{validateStyleProperty(t){return Fw(t)}matchesElement(t,e){return Vw(t,e)}containsElement(t,e){return Uw(t,e)}query(t,e,n){return qw(t,e,n)}computeStyle(t,e,n){return n||""}animate(t,e,n,r,i,s=[],o){return new Ew(n,r)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=r.Eb({token:t,factory:t.\u0275fac}),t})(),Kw=(()=>{class t{}return t.NOOP=new zw,t})();const Bw="ng-enter",Gw="ng-leave",$w="ng-trigger",Ww=".ng-trigger",Jw="ng-animating",Qw=".ng-animating";function Zw(t){if("number"==typeof t)return t;const e=t.match(/^(-?[\.\d]+)(m?s)/);return!e||e.length<2?0:Yw(parseFloat(e[1]),e[2])}function Yw(t,e){switch(e){case"s":return 1e3*t;default:return t}}function Xw(t,e,n){return t.hasOwnProperty("duration")?t:function(t,e,n){let r,i=0,s="";if("string"==typeof t){const n=t.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===n)return e.push(`The provided timing value "${t}" is invalid.`),{duration:0,delay:0,easing:""};r=Yw(parseFloat(n[1]),n[2]);const o=n[3];null!=o&&(i=Yw(parseFloat(o),n[4]));const a=n[5];a&&(s=a)}else r=t;if(!n){let n=!1,s=e.length;r<0&&(e.push("Duration values below 0 are not allowed for this animation step."),n=!0),i<0&&(e.push("Delay values below 0 are not allowed for this animation step."),n=!0),n&&e.splice(s,0,`The provided timing value "${t}" is invalid.`)}return{duration:r,delay:i,easing:s}}(t,e,n)}function tE(t,e={}){return Object.keys(t).forEach(n=>{e[n]=t[n]}),e}function eE(t,e,n={}){if(e)for(let r in t)n[r]=t[r];else tE(t,n);return n}function nE(t,e,n){return n?e+":"+n+";":""}function rE(t){let e="";for(let n=0;n<t.style.length;n++){const r=t.style.item(n);e+=nE(0,r,t.style.getPropertyValue(r))}for(const n in t.style)t.style.hasOwnProperty(n)&&!n.startsWith("_")&&(e+=nE(0,n.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase(),t.style[n]));t.setAttribute("style",e)}function iE(t,e,n){t.style&&(Object.keys(e).forEach(r=>{const i=fE(r);n&&!n.hasOwnProperty(r)&&(n[r]=t.style[i]),t.style[i]=e[r]}),Sw()&&rE(t))}function sE(t,e){t.style&&(Object.keys(e).forEach(e=>{const n=fE(e);t.style[n]=""}),Sw()&&rE(t))}function oE(t){return Array.isArray(t)?1==t.length?t[0]:bw(t):t}const aE=new RegExp("{{\\s*(.+?)\\s*}}","g");function uE(t){let e=[];if("string"==typeof t){let n;for(;n=aE.exec(t);)e.push(n[1]);aE.lastIndex=0}return e}function cE(t,e,n){const r=t.toString(),i=r.replace(aE,(t,r)=>{let i=e[r];return e.hasOwnProperty(r)||(n.push("Please provide a value for the animation param "+r),i=""),i.toString()});return i==r?t:i}function lE(t){const e=[];let n=t.next();for(;!n.done;)e.push(n.value),n=t.next();return e}const hE=/-+([a-z0-9])/g;function fE(t){return t.replace(hE,(...t)=>t[1].toUpperCase())}function dE(t,e){return 0===t||0===e}function pE(t,e,n){const r=Object.keys(n);if(r.length&&e.length){let s=e[0],o=[];if(r.forEach(t=>{s.hasOwnProperty(t)||o.push(t),s[t]=n[t]}),o.length)for(var i=1;i<e.length;i++){let n=e[i];o.forEach(function(e){n[e]=mE(t,e)})}}return e}function gE(t,e,n){switch(e.type){case 7:return t.visitTrigger(e,n);case 0:return t.visitState(e,n);case 1:return t.visitTransition(e,n);case 2:return t.visitSequence(e,n);case 3:return t.visitGroup(e,n);case 4:return t.visitAnimate(e,n);case 5:return t.visitKeyframes(e,n);case 6:return t.visitStyle(e,n);case 8:return t.visitReference(e,n);case 9:return t.visitAnimateChild(e,n);case 10:return t.visitAnimateRef(e,n);case 11:return t.visitQuery(e,n);case 12:return t.visitStagger(e,n);default:throw new Error("Unable to resolve animation metadata node #"+e.type)}}function mE(t,e){return window.getComputedStyle(t)[e]}const yE="*";function vE(t,e){const n=[];return"string"==typeof t?t.split(/\s*,\s*/).forEach(t=>function(t,e,n){if(":"==t[0]){const r=function(t,e){switch(t){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(t,e)=>parseFloat(e)>parseFloat(t);case":decrement":return(t,e)=>parseFloat(e)<parseFloat(t);default:return e.push(`The transition alias value "${t}" is not supported`),"* => *"}}(t,n);if("function"==typeof r)return void e.push(r);t=r}const r=t.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==r||r.length<4)return n.push(`The provided transition expression "${t}" is not supported`),e;const i=r[1],s=r[2],o=r[3];e.push(wE(i,o)),"<"!=s[0]||i==yE&&o==yE||e.push(wE(o,i))}(t,n,e)):n.push(t),n}const bE=new Set(["true","1"]),_E=new Set(["false","0"]);function wE(t,e){const n=bE.has(t)||_E.has(t),r=bE.has(e)||_E.has(e);return(i,s)=>{let o=t==yE||t==i,a=e==yE||e==s;return!o&&n&&"boolean"==typeof i&&(o=i?bE.has(t):_E.has(t)),!a&&r&&"boolean"==typeof s&&(a=s?bE.has(e):_E.has(e)),o&&a}}const EE=new RegExp("s*:selfs*,?","g");function OE(t,e,n){return new SE(t).build(e,n)}class SE{constructor(t){this._driver=t}build(t,e){const n=new CE(e);return this._resetContextStyleTimingState(n),gE(this,oE(t),n)}_resetContextStyleTimingState(t){t.currentQuerySelector="",t.collectedStyles={},t.collectedStyles[""]={},t.currentTime=0}visitTrigger(t,e){let n=e.queryCount=0,r=e.depCount=0;const i=[],s=[];return"@"==t.name.charAt(0)&&e.errors.push("animation triggers cannot be prefixed with an `@` sign (e.g. trigger('@foo', [...]))"),t.definitions.forEach(t=>{if(this._resetContextStyleTimingState(e),0==t.type){const n=t,r=n.name;r.toString().split(/\s*,\s*/).forEach(t=>{n.name=t,i.push(this.visitState(n,e))}),n.name=r}else if(1==t.type){const i=this.visitTransition(t,e);n+=i.queryCount,r+=i.depCount,s.push(i)}else e.errors.push("only state() and transition() definitions can sit inside of a trigger()")}),{type:7,name:t.name,states:i,transitions:s,queryCount:n,depCount:r,options:null}}visitState(t,e){const n=this.visitStyle(t.styles,e),r=t.options&&t.options.params||null;if(n.containsDynamicStyles){const i=new Set,s=r||{};if(n.styles.forEach(t=>{if(TE(t)){const e=t;Object.keys(e).forEach(t=>{uE(e[t]).forEach(t=>{s.hasOwnProperty(t)||i.add(t)})})}}),i.size){const n=lE(i.values());e.errors.push(`state("${t.name}", ...) must define default values for all the following style substitutions: ${n.join(", ")}`)}}return{type:0,name:t.name,style:n,options:r?{params:r}:null}}visitTransition(t,e){e.queryCount=0,e.depCount=0;const n=gE(this,oE(t.animation),e);return{type:1,matchers:vE(t.expr,e.errors),animation:n,queryCount:e.queryCount,depCount:e.depCount,options:IE(t.options)}}visitSequence(t,e){return{type:2,steps:t.steps.map(t=>gE(this,t,e)),options:IE(t.options)}}visitGroup(t,e){const n=e.currentTime;let r=0;const i=t.steps.map(t=>{e.currentTime=n;const i=gE(this,t,e);return r=Math.max(r,e.currentTime),i});return e.currentTime=r,{type:3,steps:i,options:IE(t.options)}}visitAnimate(t,e){const n=function(t,e){let n=null;if(t.hasOwnProperty("duration"))n=t;else if("number"==typeof t)return xE(Xw(t,e).duration,0,"");const r=t;if(r.split(/\s+/).some(t=>"{"==t.charAt(0)&&"{"==t.charAt(1))){const t=xE(0,0,"");return t.dynamic=!0,t.strValue=r,t}return n=n||Xw(r,e),xE(n.duration,n.delay,n.easing)}(t.timings,e.errors);let r;e.currentAnimateTimings=n;let i=t.styles?t.styles:_w({});if(5==i.type)r=this.visitKeyframes(i,e);else{let i=t.styles,s=!1;if(!i){s=!0;const t={};n.easing&&(t.easing=n.easing),i=_w(t)}e.currentTime+=n.duration+n.delay;const o=this.visitStyle(i,e);o.isEmptyStep=s,r=o}return e.currentAnimateTimings=null,{type:4,timings:n,style:r,options:null}}visitStyle(t,e){const n=this._makeStyleAst(t,e);return this._validateStyleAst(n,e),n}_makeStyleAst(t,e){const n=[];Array.isArray(t.styles)?t.styles.forEach(t=>{"string"==typeof t?t==vw?n.push(t):e.errors.push(`The provided style string value ${t} is not allowed.`):n.push(t)}):n.push(t.styles);let r=!1,i=null;return n.forEach(t=>{if(TE(t)){const e=t,n=e.easing;if(n&&(i=n,delete e.easing),!r)for(let t in e)if(e[t].toString().indexOf("{{")>=0){r=!0;break}}}),{type:6,styles:n,easing:i,offset:t.offset,containsDynamicStyles:r,options:null}}_validateStyleAst(t,e){const n=e.currentAnimateTimings;let r=e.currentTime,i=e.currentTime;n&&i>0&&(i-=n.duration+n.delay),t.styles.forEach(t=>{"string"!=typeof t&&Object.keys(t).forEach(n=>{if(!this._driver.validateStyleProperty(n))return void e.errors.push(`The provided animation property "${n}" is not a supported CSS property for animations`);const s=e.collectedStyles[e.currentQuerySelector],o=s[n];let a=!0;o&&(i!=r&&i>=o.startTime&&r<=o.endTime&&(e.errors.push(`The CSS property "${n}" that exists between the times of "${o.startTime}ms" and "${o.endTime}ms" is also being animated in a parallel animation between the times of "${i}ms" and "${r}ms"`),a=!1),i=o.startTime),a&&(s[n]={startTime:i,endTime:r}),e.options&&function(t,e,n){const r=e.params||{},i=uE(t);i.length&&i.forEach(t=>{r.hasOwnProperty(t)||n.push(`Unable to resolve the local animation param ${t} in the given list of values`)})}(t[n],e.options,e.errors)})})}visitKeyframes(t,e){const n={type:5,styles:[],options:null};if(!e.currentAnimateTimings)return e.errors.push("keyframes() must be placed inside of a call to animate()"),n;let r=0;const i=[];let s=!1,o=!1,a=0;const u=t.steps.map(t=>{const n=this._makeStyleAst(t,e);let u=null!=n.offset?n.offset:function(t){if("string"==typeof t)return null;let e=null;if(Array.isArray(t))t.forEach(t=>{if(TE(t)&&t.hasOwnProperty("offset")){const n=t;e=parseFloat(n.offset),delete n.offset}});else if(TE(t)&&t.hasOwnProperty("offset")){const n=t;e=parseFloat(n.offset),delete n.offset}return e}(n.styles),c=0;return null!=u&&(r++,c=n.offset=u),o=o||c<0||c>1,s=s||c<a,a=c,i.push(c),n});o&&e.errors.push("Please ensure that all keyframe offsets are between 0 and 1"),s&&e.errors.push("Please ensure that all keyframe offsets are in order");const c=t.steps.length;let l=0;r>0&&r<c?e.errors.push("Not all style() steps within the declared keyframes() contain offsets"):0==r&&(l=1/(c-1));const h=c-1,f=e.currentTime,d=e.currentAnimateTimings,p=d.duration;return u.forEach((t,r)=>{const s=l>0?r==h?1:l*r:i[r],o=s*p;e.currentTime=f+d.delay+o,d.duration=o,this._validateStyleAst(t,e),t.offset=s,n.styles.push(t)}),n}visitReference(t,e){return{type:8,animation:gE(this,oE(t.animation),e),options:IE(t.options)}}visitAnimateChild(t,e){return e.depCount++,{type:9,options:IE(t.options)}}visitAnimateRef(t,e){return{type:10,animation:this.visitReference(t.animation,e),options:IE(t.options)}}visitQuery(t,e){const n=e.currentQuerySelector,r=t.options||{};e.queryCount++,e.currentQuery=t;const[i,s]=function(t){const e=!!t.split(/\s*,\s*/).find(t=>":self"==t);return e&&(t=t.replace(EE,"")),[t=t.replace(/@\*/g,Ww).replace(/@\w+/g,t=>".ng-trigger-"+t.substr(1)).replace(/:animating/g,Qw),e]}(t.selector);e.currentQuerySelector=n.length?n+" "+i:i,jw(e.collectedStyles,e.currentQuerySelector,{});const o=gE(this,oE(t.animation),e);return e.currentQuery=null,e.currentQuerySelector=n,{type:11,selector:i,limit:r.limit||0,optional:!!r.optional,includeSelf:s,animation:o,originalSelector:t.selector,options:IE(t.options)}}visitStagger(t,e){e.currentQuery||e.errors.push("stagger() can only be used inside of query()");const n="full"===t.timings?{duration:0,delay:0,easing:"full"}:Xw(t.timings,e.errors,!0);return{type:12,animation:gE(this,oE(t.animation),e),timings:n,options:null}}}class CE{constructor(t){this.errors=t,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles={},this.options=null}}function TE(t){return!Array.isArray(t)&&"object"==typeof t}function IE(t){var e;return t?(t=tE(t)).params&&(t.params=(e=t.params)?tE(e):null):t={},t}function xE(t,e,n){return{duration:t,delay:e,easing:n}}function AE(t,e,n,r,i,s,o=null,a=!1){return{type:1,element:t,keyframes:e,preStyleProps:n,postStyleProps:r,duration:i,delay:s,totalTime:i+s,easing:o,subTimeline:a}}class jE{constructor(){this._map=new Map}consume(t){let e=this._map.get(t);return e?this._map.delete(t):e=[],e}append(t,e){let n=this._map.get(t);n||this._map.set(t,n=[]),n.push(...e)}has(t){return this._map.has(t)}clear(){this._map.clear()}}const kE=new RegExp(":enter","g"),NE=new RegExp(":leave","g");function PE(t,e,n,r,i,s={},o={},a,u,c=[]){return(new DE).buildKeyframes(t,e,n,r,i,s,o,a,u,c)}class DE{buildKeyframes(t,e,n,r,i,s,o,a,u,c=[]){u=u||new jE;const l=new LE(t,e,u,r,i,c,[]);l.options=a,l.currentTimeline.setStyles([s],null,l.errors,a),gE(this,n,l);const h=l.timelines.filter(t=>t.containsAnimation());if(h.length&&Object.keys(o).length){const t=h[h.length-1];t.allowOnlyTimelineStyles()||t.setStyles([o],null,l.errors,a)}return h.length?h.map(t=>t.buildKeyframes()):[AE(e,[],[],[],0,0,"",!1)]}visitTrigger(t,e){}visitState(t,e){}visitTransition(t,e){}visitAnimateChild(t,e){const n=e.subInstructions.consume(e.element);if(n){const r=e.createSubContext(t.options),i=e.currentTimeline.currentTime,s=this._visitSubInstructions(n,r,r.options);i!=s&&e.transformIntoNewTimeline(s)}e.previousNode=t}visitAnimateRef(t,e){const n=e.createSubContext(t.options);n.transformIntoNewTimeline(),this.visitReference(t.animation,n),e.transformIntoNewTimeline(n.currentTimeline.currentTime),e.previousNode=t}_visitSubInstructions(t,e,n){let r=e.currentTimeline.currentTime;const i=null!=n.duration?Zw(n.duration):null,s=null!=n.delay?Zw(n.delay):null;return 0!==i&&t.forEach(t=>{const n=e.appendInstructionToTimeline(t,i,s);r=Math.max(r,n.duration+n.delay)}),r}visitReference(t,e){e.updateOptions(t.options,!0),gE(this,t.animation,e),e.previousNode=t}visitSequence(t,e){const n=e.subContextCount;let r=e;const i=t.options;if(i&&(i.params||i.delay)&&(r=e.createSubContext(i),r.transformIntoNewTimeline(),null!=i.delay)){6==r.previousNode.type&&(r.currentTimeline.snapshotCurrentStyles(),r.previousNode=RE);const t=Zw(i.delay);r.delayNextStep(t)}t.steps.length&&(t.steps.forEach(t=>gE(this,t,r)),r.currentTimeline.applyStylesToKeyframe(),r.subContextCount>n&&r.transformIntoNewTimeline()),e.previousNode=t}visitGroup(t,e){const n=[];let r=e.currentTimeline.currentTime;const i=t.options&&t.options.delay?Zw(t.options.delay):0;t.steps.forEach(s=>{const o=e.createSubContext(t.options);i&&o.delayNextStep(i),gE(this,s,o),r=Math.max(r,o.currentTimeline.currentTime),n.push(o.currentTimeline)}),n.forEach(t=>e.currentTimeline.mergeTimelineCollectedStyles(t)),e.transformIntoNewTimeline(r),e.previousNode=t}_visitTiming(t,e){if(t.dynamic){const n=t.strValue;return Xw(e.params?cE(n,e.params,e.errors):n,e.errors)}return{duration:t.duration,delay:t.delay,easing:t.easing}}visitAnimate(t,e){const n=e.currentAnimateTimings=this._visitTiming(t.timings,e),r=e.currentTimeline;n.delay&&(e.incrementTime(n.delay),r.snapshotCurrentStyles());const i=t.style;5==i.type?this.visitKeyframes(i,e):(e.incrementTime(n.duration),this.visitStyle(i,e),r.applyStylesToKeyframe()),e.currentAnimateTimings=null,e.previousNode=t}visitStyle(t,e){const n=e.currentTimeline,r=e.currentAnimateTimings;!r&&n.getCurrentStyleProperties().length&&n.forwardFrame();const i=r&&r.easing||t.easing;t.isEmptyStep?n.applyEmptyStep(i):n.setStyles(t.styles,i,e.errors,e.options),e.previousNode=t}visitKeyframes(t,e){const n=e.currentAnimateTimings,r=e.currentTimeline.duration,i=n.duration,s=e.createSubContext().currentTimeline;s.easing=n.easing,t.styles.forEach(t=>{s.forwardTime((t.offset||0)*i),s.setStyles(t.styles,t.easing,e.errors,e.options),s.applyStylesToKeyframe()}),e.currentTimeline.mergeTimelineCollectedStyles(s),e.transformIntoNewTimeline(r+i),e.previousNode=t}visitQuery(t,e){const n=e.currentTimeline.currentTime,r=t.options||{},i=r.delay?Zw(r.delay):0;i&&(6===e.previousNode.type||0==n&&e.currentTimeline.getCurrentStyleProperties().length)&&(e.currentTimeline.snapshotCurrentStyles(),e.previousNode=RE);let s=n;const o=e.invokeQuery(t.selector,t.originalSelector,t.limit,t.includeSelf,!!r.optional,e.errors);e.currentQueryTotal=o.length;let a=null;o.forEach((n,r)=>{e.currentQueryIndex=r;const o=e.createSubContext(t.options,n);i&&o.delayNextStep(i),n===e.element&&(a=o.currentTimeline),gE(this,t.animation,o),o.currentTimeline.applyStylesToKeyframe(),s=Math.max(s,o.currentTimeline.currentTime)}),e.currentQueryIndex=0,e.currentQueryTotal=0,e.transformIntoNewTimeline(s),a&&(e.currentTimeline.mergeTimelineCollectedStyles(a),e.currentTimeline.snapshotCurrentStyles()),e.previousNode=t}visitStagger(t,e){const n=e.parentContext,r=e.currentTimeline,i=t.timings,s=Math.abs(i.duration),o=s*(e.currentQueryTotal-1);let a=s*e.currentQueryIndex;switch(i.duration<0?"reverse":i.easing){case"reverse":a=o-a;break;case"full":a=n.currentStaggerTime}const u=e.currentTimeline;a&&u.delayNextStep(a);const c=u.currentTime;gE(this,t.animation,e),e.previousNode=t,n.currentStaggerTime=r.currentTime-c+(r.startTime-n.currentTimeline.startTime)}}const RE={};class LE{constructor(t,e,n,r,i,s,o,a){this._driver=t,this.element=e,this.subInstructions=n,this._enterClassName=r,this._leaveClassName=i,this.errors=s,this.timelines=o,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=RE,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=a||new ME(this._driver,e,0),o.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(t,e){if(!t)return;const n=t;let r=this.options;null!=n.duration&&(r.duration=Zw(n.duration)),null!=n.delay&&(r.delay=Zw(n.delay));const i=n.params;if(i){let t=r.params;t||(t=this.options.params={}),Object.keys(i).forEach(n=>{e&&t.hasOwnProperty(n)||(t[n]=cE(i[n],t,this.errors))})}}_copyOptions(){const t={};if(this.options){const e=this.options.params;if(e){const n=t.params={};Object.keys(e).forEach(t=>{n[t]=e[t]})}}return t}createSubContext(t=null,e,n){const r=e||this.element,i=new LE(this._driver,r,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(r,n||0));return i.previousNode=this.previousNode,i.currentAnimateTimings=this.currentAnimateTimings,i.options=this._copyOptions(),i.updateOptions(t),i.currentQueryIndex=this.currentQueryIndex,i.currentQueryTotal=this.currentQueryTotal,i.parentContext=this,this.subContextCount++,i}transformIntoNewTimeline(t){return this.previousNode=RE,this.currentTimeline=this.currentTimeline.fork(this.element,t),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(t,e,n){const r={duration:null!=e?e:t.duration,delay:this.currentTimeline.currentTime+(null!=n?n:0)+t.delay,easing:""},i=new FE(this._driver,t.element,t.keyframes,t.preStyleProps,t.postStyleProps,r,t.stretchStartingKeyframe);return this.timelines.push(i),r}incrementTime(t){this.currentTimeline.forwardTime(this.currentTimeline.duration+t)}delayNextStep(t){t>0&&this.currentTimeline.delayNextStep(t)}invokeQuery(t,e,n,r,i,s){let o=[];if(r&&o.push(this.element),t.length>0){t=(t=t.replace(kE,"."+this._enterClassName)).replace(NE,"."+this._leaveClassName);let e=this._driver.query(this.element,t,1!=n);0!==n&&(e=n<0?e.slice(e.length+n,e.length):e.slice(0,n)),o.push(...e)}return i||0!=o.length||s.push(`\`query("${e}")\` returned zero elements. (Use \`query("${e}", { optional: true })\` if you wish to allow this.)`),o}}class ME{constructor(t,e,n,r){this._driver=t,this.element=e,this.startTime=n,this._elementTimelineStylesLookup=r,this.duration=0,this._previousKeyframe={},this._currentKeyframe={},this._keyframes=new Map,this._styleSummary={},this._pendingStyles={},this._backFill={},this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._localTimelineStyles=Object.create(this._backFill,{}),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(e),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(e,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.getCurrentStyleProperties().length>0;default:return!0}}getCurrentStyleProperties(){return Object.keys(this._currentKeyframe)}get currentTime(){return this.startTime+this.duration}delayNextStep(t){const e=1==this._keyframes.size&&Object.keys(this._pendingStyles).length;this.duration||e?(this.forwardTime(this.currentTime+t),e&&this.snapshotCurrentStyles()):this.startTime+=t}fork(t,e){return this.applyStylesToKeyframe(),new ME(this._driver,t,e||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=Object.create(this._backFill,{}),this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(t){this.applyStylesToKeyframe(),this.duration=t,this._loadKeyframe()}_updateStyle(t,e){this._localTimelineStyles[t]=e,this._globalTimelineStyles[t]=e,this._styleSummary[t]={time:this.currentTime,value:e}}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(t){t&&(this._previousKeyframe.easing=t),Object.keys(this._globalTimelineStyles).forEach(t=>{this._backFill[t]=this._globalTimelineStyles[t]||vw,this._currentKeyframe[t]=vw}),this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(t,e,n,r){e&&(this._previousKeyframe.easing=e);const i=r&&r.params||{},s=function(t,e){const n={};let r;return t.forEach(t=>{"*"===t?(r=r||Object.keys(e),r.forEach(t=>{n[t]=vw})):eE(t,!1,n)}),n}(t,this._globalTimelineStyles);Object.keys(s).forEach(t=>{const e=cE(s[t],i,n);this._pendingStyles[t]=e,this._localTimelineStyles.hasOwnProperty(t)||(this._backFill[t]=this._globalTimelineStyles.hasOwnProperty(t)?this._globalTimelineStyles[t]:vw),this._updateStyle(t,e)})}applyStylesToKeyframe(){const t=this._pendingStyles,e=Object.keys(t);0!=e.length&&(this._pendingStyles={},e.forEach(e=>{this._currentKeyframe[e]=t[e]}),Object.keys(this._localTimelineStyles).forEach(t=>{this._currentKeyframe.hasOwnProperty(t)||(this._currentKeyframe[t]=this._localTimelineStyles[t])}))}snapshotCurrentStyles(){Object.keys(this._localTimelineStyles).forEach(t=>{const e=this._localTimelineStyles[t];this._pendingStyles[t]=e,this._updateStyle(t,e)})}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const t=[];for(let e in this._currentKeyframe)t.push(e);return t}mergeTimelineCollectedStyles(t){Object.keys(t._styleSummary).forEach(e=>{const n=this._styleSummary[e],r=t._styleSummary[e];(!n||r.time>n.time)&&this._updateStyle(e,r.value)})}buildKeyframes(){this.applyStylesToKeyframe();const t=new Set,e=new Set,n=1===this._keyframes.size&&0===this.duration;let r=[];this._keyframes.forEach((i,s)=>{const o=eE(i,!0);Object.keys(o).forEach(n=>{const r=o[n];"!"==r?t.add(n):r==vw&&e.add(n)}),n||(o.offset=s/this.duration),r.push(o)});const i=t.size?lE(t.values()):[],s=e.size?lE(e.values()):[];if(n){const t=r[0],e=tE(t);t.offset=0,e.offset=1,r=[t,e]}return AE(this.element,r,i,s,this.duration,this.startTime,this.easing,!1)}}class FE extends ME{constructor(t,e,n,r,i,s,o=!1){super(t,e,s.delay),this.element=e,this.keyframes=n,this.preStyleProps=r,this.postStyleProps=i,this._stretchStartingKeyframe=o,this.timings={duration:s.duration,delay:s.delay,easing:s.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let t=this.keyframes,{delay:e,duration:n,easing:r}=this.timings;if(this._stretchStartingKeyframe&&e){const i=[],s=n+e,o=e/s,a=eE(t[0],!1);a.offset=0,i.push(a);const u=eE(t[0],!1);u.offset=VE(o),i.push(u);const c=t.length-1;for(let r=1;r<=c;r++){let o=eE(t[r],!1);o.offset=VE((e+o.offset*n)/s),i.push(o)}n=s,e=0,r="",t=i}return AE(this.element,t,this.preStyleProps,this.postStyleProps,n,e,r,!0)}}function VE(t,e=3){const n=Math.pow(10,e-1);return Math.round(t*n)/n}class UE{}class qE extends UE{normalizePropertyName(t,e){return fE(t)}normalizeStyleValue(t,e,n,r){let i="";const s=n.toString().trim();if(HE[e]&&0!==n&&"0"!==n)if("number"==typeof n)i="px";else{const e=n.match(/^[+-]?[\d\.]+([a-z]*)$/);e&&0==e[1].length&&r.push(`Please provide a CSS unit value for ${t}:${n}`)}return s+i}}const HE=(()=>function(t){const e={};return t.forEach(t=>e[t]=!0),e}("width,height,minWidth,minHeight,maxWidth,maxHeight,left,top,bottom,right,fontSize,outlineWidth,outlineOffset,paddingTop,paddingLeft,paddingBottom,paddingRight,marginTop,marginLeft,marginBottom,marginRight,borderRadius,borderWidth,borderTopWidth,borderLeftWidth,borderRightWidth,borderBottomWidth,textIndent,perspective".split(",")))();function zE(t,e,n,r,i,s,o,a,u,c,l,h,f){return{type:0,element:t,triggerName:e,isRemovalTransition:i,fromState:n,fromStyles:s,toState:r,toStyles:o,timelines:a,queriedElements:u,preStyleProps:c,postStyleProps:l,totalTime:h,errors:f}}const KE={};class BE{constructor(t,e,n){this._triggerName=t,this.ast=e,this._stateStyles=n}match(t,e,n,r){return function(t,e,n,r,i){return t.some(t=>t(e,n,r,i))}(this.ast.matchers,t,e,n,r)}buildStyles(t,e,n){const r=this._stateStyles["*"],i=this._stateStyles[t],s=r?r.buildStyles(e,n):{};return i?i.buildStyles(e,n):s}build(t,e,n,r,i,s,o,a,u,c){const l=[],h=this.ast.options&&this.ast.options.params||KE,f=this.buildStyles(n,o&&o.params||KE,l),d=a&&a.params||KE,p=this.buildStyles(r,d,l),g=new Set,m=new Map,y=new Map,v="void"===r,b={params:Object.assign(Object.assign({},h),d)},_=c?[]:PE(t,e,this.ast.animation,i,s,f,p,b,u,l);let w=0;if(_.forEach(t=>{w=Math.max(t.duration+t.delay,w)}),l.length)return zE(e,this._triggerName,n,r,v,f,p,[],[],m,y,w,l);_.forEach(t=>{const n=t.element,r=jw(m,n,{});t.preStyleProps.forEach(t=>r[t]=!0);const i=jw(y,n,{});t.postStyleProps.forEach(t=>i[t]=!0),n!==e&&g.add(n)});const E=lE(g.values());return zE(e,this._triggerName,n,r,v,f,p,_,E,m,y,w)}}class GE{constructor(t,e){this.styles=t,this.defaultParams=e}buildStyles(t,e){const n={},r=tE(this.defaultParams);return Object.keys(t).forEach(e=>{const n=t[e];null!=n&&(r[e]=n)}),this.styles.styles.forEach(t=>{if("string"!=typeof t){const i=t;Object.keys(i).forEach(t=>{let s=i[t];s.length>1&&(s=cE(s,r,e)),n[t]=s})}}),n}}class $E{constructor(t,e){this.name=t,this.ast=e,this.transitionFactories=[],this.states={},e.states.forEach(t=>{this.states[t.name]=new GE(t.style,t.options&&t.options.params||{})}),WE(this.states,"true","1"),WE(this.states,"false","0"),e.transitions.forEach(e=>{this.transitionFactories.push(new BE(t,e,this.states))}),this.fallbackTransition=new BE(t,{type:1,animation:{type:2,steps:[],options:null},matchers:[(t,e)=>!0],options:null,queryCount:0,depCount:0},this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(t,e,n,r){return this.transitionFactories.find(i=>i.match(t,e,n,r))||null}matchStyles(t,e,n){return this.fallbackTransition.buildStyles(t,e,n)}}function WE(t,e,n){t.hasOwnProperty(e)?t.hasOwnProperty(n)||(t[n]=t[e]):t.hasOwnProperty(n)&&(t[e]=t[n])}const JE=new jE;class QE{constructor(t,e,n){this.bodyNode=t,this._driver=e,this._normalizer=n,this._animations={},this._playersById={},this.players=[]}register(t,e){const n=[],r=OE(this._driver,e,n);if(n.length)throw new Error("Unable to build the animation due to the following errors: "+n.join("\n"));this._animations[t]=r}_buildPlayer(t,e,n){const r=t.element,i=Tw(0,this._normalizer,0,t.keyframes,e,n);return this._driver.animate(r,i,t.duration,t.delay,t.easing,[],!0)}create(t,e,n={}){const r=[],i=this._animations[t];let s;const o=new Map;if(i?(s=PE(this._driver,e,i,Bw,Gw,{},{},n,JE,r),s.forEach(t=>{const e=jw(o,t.element,{});t.postStyleProps.forEach(t=>e[t]=null)})):(r.push("The requested animation doesn't exist or has already been destroyed"),s=[]),r.length)throw new Error("Unable to create the animation due to the following errors: "+r.join("\n"));o.forEach((t,e)=>{Object.keys(t).forEach(n=>{t[n]=this._driver.computeStyle(e,n,vw)})});const a=Cw(s.map(t=>{const e=o.get(t.element);return this._buildPlayer(t,{},e)}));return this._playersById[t]=a,a.onDestroy(()=>this.destroy(t)),this.players.push(a),a}destroy(t){const e=this._getPlayer(t);e.destroy(),delete this._playersById[t];const n=this.players.indexOf(e);n>=0&&this.players.splice(n,1)}_getPlayer(t){const e=this._playersById[t];if(!e)throw new Error("Unable to find the timeline player referenced by "+t);return e}listen(t,e,n,r){const i=Aw(e,"","","");return Iw(this._getPlayer(t),n,i,r),()=>{}}command(t,e,n,r){if("register"==n)return void this.register(t,r[0]);if("create"==n)return void this.create(t,e,r[0]||{});const i=this._getPlayer(t);switch(n){case"play":i.play();break;case"pause":i.pause();break;case"reset":i.reset();break;case"restart":i.restart();break;case"finish":i.finish();break;case"init":i.init();break;case"setPosition":i.setPosition(parseFloat(r[0]));break;case"destroy":this.destroy(t)}}}const ZE="ng-animate-queued",YE="ng-animate-disabled",XE=".ng-animate-disabled",tO=[],eO={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},nO={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0};class rO{constructor(t,e=""){this.namespaceId=e;const n=t&&t.hasOwnProperty("value");if(this.value=null!=(r=n?t.value:t)?r:null,n){const e=tE(t);delete e.value,this.options=e}else this.options={};var r;this.options.params||(this.options.params={})}get params(){return this.options.params}absorbOptions(t){const e=t.params;if(e){const t=this.options.params;Object.keys(e).forEach(n=>{null==t[n]&&(t[n]=e[n])})}}}const iO="void",sO=new rO(iO);class oO{constructor(t,e,n){this.id=t,this.hostElement=e,this._engine=n,this.players=[],this._triggers={},this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+t,dO(e,this._hostClassName)}listen(t,e,n,r){if(!this._triggers.hasOwnProperty(e))throw new Error(`Unable to listen on the animation trigger event "${n}" because the animation trigger "${e}" doesn't exist!`);if(null==n||0==n.length)throw new Error(`Unable to listen on the animation trigger "${e}" because the provided event is undefined!`);if("start"!=(i=n)&&"done"!=i)throw new Error(`The provided animation trigger event "${n}" for the animation trigger "${e}" is not supported!`);var i;const s=jw(this._elementListeners,t,[]),o={name:e,phase:n,callback:r};s.push(o);const a=jw(this._engine.statesByElement,t,{});return a.hasOwnProperty(e)||(dO(t,$w),dO(t,"ng-trigger-"+e),a[e]=sO),()=>{this._engine.afterFlush(()=>{const t=s.indexOf(o);t>=0&&s.splice(t,1),this._triggers[e]||delete a[e]})}}register(t,e){return!this._triggers[t]&&(this._triggers[t]=e,!0)}_getTrigger(t){const e=this._triggers[t];if(!e)throw new Error(`The provided animation trigger "${t}" has not been registered!`);return e}trigger(t,e,n,r=!0){const i=this._getTrigger(e),s=new uO(this.id,e,t);let o=this._engine.statesByElement.get(t);o||(dO(t,$w),dO(t,"ng-trigger-"+e),this._engine.statesByElement.set(t,o={}));let a=o[e];const u=new rO(n,this.id);if(!(n&&n.hasOwnProperty("value"))&&a&&u.absorbOptions(a.options),o[e]=u,a||(a=sO),u.value!==iO&&a.value===u.value){if(!function(t,e){const n=Object.keys(t),r=Object.keys(e);if(n.length!=r.length)return!1;for(let i=0;i<n.length;i++){const r=n[i];if(!e.hasOwnProperty(r)||t[r]!==e[r])return!1}return!0}(a.params,u.params)){const e=[],n=i.matchStyles(a.value,a.params,e),r=i.matchStyles(u.value,u.params,e);e.length?this._engine.reportError(e):this._engine.afterFlush(()=>{sE(t,n),iE(t,r)})}return}const c=jw(this._engine.playersByElement,t,[]);c.forEach(t=>{t.namespaceId==this.id&&t.triggerName==e&&t.queued&&t.destroy()});let l=i.matchTransition(a.value,u.value,t,u.params),h=!1;if(!l){if(!r)return;l=i.fallbackTransition,h=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:t,triggerName:e,transition:l,fromState:a,toState:u,player:s,isFallbackTransition:h}),h||(dO(t,ZE),s.onStart(()=>{pO(t,ZE)})),s.onDone(()=>{let e=this.players.indexOf(s);e>=0&&this.players.splice(e,1);const n=this._engine.playersByElement.get(t);if(n){let t=n.indexOf(s);t>=0&&n.splice(t,1)}}),this.players.push(s),c.push(s),s}deregister(t){delete this._triggers[t],this._engine.statesByElement.forEach((e,n)=>{delete e[t]}),this._elementListeners.forEach((e,n)=>{this._elementListeners.set(n,e.filter(e=>e.name!=t))})}clearElementCache(t){this._engine.statesByElement.delete(t),this._elementListeners.delete(t);const e=this._engine.playersByElement.get(t);e&&(e.forEach(t=>t.destroy()),this._engine.playersByElement.delete(t))}_signalRemovalForInnerTriggers(t,e){const n=this._engine.driver.query(t,Ww,!0);n.forEach(t=>{if(t.__ng_removed)return;const n=this._engine.fetchNamespacesByElement(t);n.size?n.forEach(n=>n.triggerLeaveAnimation(t,e,!1,!0)):this.clearElementCache(t)}),this._engine.afterFlushAnimationsDone(()=>n.forEach(t=>this.clearElementCache(t)))}triggerLeaveAnimation(t,e,n,r){const i=this._engine.statesByElement.get(t);if(i){const s=[];if(Object.keys(i).forEach(e=>{if(this._triggers[e]){const n=this.trigger(t,e,iO,r);n&&s.push(n)}}),s.length)return this._engine.markElementAsRemoved(this.id,t,!0,e),n&&Cw(s).onDone(()=>this._engine.processLeaveNode(t)),!0}return!1}prepareLeaveAnimationListeners(t){const e=this._elementListeners.get(t);if(e){const n=new Set;e.forEach(e=>{const r=e.name;if(n.has(r))return;n.add(r);const i=this._triggers[r].fallbackTransition,s=this._engine.statesByElement.get(t)[r]||sO,o=new rO(iO),a=new uO(this.id,r,t);this._engine.totalQueuedPlayers++,this._queue.push({element:t,triggerName:r,transition:i,fromState:s,toState:o,player:a,isFallbackTransition:!0})})}}removeNode(t,e){const n=this._engine;if(t.childElementCount&&this._signalRemovalForInnerTriggers(t,e),this.triggerLeaveAnimation(t,e,!0))return;let r=!1;if(n.totalAnimations){const e=n.players.length?n.playersByQueriedElement.get(t):[];if(e&&e.length)r=!0;else{let e=t;for(;e=e.parentNode;)if(n.statesByElement.get(e)){r=!0;break}}}if(this.prepareLeaveAnimationListeners(t),r)n.markElementAsRemoved(this.id,t,!1,e);else{const r=t.__ng_removed;r&&r!==eO||(n.afterFlush(()=>this.clearElementCache(t)),n.destroyInnerAnimations(t),n._onRemovalComplete(t,e))}}insertNode(t,e){dO(t,this._hostClassName)}drainQueuedTransitions(t){const e=[];return this._queue.forEach(n=>{const r=n.player;if(r.destroyed)return;const i=n.element,s=this._elementListeners.get(i);s&&s.forEach(e=>{if(e.name==n.triggerName){const r=Aw(i,n.triggerName,n.fromState.value,n.toState.value);r._data=t,Iw(n.player,e.phase,r,e.callback)}}),r.markedForDestroy?this._engine.afterFlush(()=>{r.destroy()}):e.push(n)}),this._queue=[],e.sort((t,e)=>{const n=t.transition.ast.depCount,r=e.transition.ast.depCount;return 0==n||0==r?n-r:this._engine.driver.containsElement(t.element,e.element)?1:-1})}destroy(t){this.players.forEach(t=>t.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,t)}elementContainsData(t){let e=!1;return this._elementListeners.has(t)&&(e=!0),e=!!this._queue.find(e=>e.element===t)||e,e}}class aO{constructor(t,e,n){this.bodyNode=t,this.driver=e,this._normalizer=n,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(t,e)=>{}}_onRemovalComplete(t,e){this.onRemovalComplete(t,e)}get queuedPlayers(){const t=[];return this._namespaceList.forEach(e=>{e.players.forEach(e=>{e.queued&&t.push(e)})}),t}createNamespace(t,e){const n=new oO(t,e,this);return e.parentNode?this._balanceNamespaceList(n,e):(this.newHostElements.set(e,n),this.collectEnterElement(e)),this._namespaceLookup[t]=n}_balanceNamespaceList(t,e){const n=this._namespaceList.length-1;if(n>=0){let r=!1;for(let i=n;i>=0;i--)if(this.driver.containsElement(this._namespaceList[i].hostElement,e)){this._namespaceList.splice(i+1,0,t),r=!0;break}r||this._namespaceList.splice(0,0,t)}else this._namespaceList.push(t);return this.namespacesByHostElement.set(e,t),t}register(t,e){let n=this._namespaceLookup[t];return n||(n=this.createNamespace(t,e)),n}registerTrigger(t,e,n){let r=this._namespaceLookup[t];r&&r.register(e,n)&&this.totalAnimations++}destroy(t,e){if(!t)return;const n=this._fetchNamespace(t);this.afterFlush(()=>{this.namespacesByHostElement.delete(n.hostElement),delete this._namespaceLookup[t];const e=this._namespaceList.indexOf(n);e>=0&&this._namespaceList.splice(e,1)}),this.afterFlushAnimationsDone(()=>n.destroy(e))}_fetchNamespace(t){return this._namespaceLookup[t]}fetchNamespacesByElement(t){const e=new Set,n=this.statesByElement.get(t);if(n){const t=Object.keys(n);for(let r=0;r<t.length;r++){const i=n[t[r]].namespaceId;if(i){const t=this._fetchNamespace(i);t&&e.add(t)}}}return e}trigger(t,e,n,r){if(cO(e)){const i=this._fetchNamespace(t);if(i)return i.trigger(e,n,r),!0}return!1}insertNode(t,e,n,r){if(!cO(e))return;const i=e.__ng_removed;if(i&&i.setForRemoval){i.setForRemoval=!1,i.setForMove=!0;const t=this.collectedLeaveElements.indexOf(e);t>=0&&this.collectedLeaveElements.splice(t,1)}if(t){const r=this._fetchNamespace(t);r&&r.insertNode(e,n)}r&&this.collectEnterElement(e)}collectEnterElement(t){this.collectedEnterElements.push(t)}markElementAsDisabled(t,e){e?this.disabledNodes.has(t)||(this.disabledNodes.add(t),dO(t,YE)):this.disabledNodes.has(t)&&(this.disabledNodes.delete(t),pO(t,YE))}removeNode(t,e,n,r){if(cO(e)){const i=t?this._fetchNamespace(t):null;if(i?i.removeNode(e,r):this.markElementAsRemoved(t,e,!1,r),n){const n=this.namespacesByHostElement.get(e);n&&n.id!==t&&n.removeNode(e,r)}}else this._onRemovalComplete(e,r)}markElementAsRemoved(t,e,n,r){this.collectedLeaveElements.push(e),e.__ng_removed={namespaceId:t,setForRemoval:r,hasAnimation:n,removedBeforeQueried:!1}}listen(t,e,n,r,i){return cO(e)?this._fetchNamespace(t).listen(e,n,r,i):()=>{}}_buildInstruction(t,e,n,r,i){return t.transition.build(this.driver,t.element,t.fromState.value,t.toState.value,n,r,t.fromState.options,t.toState.options,e,i)}destroyInnerAnimations(t){let e=this.driver.query(t,Ww,!0);e.forEach(t=>this.destroyActiveAnimationsForElement(t)),0!=this.playersByQueriedElement.size&&(e=this.driver.query(t,Qw,!0),e.forEach(t=>this.finishActiveQueriedAnimationOnElement(t)))}destroyActiveAnimationsForElement(t){const e=this.playersByElement.get(t);e&&e.forEach(t=>{t.queued?t.markedForDestroy=!0:t.destroy()})}finishActiveQueriedAnimationOnElement(t){const e=this.playersByQueriedElement.get(t);e&&e.forEach(t=>t.finish())}whenRenderingDone(){return new Promise(t=>{if(this.players.length)return Cw(this.players).onDone(()=>t());t()})}processLeaveNode(t){const e=t.__ng_removed;if(e&&e.setForRemoval){if(t.__ng_removed=eO,e.namespaceId){this.destroyInnerAnimations(t);const n=this._fetchNamespace(e.namespaceId);n&&n.clearElementCache(t)}this._onRemovalComplete(t,e.setForRemoval)}this.driver.matchesElement(t,XE)&&this.markElementAsDisabled(t,!1),this.driver.query(t,XE,!0).forEach(t=>{this.markElementAsDisabled(t,!1)})}flush(t=-1){let e=[];if(this.newHostElements.size&&(this.newHostElements.forEach((t,e)=>this._balanceNamespaceList(t,e)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let n=0;n<this.collectedEnterElements.length;n++)dO(this.collectedEnterElements[n],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const n=[];try{e=this._flushAnimations(n,t)}finally{for(let t=0;t<n.length;t++)n[t]()}}else for(let n=0;n<this.collectedLeaveElements.length;n++)this.processLeaveNode(this.collectedLeaveElements[n]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(t=>t()),this._flushFns=[],this._whenQuietFns.length){const t=this._whenQuietFns;this._whenQuietFns=[],e.length?Cw(e).onDone(()=>{t.forEach(t=>t())}):t.forEach(t=>t())}}reportError(t){throw new Error("Unable to process animations due to the following failed trigger transitions\n "+t.join("\n"))}_flushAnimations(t,e){const n=new jE,r=[],i=new Map,s=[],o=new Map,a=new Map,u=new Map,c=new Set;this.disabledNodes.forEach(t=>{c.add(t);const e=this.driver.query(t,".ng-animate-queued",!0);for(let n=0;n<e.length;n++)c.add(e[n])});const l=this.bodyNode,h=Array.from(this.statesByElement.keys()),f=fO(h,this.collectedEnterElements),d=new Map;let p=0;f.forEach((t,e)=>{const n=Bw+p++;d.set(e,n),t.forEach(t=>dO(t,n))});const g=[],m=new Set,y=new Set;for(let j=0;j<this.collectedLeaveElements.length;j++){const t=this.collectedLeaveElements[j],e=t.__ng_removed;e&&e.setForRemoval&&(g.push(t),m.add(t),e.hasAnimation?this.driver.query(t,".ng-star-inserted",!0).forEach(t=>m.add(t)):y.add(t))}const v=new Map,b=fO(h,Array.from(m));b.forEach((t,e)=>{const n=Gw+p++;v.set(e,n),t.forEach(t=>dO(t,n))}),t.push(()=>{f.forEach((t,e)=>{const n=d.get(e);t.forEach(t=>pO(t,n))}),b.forEach((t,e)=>{const n=v.get(e);t.forEach(t=>pO(t,n))}),g.forEach(t=>{this.processLeaveNode(t)})});const _=[],w=[];for(let j=this._namespaceList.length-1;j>=0;j--)this._namespaceList[j].drainQueuedTransitions(e).forEach(t=>{const e=t.player,i=t.element;if(_.push(e),this.collectedEnterElements.length){const t=i.__ng_removed;if(t&&t.setForMove)return void e.destroy()}const c=!l||!this.driver.containsElement(l,i),h=v.get(i),f=d.get(i),p=this._buildInstruction(t,n,f,h,c);if(p.errors&&p.errors.length)w.push(p);else{if(c)return e.onStart(()=>sE(i,p.fromStyles)),e.onDestroy(()=>iE(i,p.toStyles)),void r.push(e);if(t.isFallbackTransition)return e.onStart(()=>sE(i,p.fromStyles)),e.onDestroy(()=>iE(i,p.toStyles)),void r.push(e);p.timelines.forEach(t=>t.stretchStartingKeyframe=!0),n.append(i,p.timelines),s.push({instruction:p,player:e,element:i}),p.queriedElements.forEach(t=>jw(o,t,[]).push(e)),p.preStyleProps.forEach((t,e)=>{const n=Object.keys(t);if(n.length){let t=a.get(e);t||a.set(e,t=new Set),n.forEach(e=>t.add(e))}}),p.postStyleProps.forEach((t,e)=>{const n=Object.keys(t);let r=u.get(e);r||u.set(e,r=new Set),n.forEach(t=>r.add(t))})}});if(w.length){const t=[];w.forEach(e=>{t.push(`@${e.triggerName} has failed due to:\n`),e.errors.forEach(e=>t.push(`- ${e}\n`))}),_.forEach(t=>t.destroy()),this.reportError(t)}const E=new Map,O=new Map;s.forEach(t=>{const e=t.element;n.has(e)&&(O.set(e,e),this._beforeAnimationBuild(t.player.namespaceId,t.instruction,E))}),r.forEach(t=>{const e=t.element;this._getPreviousPlayers(e,!1,t.namespaceId,t.triggerName,null).forEach(t=>{jw(E,e,[]).push(t),t.destroy()})});const S=g.filter(t=>yO(t,a,u)),C=new Map;hO(C,this.driver,y,u,vw).forEach(t=>{yO(t,a,u)&&S.push(t)});const T=new Map;f.forEach((t,e)=>{hO(T,this.driver,new Set(t),a,"!")}),S.forEach(t=>{const e=C.get(t),n=T.get(t);C.set(t,Object.assign(Object.assign({},e),n))});const I=[],x=[],A={};s.forEach(t=>{const{element:e,player:s,instruction:o}=t;if(n.has(e)){if(c.has(e))return s.onDestroy(()=>iE(e,o.toStyles)),s.disabled=!0,s.overrideTotalTime(o.totalTime),void r.push(s);let t=A;if(O.size>1){let n=e;const r=[];for(;n=n.parentNode;){const e=O.get(n);if(e){t=e;break}r.push(n)}r.forEach(e=>O.set(e,t))}const n=this._buildAnimation(s.namespaceId,o,E,i,T,C);if(s.setRealPlayer(n),t===A)I.push(s);else{const e=this.playersByElement.get(t);e&&e.length&&(s.parentPlayer=Cw(e)),r.push(s)}}else sE(e,o.fromStyles),s.onDestroy(()=>iE(e,o.toStyles)),x.push(s),c.has(e)&&r.push(s)}),x.forEach(t=>{const e=i.get(t.element);if(e&&e.length){const n=Cw(e);t.setRealPlayer(n)}}),r.forEach(t=>{t.parentPlayer?t.syncPlayerEvents(t.parentPlayer):t.destroy()});for(let j=0;j<g.length;j++){const t=g[j],e=t.__ng_removed;if(pO(t,Gw),e&&e.hasAnimation)continue;let n=[];if(o.size){let e=o.get(t);e&&e.length&&n.push(...e);let r=this.driver.query(t,Qw,!0);for(let t=0;t<r.length;t++){let e=o.get(r[t]);e&&e.length&&n.push(...e)}}const r=n.filter(t=>!t.destroyed);r.length?gO(this,t,r):this.processLeaveNode(t)}return g.length=0,I.forEach(t=>{this.players.push(t),t.onDone(()=>{t.destroy();const e=this.players.indexOf(t);this.players.splice(e,1)}),t.play()}),I}elementContainsData(t,e){let n=!1;const r=e.__ng_removed;return r&&r.setForRemoval&&(n=!0),this.playersByElement.has(e)&&(n=!0),this.playersByQueriedElement.has(e)&&(n=!0),this.statesByElement.has(e)&&(n=!0),this._fetchNamespace(t).elementContainsData(e)||n}afterFlush(t){this._flushFns.push(t)}afterFlushAnimationsDone(t){this._whenQuietFns.push(t)}_getPreviousPlayers(t,e,n,r,i){let s=[];if(e){const e=this.playersByQueriedElement.get(t);e&&(s=e)}else{const e=this.playersByElement.get(t);if(e){const t=!i||i==iO;e.forEach(e=>{e.queued||(t||e.triggerName==r)&&s.push(e)})}}return(n||r)&&(s=s.filter(t=>!(n&&n!=t.namespaceId||r&&r!=t.triggerName))),s}_beforeAnimationBuild(t,e,n){const r=e.element,i=e.isRemovalTransition?void 0:t,s=e.isRemovalTransition?void 0:e.triggerName;for(const o of e.timelines){const t=o.element,a=t!==r,u=jw(n,t,[]);this._getPreviousPlayers(t,a,i,s,e.toState).forEach(t=>{const e=t.getRealPlayer();e.beforeDestroy&&e.beforeDestroy(),t.destroy(),u.push(t)})}sE(r,e.fromStyles)}_buildAnimation(t,e,n,r,i,s){const o=e.triggerName,a=e.element,u=[],c=new Set,l=new Set,h=e.timelines.map(e=>{const h=e.element;c.add(h);const f=h.__ng_removed;if(f&&f.removedBeforeQueried)return new Ew(e.duration,e.delay);const d=h!==a,p=function(t){const e=[];return mO(t,e),e}((n.get(h)||tO).map(t=>t.getRealPlayer())).filter(t=>!!t.element&&t.element===h),g=i.get(h),m=s.get(h),y=Tw(0,this._normalizer,0,e.keyframes,g,m),v=this._buildPlayer(e,y,p);if(e.subTimeline&&r&&l.add(h),d){const e=new uO(t,o,h);e.setRealPlayer(v),u.push(e)}return v});u.forEach(t=>{jw(this.playersByQueriedElement,t.element,[]).push(t),t.onDone(()=>function(t,e,n){let r;if(t instanceof Map){if(r=t.get(e),r){if(r.length){const t=r.indexOf(n);r.splice(t,1)}0==r.length&&t.delete(e)}}else if(r=t[e],r){if(r.length){const t=r.indexOf(n);r.splice(t,1)}0==r.length&&delete t[e]}return r}(this.playersByQueriedElement,t.element,t))}),c.forEach(t=>dO(t,Jw));const f=Cw(h);return f.onDestroy(()=>{c.forEach(t=>pO(t,Jw)),iE(a,e.toStyles)}),l.forEach(t=>{jw(r,t,[]).push(f)}),f}_buildPlayer(t,e,n){return e.length>0?this.driver.animate(t.element,e,t.duration,t.delay,t.easing,n):new Ew(t.duration,t.delay)}}class uO{constructor(t,e,n){this.namespaceId=t,this.triggerName=e,this.element=n,this._player=new Ew,this._containsRealPlayer=!1,this._queuedCallbacks={},this.destroyed=!1,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(t){this._containsRealPlayer||(this._player=t,Object.keys(this._queuedCallbacks).forEach(e=>{this._queuedCallbacks[e].forEach(n=>Iw(t,e,void 0,n))}),this._queuedCallbacks={},this._containsRealPlayer=!0,this.overrideTotalTime(t.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(t){this.totalTime=t}syncPlayerEvents(t){const e=this._player;e.triggerCallback&&t.onStart(()=>e.triggerCallback("start")),t.onDone(()=>this.finish()),t.onDestroy(()=>this.destroy())}_queueEvent(t,e){jw(this._queuedCallbacks,t,[]).push(e)}onDone(t){this.queued&&this._queueEvent("done",t),this._player.onDone(t)}onStart(t){this.queued&&this._queueEvent("start",t),this._player.onStart(t)}onDestroy(t){this.queued&&this._queueEvent("destroy",t),this._player.onDestroy(t)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(t){this.queued||this._player.setPosition(t)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(t){const e=this._player;e.triggerCallback&&e.triggerCallback(t)}}function cO(t){return t&&1===t.nodeType}function lO(t,e){const n=t.style.display;return t.style.display=null!=e?e:"none",n}function hO(t,e,n,r,i){const s=[];n.forEach(t=>s.push(lO(t)));const o=[];r.forEach((n,r)=>{const s={};n.forEach(t=>{const n=s[t]=e.computeStyle(r,t,i);n&&0!=n.length||(r.__ng_removed=nO,o.push(r))}),t.set(r,s)});let a=0;return n.forEach(t=>lO(t,s[a++])),o}function fO(t,e){const n=new Map;if(t.forEach(t=>n.set(t,[])),0==e.length)return n;const r=new Set(e),i=new Map;function s(t){if(!t)return 1;let e=i.get(t);if(e)return e;const o=t.parentNode;return e=n.has(o)?o:r.has(o)?1:s(o),i.set(t,e),e}return e.forEach(t=>{const e=s(t);1!==e&&n.get(e).push(t)}),n}function dO(t,e){if(t.classList)t.classList.add(e);else{let n=t.$$classes;n||(n=t.$$classes={}),n[e]=!0}}function pO(t,e){if(t.classList)t.classList.remove(e);else{let n=t.$$classes;n&&delete n[e]}}function gO(t,e,n){Cw(n).onDone(()=>t.processLeaveNode(e))}function mO(t,e){for(let n=0;n<t.length;n++){const r=t[n];r instanceof Ow?mO(r.players,e):e.push(r)}}function yO(t,e,n){const r=n.get(t);if(!r)return!1;let i=e.get(t);return i?r.forEach(t=>i.add(t)):e.set(t,r),n.delete(t),!0}class vO{constructor(t,e,n){this.bodyNode=t,this._driver=e,this._triggerCache={},this.onRemovalComplete=(t,e)=>{},this._transitionEngine=new aO(t,e,n),this._timelineEngine=new QE(t,e,n),this._transitionEngine.onRemovalComplete=(t,e)=>this.onRemovalComplete(t,e)}registerTrigger(t,e,n,r,i){const s=t+"-"+r;let o=this._triggerCache[s];if(!o){const t=[],e=OE(this._driver,i,t);if(t.length)throw new Error(`The animation trigger "${r}" has failed to build due to the following errors:\n - ${t.join("\n - ")}`);o=function(t,e){return new $E(t,e)}(r,e),this._triggerCache[s]=o}this._transitionEngine.registerTrigger(e,r,o)}register(t,e){this._transitionEngine.register(t,e)}destroy(t,e){this._transitionEngine.destroy(t,e)}onInsert(t,e,n,r){this._transitionEngine.insertNode(t,e,n,r)}onRemove(t,e,n,r){this._transitionEngine.removeNode(t,e,r||!1,n)}disableAnimations(t,e){this._transitionEngine.markElementAsDisabled(t,e)}process(t,e,n,r){if("@"==n.charAt(0)){const[t,i]=kw(n);this._timelineEngine.command(t,e,i,r)}else this._transitionEngine.trigger(t,e,n,r)}listen(t,e,n,r,i){if("@"==n.charAt(0)){const[t,r]=kw(n);return this._timelineEngine.listen(t,e,r,i)}return this._transitionEngine.listen(t,e,n,r,i)}flush(t=-1){this._transitionEngine.flush(t)}get players(){return this._transitionEngine.players.concat(this._timelineEngine.players)}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}}function bO(t,e){let n=null,r=null;return Array.isArray(e)&&e.length?(n=wO(e[0]),e.length>1&&(r=wO(e[e.length-1]))):e&&(n=wO(e)),n||r?new _O(t,n,r):null}let _O=(()=>{class t{constructor(e,n,r){this._element=e,this._startStyles=n,this._endStyles=r,this._state=0;let i=t.initialStylesByElement.get(e);i||t.initialStylesByElement.set(e,i={}),this._initialStyles=i}start(){this._state<1&&(this._startStyles&&iE(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(iE(this._element,this._initialStyles),this._endStyles&&(iE(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(t.initialStylesByElement.delete(this._element),this._startStyles&&(sE(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(sE(this._element,this._endStyles),this._endStyles=null),iE(this._element,this._initialStyles),this._state=3)}}return t.initialStylesByElement=new WeakMap,t})();function wO(t){let e=null;const n=Object.keys(t);for(let r=0;r<n.length;r++){const i=n[r];EO(i)&&(e=e||{},e[i]=t[i])}return e}function EO(t){return"display"===t||"position"===t}const OO="animation",SO="animationend";class CO{constructor(t,e,n,r,i,s,o){this._element=t,this._name=e,this._duration=n,this._delay=r,this._easing=i,this._fillMode=s,this._onDoneFn=o,this._finished=!1,this._destroyed=!1,this._startTime=0,this._position=0,this._eventFn=t=>this._handleCallback(t)}apply(){!function(t,e){const n=kO(t,"").trim();n.length&&(function(t,e){let n=0;for(let r=0;r<t.length;r++)","===t.charAt(r)&&n++}(n),e=`${n}, ${e}`),jO(t,"",e)}(this._element,`${this._duration}ms ${this._easing} ${this._delay}ms 1 normal ${this._fillMode} ${this._name}`),AO(this._element,this._eventFn,!1),this._startTime=Date.now()}pause(){TO(this._element,this._name,"paused")}resume(){TO(this._element,this._name,"running")}setPosition(t){const e=IO(this._element,this._name);this._position=t*this._duration,jO(this._element,"Delay",`-${this._position}ms`,e)}getPosition(){return this._position}_handleCallback(t){const e=t._ngTestManualTimestamp||Date.now(),n=1e3*parseFloat(t.elapsedTime.toFixed(3));t.animationName==this._name&&Math.max(e-this._startTime,0)>=this._delay&&n>=this._duration&&this.finish()}finish(){this._finished||(this._finished=!0,this._onDoneFn(),AO(this._element,this._eventFn,!0))}destroy(){this._destroyed||(this._destroyed=!0,this.finish(),function(t,e){const n=kO(t,"").split(","),r=xO(n,e);r>=0&&(n.splice(r,1),jO(t,"",n.join(",")))}(this._element,this._name))}}function TO(t,e,n){jO(t,"PlayState",n,IO(t,e))}function IO(t,e){const n=kO(t,"");return n.indexOf(",")>0?xO(n.split(","),e):xO([n],e)}function xO(t,e){for(let n=0;n<t.length;n++)if(t[n].indexOf(e)>=0)return n;return-1}function AO(t,e,n){n?t.removeEventListener(SO,e):t.addEventListener(SO,e)}function jO(t,e,n,r){const i=OO+e;if(null!=r){const e=t.style[i];if(e.length){const t=e.split(",");t[r]=n,n=t.join(",")}}t.style[i]=n}function kO(t,e){return t.style[OO+e]||""}class NO{constructor(t,e,n,r,i,s,o,a){this.element=t,this.keyframes=e,this.animationName=n,this._duration=r,this._delay=i,this._finalStyles=o,this._specialStyles=a,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._started=!1,this.currentSnapshot={},this._state=0,this.easing=s||"linear",this.totalTime=r+i,this._buildStyler()}onStart(t){this._onStartFns.push(t)}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}destroy(){this.init(),this._state>=4||(this._state=4,this._styler.destroy(),this._flushStartFns(),this._flushDoneFns(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}_flushDoneFns(){this._onDoneFns.forEach(t=>t()),this._onDoneFns=[]}_flushStartFns(){this._onStartFns.forEach(t=>t()),this._onStartFns=[]}finish(){this.init(),this._state>=3||(this._state=3,this._styler.finish(),this._flushStartFns(),this._specialStyles&&this._specialStyles.finish(),this._flushDoneFns())}setPosition(t){this._styler.setPosition(t)}getPosition(){return this._styler.getPosition()}hasStarted(){return this._state>=2}init(){this._state>=1||(this._state=1,this._styler.apply(),this._delay&&this._styler.pause())}play(){this.init(),this.hasStarted()||(this._flushStartFns(),this._state=2,this._specialStyles&&this._specialStyles.start()),this._styler.resume()}pause(){this.init(),this._styler.pause()}restart(){this.reset(),this.play()}reset(){this._styler.destroy(),this._buildStyler(),this._styler.apply()}_buildStyler(){this._styler=new CO(this.element,this.animationName,this._duration,this._delay,this.easing,"forwards",()=>this.finish())}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(t=>t()),e.length=0}beforeDestroy(){this.init();const t={};if(this.hasStarted()){const e=this._state>=3;Object.keys(this._finalStyles).forEach(n=>{"offset"!=n&&(t[n]=e?this._finalStyles[n]:mE(this.element,n))})}this.currentSnapshot=t}}class PO extends Ew{constructor(t,e){super(),this.element=t,this._startingStyles={},this.__initialized=!1,this._styles=Hw(e)}init(){!this.__initialized&&this._startingStyles&&(this.__initialized=!0,Object.keys(this._styles).forEach(t=>{this._startingStyles[t]=this.element.style[t]}),super.init())}play(){this._startingStyles&&(this.init(),Object.keys(this._styles).forEach(t=>this.element.style.setProperty(t,this._styles[t])),super.play())}destroy(){this._startingStyles&&(Object.keys(this._startingStyles).forEach(t=>{const e=this._startingStyles[t];e?this.element.style.setProperty(t,e):this.element.style.removeProperty(t)}),this._startingStyles=null,super.destroy())}}class DO{constructor(){this._count=0,this._head=document.querySelector("head")}validateStyleProperty(t){return Fw(t)}matchesElement(t,e){return Vw(t,e)}containsElement(t,e){return Uw(t,e)}query(t,e,n){return qw(t,e,n)}computeStyle(t,e,n){return window.getComputedStyle(t)[e]}buildKeyframeElement(t,e,n){n=n.map(t=>Hw(t));let r=`@keyframes ${e} {\n`,i="";n.forEach(t=>{i=" ";const e=parseFloat(t.offset);r+=`${i}${100*e}% {\n`,i+=" ",Object.keys(t).forEach(e=>{const n=t[e];switch(e){case"offset":return;case"easing":return void(n&&(r+=`${i}animation-timing-function: ${n};\n`));default:return void(r+=`${i}${e}: ${n};\n`)}}),r+=i+"}\n"}),r+="}\n";const s=document.createElement("style");return s.textContent=r,s}animate(t,e,n,r,i,s=[],o){const a=s.filter(t=>t instanceof NO),u={};dE(n,r)&&a.forEach(t=>{let e=t.currentSnapshot;Object.keys(e).forEach(t=>u[t]=e[t])});const c=function(t){let e={};return t&&(Array.isArray(t)?t:[t]).forEach(t=>{Object.keys(t).forEach(n=>{"offset"!=n&&"easing"!=n&&(e[n]=t[n])})}),e}(e=pE(t,e,u));if(0==n)return new PO(t,c);const l="gen_css_kf_"+this._count++,h=this.buildKeyframeElement(t,l,e);document.querySelector("head").appendChild(h);const f=bO(t,e),d=new NO(t,e,l,n,r,i,c,f);return d.onDestroy(()=>{var t;(t=h).parentNode.removeChild(t)}),d}}class RO{constructor(t,e,n,r){this.element=t,this.keyframes=e,this.options=n,this._specialStyles=r,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this.time=0,this.parentPlayer=null,this.currentSnapshot={},this._duration=n.duration,this._delay=n.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const t=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,t,this.options),this._finalKeyframe=t.length?t[t.length-1]:{},this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_triggerWebAnimation(t,e,n){return t.animate(e,n)}onStart(t){this._onStartFns.push(t)}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(t=>t()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}setPosition(t){this.domPlayer.currentTime=t*this.time}getPosition(){return this.domPlayer.currentTime/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const t={};this.hasStarted()&&Object.keys(this._finalKeyframe).forEach(e=>{"offset"!=e&&(t[e]=this._finished?this._finalKeyframe[e]:mE(this.element,e))}),this.currentSnapshot=t}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(t=>t()),e.length=0}}class LO{constructor(){this._isNativeImpl=/\{\s*\[native\s+code\]\s*\}/.test(MO().toString()),this._cssKeyframesDriver=new DO}validateStyleProperty(t){return Fw(t)}matchesElement(t,e){return Vw(t,e)}containsElement(t,e){return Uw(t,e)}query(t,e,n){return qw(t,e,n)}computeStyle(t,e,n){return window.getComputedStyle(t)[e]}overrideWebAnimationsSupport(t){this._isNativeImpl=t}animate(t,e,n,r,i,s=[],o){if(!o&&!this._isNativeImpl)return this._cssKeyframesDriver.animate(t,e,n,r,i,s);const a={duration:n,delay:r,fill:0==r?"both":"forwards"};i&&(a.easing=i);const u={},c=s.filter(t=>t instanceof RO);dE(n,r)&&c.forEach(t=>{let e=t.currentSnapshot;Object.keys(e).forEach(t=>u[t]=e[t])});const l=bO(t,e=pE(t,e=e.map(t=>eE(t,!1)),u));return new RO(t,e,a,l)}}function MO(){return"undefined"!=typeof window&&void 0!==window.document&&Element.prototype.animate||{}}let FO=(()=>{class t extends yw{constructor(t,e){super(),this._nextAnimationId=0,this._renderer=t.createRenderer(e.body,{id:"0",encapsulation:r.Q.None,styles:[],data:{animation:[]}})}build(t){const e=this._nextAnimationId.toString();this._nextAnimationId++;const n=Array.isArray(t)?bw(t):t;return qO(this._renderer,null,e,"register",[n]),new VO(e,this._renderer)}}return t.\u0275fac=function(e){return new(e||t)(r.Ob(r.E),r.Ob(o))},t.\u0275prov=r.Eb({token:t,factory:t.\u0275fac}),t})();class VO extends class{}{constructor(t,e){super(),this._id=t,this._renderer=e}create(t,e){return new UO(this._id,t,e||{},this._renderer)}}class UO{constructor(t,e,n,r){this.id=t,this.element=e,this._renderer=r,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",n)}_listen(t,e){return this._renderer.listen(this.element,`@@${this.id}:${t}`,e)}_command(t,...e){return qO(this._renderer,this.element,this.id,t,e)}onDone(t){this._listen("done",t)}onStart(t){this._listen("start",t)}onDestroy(t){this._listen("destroy",t)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset")}setPosition(t){this._command("setPosition",t)}getPosition(){var t,e;return null!==(e=null===(t=this._renderer.engine.players[+this.id])||void 0===t?void 0:t.getPosition())&&void 0!==e?e:0}}function qO(t,e,n,r,i){return t.setProperty(e,`@@${n}:${r}`,i)}const HO="@",zO="@.disabled";let KO=(()=>{class t{constructor(t,e,n){this.delegate=t,this.engine=e,this._zone=n,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),e.onRemovalComplete=(t,e)=>{e&&e.parentNode(t)&&e.removeChild(t.parentNode,t)}}createRenderer(t,e){const n=this.delegate.createRenderer(t,e);if(!(t&&e&&e.data&&e.data.animation)){let t=this._rendererCache.get(n);return t||(t=new BO("",n,this.engine),this._rendererCache.set(n,t)),t}const r=e.id,i=e.id+"-"+this._currentId;this._currentId++,this.engine.register(i,t);const s=e=>{Array.isArray(e)?e.forEach(s):this.engine.registerTrigger(r,i,t,e.name,e)};return e.data.animation.forEach(s),new GO(this,i,n,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){this.promise.then(()=>{this._microtaskId++})}scheduleListenerCallback(t,e,n){t>=0&&t<this._microtaskId?this._zone.run(()=>e(n)):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(t=>{const[e,n]=t;e(n)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([e,n]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}return t.\u0275fac=function(e){return new(e||t)(r.Ob(r.E),r.Ob(vO),r.Ob(r.z))},t.\u0275prov=r.Eb({token:t,factory:t.\u0275fac}),t})();class BO{constructor(t,e,n){this.namespaceId=t,this.delegate=e,this.engine=n,this.destroyNode=this.delegate.destroyNode?t=>e.destroyNode(t):null}get data(){return this.delegate.data}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy()}createElement(t,e){return this.delegate.createElement(t,e)}createComment(t){return this.delegate.createComment(t)}createText(t){return this.delegate.createText(t)}appendChild(t,e){this.delegate.appendChild(t,e),this.engine.onInsert(this.namespaceId,e,t,!1)}insertBefore(t,e,n,r=!0){this.delegate.insertBefore(t,e,n),this.engine.onInsert(this.namespaceId,e,t,r)}removeChild(t,e,n){this.engine.onRemove(this.namespaceId,e,this.delegate,n)}selectRootElement(t,e){return this.delegate.selectRootElement(t,e)}parentNode(t){return this.delegate.parentNode(t)}nextSibling(t){return this.delegate.nextSibling(t)}setAttribute(t,e,n,r){this.delegate.setAttribute(t,e,n,r)}removeAttribute(t,e,n){this.delegate.removeAttribute(t,e,n)}addClass(t,e){this.delegate.addClass(t,e)}removeClass(t,e){this.delegate.removeClass(t,e)}setStyle(t,e,n,r){this.delegate.setStyle(t,e,n,r)}removeStyle(t,e,n){this.delegate.removeStyle(t,e,n)}setProperty(t,e,n){e.charAt(0)==HO&&e==zO?this.disableAnimations(t,!!n):this.delegate.setProperty(t,e,n)}setValue(t,e){this.delegate.setValue(t,e)}listen(t,e,n){return this.delegate.listen(t,e,n)}disableAnimations(t,e){this.engine.disableAnimations(t,e)}}class GO extends BO{constructor(t,e,n,r){super(e,n,r),this.factory=t,this.namespaceId=e}setProperty(t,e,n){e.charAt(0)==HO?"."==e.charAt(1)&&e==zO?this.disableAnimations(t,n=void 0===n||!!n):this.engine.process(this.namespaceId,t,e.substr(1),n):this.delegate.setProperty(t,e,n)}listen(t,e,n){if(e.charAt(0)==HO){const r=function(t){switch(t){case"body":return document.body;case"document":return document;case"window":return window;default:return t}}(t);let i=e.substr(1),s="";return i.charAt(0)!=HO&&([i,s]=function(t){const e=t.indexOf(".");return[t.substring(0,e),t.substr(e+1)]}(i)),this.engine.listen(this.namespaceId,r,i,s,t=>{this.factory.scheduleListenerCallback(t._data||-1,n,t)})}return this.delegate.listen(t,e,n)}}let $O=(()=>{class t extends vO{constructor(t,e,n){super(t.body,e,n)}}return t.\u0275fac=function(e){return new(e||t)(r.Ob(o),r.Ob(Kw),r.Ob(UE))},t.\u0275prov=r.Eb({token:t,factory:t.\u0275fac}),t})();const WO=[{provide:Kw,useFactory:function(){return"function"==typeof MO()?new LO:new DO}},{provide:new r.q("AnimationModuleType"),useValue:"BrowserAnimations"},{provide:yw,useClass:FO},{provide:UE,useFactory:function(){return new qE}},{provide:vO,useClass:$O},{provide:r.E,useFactory:function(t,e,n){return new KO(t,e,n)},deps:[Ce,vO,r.z]}];let JO=(()=>{class t{}return t.\u0275mod=r.Gb({type:t}),t.\u0275inj=r.Fb({factory:function(e){return new(e||t)},providers:WO,imports:[Fe]}),t})();const QO={apiKey:"AIzaSyCchBGzcwtvV7lNau9XezoStO6fTMPTy3k",authDomain:"portfolio-344ed.firebaseapp.com",projectId:"portfolio-344ed",storageBucket:"portfolio-344ed.appspot.com",messagingSenderId:"1056297757597",appId:"1:1056297757597:web:27d2d6073d742e9bd4dd74",measurementId:"G-M5XG15QB56"};class ZO{}class YO{}class XO{constructor(t){this.normalizedNames=new Map,this.lazyUpdate=null,t?this.lazyInit="string"==typeof t?()=>{this.headers=new Map,t.split("\n").forEach(t=>{const e=t.indexOf(":");if(e>0){const n=t.slice(0,e),r=n.toLowerCase(),i=t.slice(e+1).trim();this.maybeSetNormalizedName(n,r),this.headers.has(r)?this.headers.get(r).push(i):this.headers.set(r,[i])}})}:()=>{this.headers=new Map,Object.keys(t).forEach(e=>{let n=t[e];const r=e.toLowerCase();"string"==typeof n&&(n=[n]),n.length>0&&(this.headers.set(r,n),this.maybeSetNormalizedName(e,r))})}:this.headers=new Map}has(t){return this.init(),this.headers.has(t.toLowerCase())}get(t){this.init();const e=this.headers.get(t.toLowerCase());return e&&e.length>0?e[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(t){return this.init(),this.headers.get(t.toLowerCase())||null}append(t,e){return this.clone({name:t,value:e,op:"a"})}set(t,e){return this.clone({name:t,value:e,op:"s"})}delete(t,e){return this.clone({name:t,value:e,op:"d"})}maybeSetNormalizedName(t,e){this.normalizedNames.has(e)||this.normalizedNames.set(e,t)}init(){this.lazyInit&&(this.lazyInit instanceof XO?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(t=>this.applyUpdate(t)),this.lazyUpdate=null))}copyFrom(t){t.init(),Array.from(t.headers.keys()).forEach(e=>{this.headers.set(e,t.headers.get(e)),this.normalizedNames.set(e,t.normalizedNames.get(e))})}clone(t){const e=new XO;return e.lazyInit=this.lazyInit&&this.lazyInit instanceof XO?this.lazyInit:this,e.lazyUpdate=(this.lazyUpdate||[]).concat([t]),e}applyUpdate(t){const e=t.name.toLowerCase();switch(t.op){case"a":case"s":let n=t.value;if("string"==typeof n&&(n=[n]),0===n.length)return;this.maybeSetNormalizedName(t.name,e);const r=("a"===t.op?this.headers.get(e):void 0)||[];r.push(...n),this.headers.set(e,r);break;case"d":const i=t.value;if(i){let t=this.headers.get(e);if(!t)return;t=t.filter(t=>-1===i.indexOf(t)),0===t.length?(this.headers.delete(e),this.normalizedNames.delete(e)):this.headers.set(e,t)}else this.headers.delete(e),this.normalizedNames.delete(e)}}forEach(t){this.init(),Array.from(this.normalizedNames.keys()).forEach(e=>t(this.normalizedNames.get(e),this.headers.get(e)))}}class tS{encodeKey(t){return eS(t)}encodeValue(t){return eS(t)}decodeKey(t){return decodeURIComponent(t)}decodeValue(t){return decodeURIComponent(t)}}function eS(t){return encodeURIComponent(t).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/gi,"$").replace(/%2C/gi,",").replace(/%3B/gi,";").replace(/%2B/gi,"+").replace(/%3D/gi,"=").replace(/%3F/gi,"?").replace(/%2F/gi,"/")}class nS{constructor(t={}){if(this.updates=null,this.cloneFrom=null,this.encoder=t.encoder||new tS,t.fromString){if(t.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function(t,e){const n=new Map;return t.length>0&&t.split("&").forEach(t=>{const r=t.indexOf("="),[i,s]=-1==r?[e.decodeKey(t),""]:[e.decodeKey(t.slice(0,r)),e.decodeValue(t.slice(r+1))],o=n.get(i)||[];o.push(s),n.set(i,o)}),n}(t.fromString,this.encoder)}else t.fromObject?(this.map=new Map,Object.keys(t.fromObject).forEach(e=>{const n=t.fromObject[e];this.map.set(e,Array.isArray(n)?n:[n])})):this.map=null}has(t){return this.init(),this.map.has(t)}get(t){this.init();const e=this.map.get(t);return e?e[0]:null}getAll(t){return this.init(),this.map.get(t)||null}keys(){return this.init(),Array.from(this.map.keys())}append(t,e){return this.clone({param:t,value:e,op:"a"})}set(t,e){return this.clone({param:t,value:e,op:"s"})}delete(t,e){return this.clone({param:t,value:e,op:"d"})}toString(){return this.init(),this.keys().map(t=>{const e=this.encoder.encodeKey(t);return this.map.get(t).map(t=>e+"="+this.encoder.encodeValue(t)).join("&")}).filter(t=>""!==t).join("&")}clone(t){const e=new nS({encoder:this.encoder});return e.cloneFrom=this.cloneFrom||this,e.updates=(this.updates||[]).concat([t]),e}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(t=>this.map.set(t,this.cloneFrom.map.get(t))),this.updates.forEach(t=>{switch(t.op){case"a":case"s":const e=("a"===t.op?this.map.get(t.param):void 0)||[];e.push(t.value),this.map.set(t.param,e);break;case"d":if(void 0===t.value){this.map.delete(t.param);break}{let e=this.map.get(t.param)||[];const n=e.indexOf(t.value);-1!==n&&e.splice(n,1),e.length>0?this.map.set(t.param,e):this.map.delete(t.param)}}}),this.cloneFrom=this.updates=null)}}function rS(t){return"undefined"!=typeof ArrayBuffer&&t instanceof ArrayBuffer}function iS(t){return"undefined"!=typeof Blob&&t instanceof Blob}function sS(t){return"undefined"!=typeof FormData&&t instanceof FormData}class oS{constructor(t,e,n,r){let i;if(this.url=e,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=t.toUpperCase(),function(t){switch(t){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||r?(this.body=void 0!==n?n:null,i=r):i=n,i&&(this.reportProgress=!!i.reportProgress,this.withCredentials=!!i.withCredentials,i.responseType&&(this.responseType=i.responseType),i.headers&&(this.headers=i.headers),i.params&&(this.params=i.params)),this.headers||(this.headers=new XO),this.params){const t=this.params.toString();if(0===t.length)this.urlWithParams=e;else{const n=e.indexOf("?");this.urlWithParams=e+(-1===n?"?":n<e.length-1?"&":"")+t}}else this.params=new nS,this.urlWithParams=e}serializeBody(){return null===this.body?null:rS(this.body)||iS(this.body)||sS(this.body)||"string"==typeof this.body?this.body:this.body instanceof nS?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||sS(this.body)?null:iS(this.body)?this.body.type||null:rS(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof nS?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||Array.isArray(this.body)?"application/json":null}clone(t={}){const e=t.method||this.method,n=t.url||this.url,r=t.responseType||this.responseType,i=void 0!==t.body?t.body:this.body,s=void 0!==t.withCredentials?t.withCredentials:this.withCredentials,o=void 0!==t.reportProgress?t.reportProgress:this.reportProgress;let a=t.headers||this.headers,u=t.params||this.params;return void 0!==t.setHeaders&&(a=Object.keys(t.setHeaders).reduce((e,n)=>e.set(n,t.setHeaders[n]),a)),t.setParams&&(u=Object.keys(t.setParams).reduce((e,n)=>e.set(n,t.setParams[n]),u)),new oS(e,n,i,{params:u,headers:a,reportProgress:o,responseType:r,withCredentials:s})}}var aS=function(t){return t[t.Sent=0]="Sent",t[t.UploadProgress=1]="UploadProgress",t[t.ResponseHeader=2]="ResponseHeader",t[t.DownloadProgress=3]="DownloadProgress",t[t.Response=4]="Response",t[t.User=5]="User",t}({});class uS{constructor(t,e=200,n="OK"){this.headers=t.headers||new XO,this.status=void 0!==t.status?t.status:e,this.statusText=t.statusText||n,this.url=t.url||null,this.ok=this.status>=200&&this.status<300}}class cS extends uS{constructor(t={}){super(t),this.type=aS.ResponseHeader}clone(t={}){return new cS({headers:t.headers||this.headers,status:void 0!==t.status?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}}class lS extends uS{constructor(t={}){super(t),this.type=aS.Response,this.body=void 0!==t.body?t.body:null}clone(t={}){return new lS({body:void 0!==t.body?t.body:this.body,headers:t.headers||this.headers,status:void 0!==t.status?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}}class hS extends uS{constructor(t){super(t,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?"Http failure during parsing for "+(t.url||"(unknown url)"):`Http failure response for ${t.url||"(unknown url)"}: ${t.status} ${t.statusText}`,this.error=t.error||null}}function fS(t,e){return{body:e,headers:t.headers,observe:t.observe,params:t.params,reportProgress:t.reportProgress,responseType:t.responseType,withCredentials:t.withCredentials}}let dS=(()=>{class t{constructor(t){this.handler=t}request(t,e,n={}){let r;if(t instanceof oS)r=t;else{let i=void 0;i=n.headers instanceof XO?n.headers:new XO(n.headers);let s=void 0;n.params&&(s=n.params instanceof nS?n.params:new nS({fromObject:n.params})),r=new oS(t,e,void 0!==n.body?n.body:null,{headers:i,params:s,reportProgress:n.reportProgress,responseType:n.responseType||"json",withCredentials:n.withCredentials})}const i=Object(Ue.a)(r).pipe($y(t=>this.handler.handle(t)));if(t instanceof oS||"events"===n.observe)return i;const s=i.pipe(en(t=>t instanceof lS));switch(n.observe||"body"){case"body":switch(r.responseType){case"arraybuffer":return s.pipe(Object(z.a)(t=>{if(null!==t.body&&!(t.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return t.body}));case"blob":return s.pipe(Object(z.a)(t=>{if(null!==t.body&&!(t.body instanceof Blob))throw new Error("Response is not a Blob.");return t.body}));case"text":return s.pipe(Object(z.a)(t=>{if(null!==t.body&&"string"!=typeof t.body)throw new Error("Response is not a string.");return t.body}));case"json":default:return s.pipe(Object(z.a)(t=>t.body))}case"response":return s;default:throw new Error(`Unreachable: unhandled observe type ${n.observe}}`)}}delete(t,e={}){return this.request("DELETE",t,e)}get(t,e={}){return this.request("GET",t,e)}head(t,e={}){return this.request("HEAD",t,e)}jsonp(t,e){return this.request("JSONP",t,{params:(new nS).append(e,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(t,e={}){return this.request("OPTIONS",t,e)}patch(t,e,n={}){return this.request("PATCH",t,fS(n,e))}post(t,e,n={}){return this.request("POST",t,fS(n,e))}put(t,e,n={}){return this.request("PUT",t,fS(n,e))}}return t.\u0275fac=function(e){return new(e||t)(r.Ob(ZO))},t.\u0275prov=r.Eb({token:t,factory:t.\u0275fac}),t})();class pS{constructor(t,e){this.next=t,this.interceptor=e}handle(t){return this.interceptor.intercept(t,this.next)}}const gS=new r.q("HTTP_INTERCEPTORS");let mS=(()=>{class t{intercept(t,e){return e.handle(t)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=r.Eb({token:t,factory:t.\u0275fac}),t})();const yS=/^\)\]\}',?\n/;class vS{}let bS=(()=>{class t{constructor(){}build(){return new XMLHttpRequest}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=r.Eb({token:t,factory:t.\u0275fac}),t})(),_S=(()=>{class t{constructor(t){this.xhrFactory=t}handle(t){if("JSONP"===t.method)throw new Error("Attempted to construct Jsonp request without HttpClientJsonpModule installed.");return new q.a(e=>{const n=this.xhrFactory.build();if(n.open(t.method,t.urlWithParams),t.withCredentials&&(n.withCredentials=!0),t.headers.forEach((t,e)=>n.setRequestHeader(t,e.join(","))),t.headers.has("Accept")||n.setRequestHeader("Accept","application/json, text/plain, */*"),!t.headers.has("Content-Type")){const e=t.detectContentTypeHeader();null!==e&&n.setRequestHeader("Content-Type",e)}if(t.responseType){const e=t.responseType.toLowerCase();n.responseType="json"!==e?e:"text"}const r=t.serializeBody();let i=null;const s=()=>{if(null!==i)return i;const e=1223===n.status?204:n.status,r=n.statusText||"OK",s=new XO(n.getAllResponseHeaders()),o=function(t){return"responseURL"in t&&t.responseURL?t.responseURL:/^X-Request-URL:/m.test(t.getAllResponseHeaders())?t.getResponseHeader("X-Request-URL"):null}(n)||t.url;return i=new cS({headers:s,status:e,statusText:r,url:o}),i},o=()=>{let{headers:r,status:i,statusText:o,url:a}=s(),u=null;204!==i&&(u=void 0===n.response?n.responseText:n.response),0===i&&(i=u?200:0);let c=i>=200&&i<300;if("json"===t.responseType&&"string"==typeof u){const t=u;u=u.replace(yS,"");try{u=""!==u?JSON.parse(u):null}catch(l){u=t,c&&(c=!1,u={error:l,text:u})}}c?(e.next(new lS({body:u,headers:r,status:i,statusText:o,url:a||void 0})),e.complete()):e.error(new hS({error:u,headers:r,status:i,statusText:o,url:a||void 0}))},a=t=>{const{url:r}=s(),i=new hS({error:t,status:n.status||0,statusText:n.statusText||"Unknown Error",url:r||void 0});e.error(i)};let u=!1;const c=r=>{u||(e.next(s()),u=!0);let i={type:aS.DownloadProgress,loaded:r.loaded};r.lengthComputable&&(i.total=r.total),"text"===t.responseType&&n.responseText&&(i.partialText=n.responseText),e.next(i)},l=t=>{let n={type:aS.UploadProgress,loaded:t.loaded};t.lengthComputable&&(n.total=t.total),e.next(n)};return n.addEventListener("load",o),n.addEventListener("error",a),t.reportProgress&&(n.addEventListener("progress",c),null!==r&&n.upload&&n.upload.addEventListener("progress",l)),n.send(r),e.next({type:aS.Sent}),()=>{n.removeEventListener("error",a),n.removeEventListener("load",o),t.reportProgress&&(n.removeEventListener("progress",c),null!==r&&n.upload&&n.upload.removeEventListener("progress",l)),n.readyState!==n.DONE&&n.abort()}})}}return t.\u0275fac=function(e){return new(e||t)(r.Ob(vS))},t.\u0275prov=r.Eb({token:t,factory:t.\u0275fac}),t})();const wS=new r.q("XSRF_COOKIE_NAME"),ES=new r.q("XSRF_HEADER_NAME");class OS{}let SS=(()=>{class t{constructor(t,e,n){this.doc=t,this.platform=e,this.cookieName=n,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const t=this.doc.cookie||"";return t!==this.lastCookieString&&(this.parseCount++,this.lastToken=x(t,this.cookieName),this.lastCookieString=t),this.lastToken}}return t.\u0275fac=function(e){return new(e||t)(r.Ob(o),r.Ob(r.B),r.Ob(wS))},t.\u0275prov=r.Eb({token:t,factory:t.\u0275fac}),t})(),CS=(()=>{class t{constructor(t,e){this.tokenService=t,this.headerName=e}intercept(t,e){const n=t.url.toLowerCase();if("GET"===t.method||"HEAD"===t.method||n.startsWith("http://")||n.startsWith("https://"))return e.handle(t);const r=this.tokenService.getToken();return null===r||t.headers.has(this.headerName)||(t=t.clone({headers:t.headers.set(this.headerName,r)})),e.handle(t)}}return t.\u0275fac=function(e){return new(e||t)(r.Ob(OS),r.Ob(ES))},t.\u0275prov=r.Eb({token:t,factory:t.\u0275fac}),t})(),TS=(()=>{class t{constructor(t,e){this.backend=t,this.injector=e,this.chain=null}handle(t){if(null===this.chain){const t=this.injector.get(gS,[]);this.chain=t.reduceRight((t,e)=>new pS(t,e),this.backend)}return this.chain.handle(t)}}return t.\u0275fac=function(e){return new(e||t)(r.Ob(YO),r.Ob(r.r))},t.\u0275prov=r.Eb({token:t,factory:t.\u0275fac}),t})(),IS=(()=>{class t{static disable(){return{ngModule:t,providers:[{provide:CS,useClass:mS}]}}static withOptions(e={}){return{ngModule:t,providers:[e.cookieName?{provide:wS,useValue:e.cookieName}:[],e.headerName?{provide:ES,useValue:e.headerName}:[]]}}}return t.\u0275mod=r.Gb({type:t}),t.\u0275inj=r.Fb({factory:function(e){return new(e||t)},providers:[CS,{provide:gS,useExisting:CS,multi:!0},{provide:OS,useClass:SS},{provide:wS,useValue:"XSRF-TOKEN"},{provide:ES,useValue:"X-XSRF-TOKEN"}]}),t})(),xS=(()=>{class t{}return t.\u0275mod=r.Gb({type:t}),t.\u0275inj=r.Fb({factory:function(e){return new(e||t)},providers:[dS,{provide:ZO,useClass:TS},_S,{provide:YO,useExisting:_S},bS,{provide:vS,useExisting:bS}],imports:[[IS.withOptions({cookieName:"XSRF-TOKEN",headerName:"X-XSRF-TOKEN"})]]}),t})(),AS=(()=>{class t{}return t.\u0275mod=r.Gb({type:t,bootstrap:[mw]}),t.\u0275inj=r.Fb({factory:function(e){return new(e||t)},providers:[],imports:[[Fe,gw,JO,ce,ue,xy,on.a.initializeApp(QO),xS]]}),t})();Object(r.S)(),Le().bootstrapModule(AS).catch(t=>console.error(t))},zn8P:function(t,e){function n(t){return Promise.resolve().then(function(){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e})}n.keys=function(){return[]},n.resolve=n,t.exports=n,n.id="zn8P"},zx2A:function(t,e,n){"use strict";n.d(e,"a",function(){return o}),n.d(e,"b",function(){return a}),n.d(e,"c",function(){return u});var r=n("7o/Q"),i=n("HDdC"),s=n("SeVD");class o extends r.a{constructor(t){super(),this.parent=t}_next(t){this.parent.notifyNext(t)}_error(t){this.parent.notifyError(t),this.unsubscribe()}_complete(){this.parent.notifyComplete(),this.unsubscribe()}}class a extends r.a{notifyNext(t){this.destination.next(t)}notifyError(t){this.destination.error(t)}notifyComplete(){this.destination.complete()}}function u(t,e){if(!e.closed)return t instanceof i.a?t.subscribe(e):Object(s.a)(t)(e)}}},[[0,0]]]);